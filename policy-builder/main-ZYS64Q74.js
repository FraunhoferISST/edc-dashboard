var Ex=Object.create;var ep=Object.defineProperty,Ix=Object.defineProperties,Tx=Object.getOwnPropertyDescriptor,xx=Object.getOwnPropertyDescriptors,Sx=Object.getOwnPropertyNames,Xl=Object.getOwnPropertySymbols,Mx=Object.getPrototypeOf,tp=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable;var Fv=(e,t,n)=>t in e?ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||={})tp.call(t,n)&&Fv(e,n,t[n]);if(Xl)for(var n of Xl(t))Lv.call(t,n)&&Fv(e,n,t[n]);return e},B=(e,t)=>Ix(e,xx(t));var Kl=(e,t)=>{var n={};for(var r in e)tp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xl)for(var r of Xl(e))t.indexOf(r)<0&&Lv.call(e,r)&&(n[r]=e[r]);return n};var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ax=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sx(t))!tp.call(e,i)&&i!==n&&ep(e,i,{get:()=>t[i],enumerable:!(r=Tx(t,i))||r.enumerable});return e};var Nx=(e,t,n)=>(n=e!=null?Ex(Mx(e)):{},Ax(t||!e||!e.__esModule?ep(n,"default",{value:e,enumerable:!0}):n,e));var b=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});var Km=M(ai=>{"use strict";var QD=ai&&ai.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},go=ai&&ai.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Qd,Er;Object.defineProperty(ai,"__esModule",{value:!0});ai.EdcConnectorClientContext=void 0;var Xm=class{constructor(t,n){Qd.set(this,void 0),Er.set(this,void 0),QD(this,Qd,t,"f"),QD(this,Er,n,"f")}get default(){return this.getOrError(go(this,Er,"f").default,"default address")}get protocol(){return this.getOrError(go(this,Er,"f").protocol,"protocol address")}get management(){return this.getOrError(go(this,Er,"f").management,"management address")}get control(){return this.getOrError(go(this,Er,"f").control,"control address")}get public(){return this.getOrError(go(this,Er,"f").public,"public address")}get federatedCatalog(){return this.getOrError(go(this,Er,"f").federatedCatalogUrl,"federatedCatalog address")}get apiToken(){return go(this,Qd,"f")}getOrError(t,n){if(t)return t;throw new Error(`'${n}' has not been set on the client`)}};ai.EdcConnectorClientContext=Xm;Qd=new WeakMap,Er=new WeakMap});var XD=M((nW,PF)=>{PF.exports={name:"@think-it-labs/edc-connector-client",version:"0.8.0",description:"EDC Connector HTTP client",private:!1,homepage:"https://github.com/Think-iT-Labs/edc-connector-client",repository:{type:"git",url:"https://github.com/Think-iT-Labs/edc-connector-client"},main:"dist/src/index.js",typings:"dist/src/index.d.ts",scripts:{transpile:"tsc",pretest:"node pretest/edc-openapi.js",test:"jest --forceExit"},engines:{node:">=18"},keywords:["eclipse-edc","edc","dataspace","dataspace-connector"],license:"MIT",dependencies:{"@think-it-labs/typed-error":"^0.3.0",jsonld:"^8.2.1","type-fest":"^4.20.0"},devDependencies:{"@commitlint/config-conventional":"^19.0.3","@types/jest":"^29.5.12","@types/jsonld":"^1.5.8","@types/node":"^22.0.0",commitlint:"^19.0.3",husky:"^9.0.7",jest:"^29.7.0","lint-staged":"^15.0.2",nock:"^14.0.0-beta.6",prettier:"^3.0.1",testcontainers:"^10.9.0","ts-jest":"^29.1.2","ts-node":"^10.9.1",typescript:"^5.1.6"}}});var YD=M(KD=>{"use strict";Object.defineProperty(KD,"__esModule",{value:!0})});var Ym=M(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.JSON_LD_DEFAULT_CONTEXT=mo.EDC_CONTEXT=void 0;mo.EDC_CONTEXT="https://w3id.org/edc/v0.0.1/ns/";mo.JSON_LD_DEFAULT_CONTEXT={"@vocab":mo.EDC_CONTEXT}});var Xd=M((oW,tE)=>{"use strict";tE.exports=class eE{constructor(t,n=new Map,r=0){this.prefix=t,this._existing=n,this.counter=r}clone(){let{prefix:t,_existing:n,counter:r}=this;return new eE(t,new Map(n),r)}getId(t){let n=t&&this._existing.get(t);if(n)return n;let r=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,r),r}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}}});var rE=M(nE=>{"use strict";(function(e,t){"use strict";if(e.setImmediate)return;var n=1,r={},i=!1,o=e.document,s;function a(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var x={callback:_,args:w};return r[n]=x,s(n),n++}function l(_){delete r[_]}function c(_){var w=_.callback,S=_.args;switch(S.length){case 0:w();break;case 1:w(S[0]);break;case 2:w(S[0],S[1]);break;case 3:w(S[0],S[1],S[2]);break;default:w.apply(t,S);break}}function d(_){if(i)setTimeout(d,0,_);else{var w=r[_];if(w){i=!0;try{c(w)}finally{l(_),i=!1}}}}function f(){s=function(_){process.nextTick(function(){d(_)})}}function h(){if(e.postMessage&&!e.importScripts){var _=!0,w=e.onmessage;return e.onmessage=function(){_=!1},e.postMessage("","*"),e.onmessage=w,_}}function u(){var _="setImmediate$"+Math.random()+"$",w=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(_)===0&&d(+S.data.slice(_.length))};e.addEventListener?e.addEventListener("message",w,!1):e.attachEvent("onmessage",w),s=function(S){e.postMessage(_+S,"*")}}function p(){var _=new MessageChannel;_.port1.onmessage=function(w){var S=w.data;d(S)},s=function(w){_.port2.postMessage(w)}}function g(){var _=o.documentElement;s=function(w){var S=o.createElement("script");S.onreadystatechange=function(){d(w),S.onreadystatechange=null,_.removeChild(S),S=null},_.appendChild(S)}}function m(){s=function(_){setTimeout(d,0,_)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?f():h()?u():e.MessageChannel?p():o&&"onreadystatechange"in o.createElement("script")?g():m(),y.setImmediate=a,y.clearImmediate=l})(typeof self>"u"?typeof global>"u"?nE:global:self)});var Il=M((lW,iE)=>{"use strict";rE();var ey=self.crypto||self.msCrypto;iE.exports=class{constructor(t){if(!(ey&&ey.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}digest(){return b(this,null,function*(){let t=new TextEncoder().encode(this._content),n=new Uint8Array(yield ey.subtle.digest(this.algorithm,t)),r="";for(let i=0;i<n.length;++i)r+=n[i].toString(16).padStart(2,"0");return r})}}});var ty=M((dW,oE)=>{"use strict";oE.exports=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<t.length;++n)this.dir.set(t[n],!0)}hasNext(){return!this.done}next(){let{current:t,dir:n}=this,r=t.slice(),i=null,o=0,s=t.length;for(let a=0;a<s;++a){let l=t[a],c=n.get(l);(i===null||l>i)&&(c&&a>0&&l>t[a-1]||!c&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{let a=n.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(let l of t)l>i&&n.set(l,!n.get(l))}return r}}});var ef=M((fW,aE)=>{"use strict";var kF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ny=kF+"langString",ry="http://www.w3.org/2001/XMLSchema#string",En="NamedNode",yo="BlankNode",Kd="Literal",sE="DefaultGraph",Ls={};(()=>{let e="(?:<([^:]+:[^>]*)>)",n="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",r=n+"0-9-\xB7\u0300-\u036F\u203F-\u2040",o="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",c="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",d="[ \\t]+",f="[ \\t]*",h="(?:"+e+"|"+o+")"+d,u=e+d,p="(?:"+e+"|"+o+"|"+c+")"+f,g="(?:\\.|(?:(?:"+e+"|"+o+")"+f+"\\.))";Ls.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Ls.empty=new RegExp("^"+f+"$"),Ls.quad=new RegExp("^"+f+h+u+p+g+f+"$")})();aE.exports=class Yd{static parse(t){let n=[],r={},i=t.split(Ls.eoln),o=0;for(let s of i){if(o++,Ls.empty.test(s))continue;let a=s.match(Ls.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");let l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:En,value:a[1]}:l.subject={termType:yo,value:a[2]},l.predicate={termType:En,value:a[3]},a[4]!==void 0?l.object={termType:En,value:a[4]}:a[5]!==void 0?l.object={termType:yo,value:a[5]}:(l.object={termType:Kd,value:void 0,datatype:{termType:En}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=ny,l.object.language=a[8]):l.object.datatype.value=ry,l.object.value=UF(a[6])),a[9]!==void 0?l.graph={termType:En,value:a[9]}:a[10]!==void 0?l.graph={termType:yo,value:a[10]}:l.graph={termType:sE,value:""},!(l.graph.value in r))r[l.graph.value]=[l],n.push(l);else{let c=!0,d=r[l.graph.value];for(let f of d)if(FF(f,l)){c=!1;break}c&&(d.push(l),n.push(l))}}return n}static serialize(t){Array.isArray(t)||(t=Yd.legacyDatasetToQuads(t));let n=[];for(let r of t)n.push(Yd.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(t,n,r,i){let o="";return t.termType===En?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${n.value}> `,r.termType===En?o+=`<${r.value}>`:r.termType===yo?o+=r.value:(o+=`"${jF(r.value)}"`,r.datatype.value===ny?r.language&&(o+=`@${r.language}`):r.datatype.value!==ry&&(o+=`^^<${r.datatype.value}>`)),i.termType===En?o+=` <${i.value}>`:i.termType===yo&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return Yd.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){let n=[],r={"blank node":yo,IRI:En,literal:Kd};for(let i in t)t[i].forEach(s=>{let a={};for(let l in s){let c=s[l],d={termType:r[c.type],value:c.value};d.termType===Kd&&(d.datatype={termType:En},"datatype"in c&&(d.datatype.value=c.datatype),"language"in c?("datatype"in c||(d.datatype.value=ny),d.language=c.language):"datatype"in c||(d.datatype.value=ry)),a[l]=d}i==="@default"?a.graph={termType:sE,value:""}:a.graph={termType:i.startsWith("_:")?yo:En,value:i},n.push(a)});return n}};function FF(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Kd?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}var LF=/["\\\n\r]/g;function jF(e){return e.replace(LF,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}var VF=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function UF(e){return e.replace(VF,function(t,n,r,i){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(i)throw new Error("Unsupported U escape")})}});var iy=M((hW,uE)=>{"use strict";var lE=Xd(),BF=Il(),$F=ty(),cE=ef();uE.exports=class{constructor({createMessageDigest:t=()=>new BF("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new lE("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){return b(this,null,function*(){this.deepIterations=new Map,this.quads=t;for(let l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});let n=new Map,r=[...this.blankNodeInfo.keys()],i=0;for(let l of r)++i%100===0&&(yield this._yield()),yield this._hashAndTrackBlankNode({id:l,hashToBlankNodes:n});let o=[...n.keys()].sort(),s=[];for(let l of o){let c=n.get(l);if(c.length>1){s.push(c);continue}let d=c[0];this.canonicalIssuer.getId(d)}for(let l of s){let c=[];for(let d of l){if(this.canonicalIssuer.hasId(d))continue;let f=new lE("_:b");f.getId(d);let h=yield this.hashNDegreeQuads(d,f);c.push(h)}c.sort(HF);for(let d of c){let f=d.issuer.getOldIds();for(let h of f)this.canonicalIssuer.getId(h)}}let a=[];for(let l of this.quads){let c=cE.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(c)}return a.sort(),a.join("")})}hashFirstDegreeQuads(t){return b(this,null,function*(){let n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(let s of i){let a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(cE.serializeQuad(a))}n.sort();let o=this.createMessageDigest();for(let s of n)o.update(s);return r.hash=yield o.digest(),r.hash})}hashRelatedBlankNode(t,n,r,i){return b(this,null,function*(){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):r.hasId(t)?o=r.getId(t):o=this.blankNodeInfo.get(t).hash;let s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(o),s.digest()})}hashNDegreeQuads(t,n){return b(this,null,function*(){let r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);let i=this.createMessageDigest(),o=yield this.createHashToRelated(t,n),s=[...o.keys()].sort();for(let a of s){i.update(a);let l="",c,d=new $F(o.get(a)),f=0;for(;d.hasNext();){let h=d.next();++f%3===0&&(yield this._yield());let u=n.clone(),p="",g=[],m=!1;for(let y of h)if(this.canonicalIssuer.hasId(y)?p+=this.canonicalIssuer.getId(y):(u.hasId(y)||g.push(y),p+=u.getId(y)),l.length!==0&&p>l){m=!0;break}if(!m){for(let y of g){let _=yield this.hashNDegreeQuads(y,u);if(p+=u.getId(y),p+=`<${_.hash}>`,u=_.issuer,l.length!==0&&p>l){m=!0;break}}m||(l.length===0||p<l)&&(l=p,c=u)}}i.update(l),n=c}return{hash:yield i.digest(),issuer:n}})}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){return b(this,null,function*(){let r=new Map,i=this.blankNodeInfo.get(t).quads,o=0;for(let s of i)++o%100===0&&(yield this._yield()),yield Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);return r})}_hashAndTrackBlankNode(r){return b(this,arguments,function*({id:t,hashToBlankNodes:n}){let i=yield this.hashFirstDegreeQuads(t),o=n.get(i);o?o.push(t):n.set(i,[t])})}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash(a){return b(this,arguments,function*({quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;let l=n.value,c=yield this.hashRelatedBlankNode(l,t,o,r),d=s.get(c);d?d.push(l):s.set(c,[l])})}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}_yield(){return b(this,null,function*(){return new Promise(t=>setImmediate(t))})}};function HF(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}});var fE=M((yW,dE)=>{"use strict";var qF=Il(),GF=iy();dE.exports=class extends GF{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new qF("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){return b(this,null,function*(){let r=new Map,i=this.blankNodeInfo.get(t).quads,o=0;for(let s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&(yield this._yield());let c=yield this.hashRelatedBlankNode(l,s,n,a),d=r.get(c);d?d.push(l):r.set(c,[l])}return r})}}});var oy=M((_W,gE)=>{"use strict";var pE=Xd(),zF=Il(),WF=ty(),hE=ef();gE.exports=class{constructor({createMessageDigest:t=()=>new zF("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new pE("_:c14n",n),this.createMessageDigest=t,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(let a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});let n=new Map,r=[...this.blankNodeInfo.keys()];for(let a of r)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:n});let i=[...n.keys()].sort(),o=[];for(let a of i){let l=n.get(a);if(l.length>1){o.push(l);continue}let c=l[0];this.canonicalIssuer.getId(c)}for(let a of o){let l=[];for(let c of a){if(this.canonicalIssuer.hasId(c))continue;let d=new pE("_:b");d.getId(c);let f=this.hashNDegreeQuads(c,d);l.push(f)}l.sort(JF);for(let c of l){let d=c.issuer.getOldIds();for(let f of d)this.canonicalIssuer.getId(f)}}let s=[];for(let a of this.quads){let l=hE.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){let n=[],r=this.blankNodeInfo.get(t),i=r.quads;for(let s of i){let a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),n.push(hE.serializeQuad(a))}n.sort();let o=this.createMessageDigest();for(let s of n)o.update(s);return r.hash=o.digest(),r.hash}hashRelatedBlankNode(t,n,r,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):r.hasId(t)?o=r.getId(t):o=this.blankNodeInfo.get(t).hash;let s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(n)),s.update(o),s.digest()}hashNDegreeQuads(t,n){let r=this.deepIterations.get(t)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,r+1);let i=this.createMessageDigest(),o=this.createHashToRelated(t,n),s=[...o.keys()].sort();for(let a of s){i.update(a);let l="",c,d=new WF(o.get(a));for(;d.hasNext();){let f=d.next(),h=n.clone(),u="",p=[],g=!1;for(let m of f)if(this.canonicalIssuer.hasId(m)?u+=this.canonicalIssuer.getId(m):(h.hasId(m)||p.push(m),u+=h.getId(m)),l.length!==0&&u>l){g=!0;break}if(!g){for(let m of p){let y=this.hashNDegreeQuads(m,h);if(u+=h.getId(m),u+=`<${y.hash}>`,h=y.issuer,l.length!==0&&u>l){g=!0;break}}g||(l.length===0||u<l)&&(l=u,c=h)}}i.update(l),n=c}return{hash:i.digest(),issuer:n}}modifyFirstDegreeComponent(t,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,n){let r=new Map,i=this.blankNodeInfo.get(t).quads;for(let o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:t,hashToBlankNodes:n}){let r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo({quad:t,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}){if(!(n.termType==="BlankNode"&&n.value!==i))return;let a=n.value,l=this.hashRelatedBlankNode(a,t,o,r),c=s.get(l);c?c.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function JF(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}});var yE=M((wW,mE)=>{"use strict";var ZF=Il(),QF=oy();mE.exports=class extends QF{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new ZF("sha1")}modifyFirstDegreeComponent(t,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,n){let r=new Map,i=this.blankNodeInfo.get(t).quads;for(let o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;let l=this.hashRelatedBlankNode(a,o,n,s),c=r.get(l);c?c.push(a):r.set(l,[a])}return r}}});var vE=M(()=>{"use strict"});var _E=M(Co=>{"use strict";var XF=iy(),KF=fE(),YF=oy(),eL=yE(),vo;try{vo=vE()}catch{}function CE(e){return Array.isArray(e)?e:Co.NQuads.legacyDatasetToQuads(e)}Co.NQuads=ef();Co.IdentifierIssuer=Xd();Co._rdfCanonizeNative=function(e){return e&&(vo=e),vo};Co.canonize=function(e,t){return b(this,null,function*(){let n=CE(e,t);if(t.useNative){if(!vo)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((r,i)=>vo.canonize(n,t,(o,s)=>o?i(o):r(s)))}if(t.algorithm==="URDNA2015")return new XF(t).main(n);if(t.algorithm==="URGNA2012"){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new KF(t).main(n)}throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")})};Co._canonizeSync=function(e,t){let n=CE(e,t);if(t.useNative){if(!vo)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return vo.canonizeSync(n,t)}if(t.algorithm==="URDNA2015")return new YF(t).main(n);if(t.algorithm==="URGNA2012"){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new eL(t).main(n)}throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}});var tf=M((xW,bE)=>{"use strict";bE.exports=_E()});var At=M((SW,wE)=>{"use strict";var en={};wE.exports=en;en.isArray=Array.isArray;en.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";en.isDouble=e=>en.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);en.isEmptyObject=e=>en.isObject(e)&&Object.keys(e).length===0;en.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";en.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);en.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";en.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";en.isUndefined=e=>typeof e>"u"});var Wn=M((MW,DE)=>{"use strict";var _o=At(),Ir={};DE.exports=Ir;Ir.isSubject=e=>_o.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Ir.isSubjectReference=e=>_o.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Ir.isValue=e=>_o.isObject(e)&&"@value"in e;Ir.isList=e=>_o.isObject(e)&&"@list"in e;Ir.isGraph=e=>_o.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Ir.isSimpleGraph=e=>Ir.isGraph(e)&&!("@id"in e);Ir.isBlankNode=e=>{if(_o.isObject(e)){if("@id"in e){let t=e["@id"];return!_o.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1}});var Vt=M((NW,EE)=>{"use strict";EE.exports=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(t),this.name=n,this.message=t,this.details=r}}});var Ut=M((OW,xE)=>{"use strict";var Tl=Wn(),st=At(),TE=tf().IdentifierIssuer,tL=Vt(),nL=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,rL=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,iL=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,oL=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,sL=/^@[a-zA-Z]+$/,IE={headers:{accept:"application/ld+json, application/json"}},pe={};xE.exports=pe;pe.IdentifierIssuer=TE;pe.REGEX_BCP47=nL;pe.REGEX_KEYWORD=sL;pe.clone=function(e){if(e&&typeof e=="object"){let t;if(st.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=pe.clone(e[n])}else if(e instanceof Map){t=new Map;for(let[n,r]of e)t.set(n,pe.clone(r))}else if(e instanceof Set){t=new Set;for(let n of e)t.add(pe.clone(n))}else if(st.isObject(e)){t={};for(let n in e)t[n]=pe.clone(e[n])}else t=e.toString();return t}return e};pe.asArray=function(e){return Array.isArray(e)?e:[e]};pe.buildHeaders=(e={})=>{if(Object.keys(e).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+IE.headers.accept+'" is supported.');return Object.assign({Accept:IE.headers.accept},e)};pe.parseLinkHeader=e=>{let t={},n=e.match(rL);for(let r=0;r<n.length;++r){let i=n[r].match(iL);if(!i)continue;let o={target:i[1]},s=i[2];for(;i=oL.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];let a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};pe.validateTypeValue=(e,t)=>{if(!st.isString(e)&&!(st.isArray(e)&&e.every(n=>st.isString(n)))){if(t&&st.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&pe.asArray(e["@default"]).every(n=>st.isString(n)))return}throw new tL('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};pe.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let n=e[t];return!st.isArray(n)||n.length>0}return!1};pe.hasValue=(e,t,n)=>{if(pe.hasProperty(e,t)){let r=e[t],i=Tl.isList(r);if(st.isArray(r)||i){i&&(r=r["@list"]);for(let o=0;o<r.length;++o)if(pe.compareValues(n,r[o]))return!0}else if(!st.isArray(n))return pe.compareValues(n,r)}return!1};pe.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(st.isArray(n)){n.length===0&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)pe.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){let i=!r.allowDuplicate&&pe.hasValue(e,t,n);!st.isArray(e[t])&&(!i||r.propertyIsArray)&&(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n};pe.getValues=(e,t)=>[].concat(e[t]||[]);pe.removeProperty=(e,t)=>{delete e[t]};pe.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);let i=pe.getValues(e,t).filter(o=>!pe.compareValues(o,n));i.length===0?pe.removeProperty(e,t):i.length===1&&!r.propertyIsArray?e[t]=i[0]:e[t]=i};pe.relabelBlankNodes=(e,t)=>{t=t||{};let n=t.issuer||new TE("_:b");return nf(n,e)};pe.compareValues=(e,t)=>e===t||Tl.isValue(e)&&Tl.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:st.isObject(e)&&"@id"in e&&st.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;pe.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function nf(e,t){if(st.isArray(t))for(let n=0;n<t.length;++n)t[n]=nf(e,t[n]);else if(Tl.isList(t))t["@list"]=nf(e,t["@list"]);else if(st.isObject(t)){Tl.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));let n=Object.keys(t).sort();for(let r=0;r<n.length;++r){let i=n[r];i!=="@id"&&(t[i]=nf(e,t[i]))}}return t}});var rf=M((RW,SE)=>{"use strict";var In="http://www.w3.org/1999/02/22-rdf-syntax-ns#",xl="http://www.w3.org/2001/XMLSchema#";SE.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:In,RDF_LIST:In+"List",RDF_FIRST:In+"first",RDF_REST:In+"rest",RDF_NIL:In+"nil",RDF_TYPE:In+"type",RDF_PLAIN_LITERAL:In+"PlainLiteral",RDF_XML_LITERAL:In+"XMLLiteral",RDF_JSON_LITERAL:In+"JSON",RDF_OBJECT:In+"object",RDF_LANGSTRING:In+"langString",XSD:xl,XSD_BOOLEAN:xl+"boolean",XSD_DOUBLE:xl+"double",XSD_INTEGER:xl+"integer",XSD_STRING:xl+"string"}});var sy=M((kW,ME)=>{"use strict";ME.exports=class{constructor(){this._requests={}}wrapLoader(t){let n=this;return n._loader=t,function(){return n.add.apply(n,arguments)}}add(t){return b(this,null,function*(){let n=this._requests[t];if(n)return Promise.resolve(n);n=this._requests[t]=this._loader(t);try{return yield n}finally{delete this._requests[t]}})}}});var Tr=M((LW,AE)=>{"use strict";var of=At(),at={};AE.exports=at;at.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};at.parse=(e,t)=>{let n={},r=at.parsers[t||"full"],i=r.regex.exec(e),o=r.keys.length;for(;o--;)n[r.keys[o]]=i[o]===void 0?null:i[o];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=at.removeDotSegments(n.path),n};at.prependBase=(e,t)=>{if(e===null||at.isAbsolute(t))return t;(!e||of.isString(e))&&(e=at.parse(e||""));let n=at.parse(t),r={protocol:e.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=e.authority,n.path==="")r.path=e.path,n.query!==null?r.query=n.query:r.query=e.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=n.path,r.path=o}r.query=n.query}n.path!==""&&(r.path=at.removeDotSegments(r.path));let i=r.protocol;return r.authority!==null&&(i+="//"+r.authority),i+=r.path,r.query!==null&&(i+="?"+r.query),n.fragment!==null&&(i+="#"+n.fragment),i===""&&(i="./"),i};at.removeBase=(e,t)=>{if(e===null)return t;(!e||of.isString(e))&&(e=at.parse(e||""));let n="";if(e.href!==""?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),t.indexOf(n)!==0)return t;let r=at.parse(t.substr(n.length)),i=e.normalizedPath.split("/"),o=r.normalizedPath.split("/"),s=r.fragment||r.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),r.query!==null&&(a+="?"+r.query),r.fragment!==null&&(a+="#"+r.fragment),a===""&&(a="./"),a};at.removeDotSegments=e=>{if(e.length===0)return"";let t=e.split("/"),n=[];for(;t.length>0;){let r=t.shift(),i=t.length===0;if(r==="."){i&&n.push("");continue}if(r===".."){n.pop(),i&&n.push("");continue}n.push(r)}return e[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};var aL=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;at.isAbsolute=e=>of.isString(e)&&aL.test(e);at.isRelative=e=>of.isString(e)});var OE=M((jW,NE)=>{"use strict";var{parseLinkHeader:lL,buildHeaders:cL}=Ut(),{LINK_HEADER_CONTEXT:uL}=rf(),Sl=Vt(),dL=sy(),{prependBase:fL}=Tr(),pL=/(^|(\r\n))link:/i;NE.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=cL(t),new dL().wrapLoader(i);function i(o){return b(this,null,function*(){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new Sl('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new Sl(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=yield hL(n,o,t)}catch(f){throw new Sl("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:f})}if(s.status>=400)throw new Sl("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null,c=s.getResponseHeader("Content-Type"),d;if(pL.test(s.getAllResponseHeaders())&&(d=s.getResponseHeader("Link")),d&&c!=="application/ld+json"){let f=lL(d),h=f[uL];if(Array.isArray(h))throw new Sl("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(a.contextUrl=h.target),l=f.alternate,l&&l.type=="application/ld+json"&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(a=yield i(fL(o,l.target)))}return a})}};function hL(e,t,n){e=e||XMLHttpRequest;let r=new e;return new Promise((i,o)=>{r.onload=()=>i(r),r.onerror=s=>o(s),r.open("GET",t,!0);for(let s in n)r.setRequestHeader(s,n[s]);r.send()})}});var PE=M((UW,RE)=>{"use strict";var gL=OE(),ay={};RE.exports=ay;ay.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=gL,e.useDocumentLoader("xhr"))};ay.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}});var FE=M((BW,kE)=>{"use strict";kE.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var jE=M(($W,LE)=>{"use strict";LE.exports=de;de.Node=bo;de.create=de;function de(e){var t=this;if(t instanceof de||(t=new de),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}de.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};de.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};de.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};de.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)yL(this,arguments[e]);return this.length};de.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)vL(this,arguments[e]);return this.length};de.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};de.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};de.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};de.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};de.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};de.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};de.prototype.map=function(e,t){t=t||this;for(var n=new de,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};de.prototype.mapReverse=function(e,t){t=t||this;for(var n=new de,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};de.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};de.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};de.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};de.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};de.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new de;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};de.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new de;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};de.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=mL(this,i,n[r]);return o};de.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function mL(e,t,n){var r=t===e.head?new bo(n,null,t,e):new bo(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function yL(e,t){e.tail=new bo(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function vL(e,t){e.head=new bo(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function bo(e,t,n,r){if(!(this instanceof bo))return new bo(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{FE()(de)}catch{}});var fy=M((HW,$E)=>{"use strict";var CL=jE(),wo=Symbol("max"),Sr=Symbol("length"),js=Symbol("lengthCalculator"),Al=Symbol("allowStale"),Do=Symbol("maxAge"),xr=Symbol("dispose"),VE=Symbol("noDisposeOnSet"),Je=Symbol("lruList"),Tn=Symbol("cache"),BE=Symbol("updateAgeOnGet"),ly=()=>1,uy=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let n=this[wo]=t.max||1/0,r=t.length||ly;if(this[js]=typeof r!="function"?ly:r,this[Al]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Do]=t.maxAge||0,this[xr]=t.dispose,this[VE]=t.noDisposeOnSet||!1,this[BE]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[wo]=t||1/0,Ml(this)}get max(){return this[wo]}set allowStale(t){this[Al]=!!t}get allowStale(){return this[Al]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Do]=t,Ml(this)}get maxAge(){return this[Do]}set lengthCalculator(t){typeof t!="function"&&(t=ly),t!==this[js]&&(this[js]=t,this[Sr]=0,this[Je].forEach(n=>{n.length=this[js](n.value,n.key),this[Sr]+=n.length})),Ml(this)}get lengthCalculator(){return this[js]}get length(){return this[Sr]}get itemCount(){return this[Je].length}rforEach(t,n){n=n||this;for(let r=this[Je].tail;r!==null;){let i=r.prev;UE(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Je].head;r!==null;){let i=r.next;UE(this,t,r,n),r=i}}keys(){return this[Je].toArray().map(t=>t.key)}values(){return this[Je].toArray().map(t=>t.value)}reset(){this[xr]&&this[Je]&&this[Je].length&&this[Je].forEach(t=>this[xr](t.key,t.value)),this[Tn]=new Map,this[Je]=new CL,this[Sr]=0}dump(){return this[Je].map(t=>sf(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Je]}set(t,n,r){if(r=r||this[Do],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[js](n,t);if(this[Tn].has(t)){if(o>this[wo])return Vs(this,this[Tn].get(t)),!1;let l=this[Tn].get(t).value;return this[xr]&&(this[VE]||this[xr](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[Sr]+=o-l.length,l.length=o,this.get(t),Ml(this),!0}let s=new dy(t,n,o,i,r);return s.length>this[wo]?(this[xr]&&this[xr](t,n),!1):(this[Sr]+=s.length,this[Je].unshift(s),this[Tn].set(t,this[Je].head),Ml(this),!0)}has(t){if(!this[Tn].has(t))return!1;let n=this[Tn].get(t).value;return!sf(this,n)}get(t){return cy(this,t,!0)}peek(t){return cy(this,t,!1)}pop(){let t=this[Je].tail;return t?(Vs(this,t),t.value):null}del(t){Vs(this,this[Tn].get(t))}load(t){this.reset();let n=Date.now();for(let r=t.length-1;r>=0;r--){let i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Tn].forEach((t,n)=>cy(this,n,!1))}},cy=(e,t,n)=>{let r=e[Tn].get(t);if(r){let i=r.value;if(sf(e,i)){if(Vs(e,r),!e[Al])return}else n&&(e[BE]&&(r.value.now=Date.now()),e[Je].unshiftNode(r));return i.value}},sf=(e,t)=>{if(!t||!t.maxAge&&!e[Do])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Do]&&n>e[Do]},Ml=e=>{if(e[Sr]>e[wo])for(let t=e[Je].tail;e[Sr]>e[wo]&&t!==null;){let n=t.prev;Vs(e,t),t=n}},Vs=(e,t)=>{if(t){let n=t.value;e[xr]&&e[xr](n.key,n.value),e[Sr]-=n.length,e[Tn].delete(n.key),e[Je].removeNode(t)}},dy=class{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},UE=(e,t,n,r)=>{let i=n.value;sf(e,i)&&(Vs(e,n),e[Al]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};$E.exports=uy});var qE=M((GW,HE)=>{"use strict";var _L=fy(),bL=10;HE.exports=class{constructor({document:t}){this.document=t,this.cache=new _L({max:bL})}getProcessed(t){return this.cache.get(t)}setProcessed(t,n){this.cache.set(t,n)}}});var JE=M((WW,WE)=>{"use strict";var{isArray:py,isObject:Ol,isString:af}=At(),{asArray:wL}=Ut(),{prependBase:hy}=Tr(),Nl=Vt(),GE=qE(),zE=10;WE.exports=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}resolve(s){return b(this,arguments,function*({activeCtx:t,context:n,documentLoader:r,base:i,cycles:o=new Set}){n&&Ol(n)&&n["@context"]&&(n=n["@context"]),n=wL(n);let a=[];for(let l of n){if(af(l)){let f=this._get(l);f||(f=yield this._resolveRemoteContext({activeCtx:t,url:l,documentLoader:r,base:i,cycles:o})),py(f)?a.push(...f):a.push(f);continue}if(l===null){a.push(new GE({document:null}));continue}Ol(l)||DL(n);let c=JSON.stringify(l),d=this._get(c);d||(d=new GE({document:l}),this._cacheResolvedContext({key:c,resolved:d,tag:"static"})),a.push(d)}return a})}_get(t){let n=this.perOpCache.get(t);if(!n){let r=this.sharedCache.get(t);r&&(n=r.get("static"),n&&this.perOpCache.set(t,n))}return n}_cacheResolvedContext({key:t,resolved:n,tag:r}){if(this.perOpCache.set(t,n),r!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(r,n)}return n}_resolveRemoteContext(s){return b(this,arguments,function*({activeCtx:t,url:n,documentLoader:r,base:i,cycles:o}){n=hy(i,n);let{context:a,remoteDoc:l}=yield this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:o});i=l.documentUrl||n,gy({context:a,base:i});let c=yield this.resolve({activeCtx:t,context:a,documentLoader:r,base:i,cycles:o});return this._cacheResolvedContext({key:n,resolved:c,tag:l.tag}),c})}_fetchContext(o){return b(this,arguments,function*({activeCtx:t,url:n,documentLoader:r,cycles:i}){if(i.size>zE)throw new Nl("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:zE});if(i.has(n))throw new Nl("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});i.add(n);let s,a;try{a=yield r(n),s=a.document||null,af(s)&&(s=JSON.parse(s))}catch(l){throw new Nl(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${n}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:l})}if(!Ol(s))throw new Nl(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${n}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in s?s={"@context":s["@context"]}:s={"@context":{}},a.contextUrl&&(py(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(a.contextUrl)),{context:s,remoteDoc:a}})}};function DL(e){throw new Nl("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function gy({context:e,base:t}){if(!e)return;let n=e["@context"];if(af(n)){e["@context"]=hy(t,n);return}if(py(n)){for(let r=0;r<n.length;++r){let i=n[r];if(af(i)){n[r]=hy(t,i);continue}Ol(i)&&gy({context:{"@context":i},base:t})}return}if(Ol(n))for(let r in n)gy({context:n[r],base:t})}});var QE=M((ZW,ZE)=>{"use strict";ZE.exports=tf().NQuads});var Us=M((QW,YE)=>{"use strict";var my=Vt(),{isArray:EL}=At(),{asArray:XE}=Ut(),Bt={};YE.exports=Bt;Bt.defaultEventHandler=null;Bt.setupEventHandler=({options:e={}})=>{let t=[].concat(e.safe?Bt.safeEventHandler:[],e.eventHandler?XE(e.eventHandler):[],Bt.defaultEventHandler?Bt.defaultEventHandler:[]);return t.length===0?null:t};Bt.handleEvent=({event:e,options:t})=>{KE({event:e,handlers:t.eventHandler})};function KE({event:e,handlers:t}){let n=!0;for(let r=0;n&&r<t.length;++r){n=!1;let i=t[r];if(EL(i))n=KE({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{n=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{n=!0}}):n=!0;else throw new my("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return n}var IL=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Bt.safeEventHandler=function({event:t,next:n}){if(t.level==="warning"&&IL.has(t.code))throw new my("Safe mode validation error.","jsonld.ValidationError",{event:t});n()};Bt.logEventHandler=function({event:t,next:n}){console.log(`EVENT: ${t.message}`,{event:t}),n()};Bt.logWarningEventHandler=function({event:t,next:n}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),n()};Bt.unhandledEventHandler=function({event:t}){throw new my("No handler for event.","jsonld.UnhandledEvent",{event:t})};Bt.setDefaultEventHandler=function({eventHandler:e}={}){Bt.defaultEventHandler=e?XE(e):null}});var ci=M((rI,iI)=>{"use strict";var eI=Ut(),$=Vt(),{isArray:tI,isObject:li,isString:Nt,isUndefined:TL}=At(),{isAbsolute:Eo,isRelative:xL,prependBase:Rl}=Tr(),{handleEvent:$s}=Us(),{REGEX_BCP47:SL,REGEX_KEYWORD:cf,asArray:nI,compareShortestLeast:ML}=Ut(),lf=new Map,AL=1e4,Ie={};iI.exports=Ie;Ie.process=s=>b(null,[s],function*({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:i=!1,cycles:o=new Set}){if(li(t)&&"@context"in t&&tI(t["@context"])&&(t=t["@context"]),nI(t).length===0)return e;let l=[],c=[({event:u,next:p})=>{l.push(u),p()}];n.eventHandler&&c.push(n.eventHandler);let d=n;n=B(I({},n),{eventHandler:c});let f=yield n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});li(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(r=f[0].document["@propagate"]);let h=e;!r&&!h.previousContext&&(h=h.clone(),h.previousContext=e);for(let u of f){let{document:p}=u;if(e=h,p===null){if(!i&&Object.keys(e.protected).length!==0)throw new $("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});h=e=Ie.getInitialContext(n).clone();continue}let g=u.getProcessed(e);if(g){if(d.eventHandler)for(let y of g.events)$s({event:y,options:d});h=e=g.context;continue}if(li(p)&&"@context"in p&&(p=p["@context"]),!li(p))throw new $("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:p});h=h.clone();let m=new Map;if("@version"in p){if(p["@version"]!==1.1)throw new $("Unsupported JSON-LD version: "+p["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:p});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new $("@version: "+p["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:p});h.processingMode="json-ld-1.1",h["@version"]=p["@version"],m.set("@version",!0)}if(h.processingMode=h.processingMode||e.processingMode,"@base"in p){let y=p["@base"];if(!(y===null||Eo(y)))if(xL(y))y=Rl(h["@base"],y);else throw new $('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:p});h["@base"]=y,m.set("@base",!0)}if("@vocab"in p){let y=p["@vocab"];if(y===null)delete h["@vocab"];else if(Nt(y)){if(!Eo(y)&&Ie.processingMode(h,1))throw new $('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});{let _=Bs(h,y,{vocab:!0,base:!0},void 0,void 0,n);Eo(_)||n.eventHandler&&$s({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:_}},options:n}),h["@vocab"]=_}}else throw new $('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});m.set("@vocab",!0)}if("@language"in p){let y=p["@language"];if(y===null)delete h["@language"];else if(Nt(y))y.match(SL)||n.eventHandler&&$s({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:y}},options:n}),h["@language"]=y.toLowerCase();else throw new $('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:p});m.set("@language",!0)}if("@direction"in p){let y=p["@direction"];if(e.processingMode==="json-ld-1.0")throw new $("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:p});if(y===null)delete h["@direction"];else{if(y!=="ltr"&&y!=="rtl")throw new $('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:p});h["@direction"]=y}m.set("@direction",!0)}if("@propagate"in p){let y=p["@propagate"];if(e.processingMode==="json-ld-1.0")throw new $("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(typeof y!="boolean")throw new $("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});m.set("@propagate",!0)}if("@import"in p){let y=p["@import"];if(e.processingMode==="json-ld-1.0")throw new $("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(!Nt(y))throw new $("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});let _=yield n.contextResolver.resolve({activeCtx:e,context:y,documentLoader:n.documentLoader,base:n.base});if(_.length!==1)throw new $("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});let w=_[0].getProcessed(e);if(w)p=w;else{let S=_[0].document;if("@import"in S)throw new $("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(let x in S)p.hasOwnProperty(x)||(p[x]=S[x]);_[0].setProcessed(e,p)}m.set("@import",!0)}m.set("@protected",p["@protected"]||!1);for(let y in p)if(Ie.createTermDefinition({activeCtx:h,localCtx:p,term:y,defined:m,options:n,overrideProtected:i}),li(p[y])&&"@context"in p[y]){let _=p[y]["@context"],w=!0;if(Nt(_)){let S=Rl(n.base,_);o.has(S)?w=!1:o.add(S)}if(w)try{yield Ie.process({activeCtx:h.clone(),localCtx:p[y]["@context"],overrideProtected:!0,options:n,cycles:o})}catch{throw new $("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:p[y]["@context"],term:y})}}u.setProcessed(e,{context:h,events:l})}return h});Ie.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:i,overrideProtected:o=!1})=>{if(r.has(n)){if(r.get(n))return;throw new $("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}r.set(n,!1);let s;if(t.hasOwnProperty(n)&&(s=t[n]),n==="@type"&&li(s)&&(s["@container"]||"@set")==="@set"&&Ie.processingMode(e,1.1)){let u=["@container","@id","@protected"],p=Object.keys(s);if(p.length===0||p.some(g=>!u.includes(g)))throw new $("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(Ie.isKeyword(n))throw new $("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(cf)){i.eventHandler&&$s({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:i});return}else if(n==="")throw new $("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}let a=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let l=!1;if((Nt(s)||s===null)&&(l=!0,s={"@id":s}),!li(s))throw new $("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let c={};e.mappings.set(n,c),c.reverse=!1;let d=["@container","@id","@language","@reverse","@type"];Ie.processingMode(e,1.1)&&d.push("@context","@direction","@index","@nest","@prefix","@protected");for(let u in s)if(!d.includes(u))throw new $("Invalid JSON-LD syntax; a term definition must not contain "+u,"jsonld.SyntaxError",{code:"invalid term definition",context:t});let f=n.indexOf(":");if(c._termHasColon=f>0,"@reverse"in s){if("@id"in s)throw new $("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new $("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});let u=s["@reverse"];if(!Nt(u))throw new $("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(u.match(cf)){i.eventHandler&&$s({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:u}},options:i}),a?e.mappings.set(n,a):e.mappings.delete(n);return}let p=Bs(e,u,{vocab:!0,base:!1},t,r,i);if(!Eo(p))throw new $("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c.reverse=!0}else if("@id"in s){let u=s["@id"];if(u&&!Nt(u))throw new $("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(u===null)c["@id"]=null;else if(!Ie.isKeyword(u)&&u.match(cf)){i.eventHandler&&$s({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:u}},options:i}),a?e.mappings.set(n,a):e.mappings.delete(n);return}else if(u!==n){if(u=Bs(e,u,{vocab:!0,base:!1},t,r,i),!Eo(u)&&!Ie.isKeyword(u))throw new $("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){let p=new Map(r).set(n,!0);if(Bs(e,n,{vocab:!0,base:!1},t,p,i)!==u)throw new $("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}c["@id"]=u,c._prefix=l&&!c._termHasColon&&u.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in c))if(c._termHasColon){let u=n.substr(0,f);if(t.hasOwnProperty(u)&&Ie.createTermDefinition({activeCtx:e,localCtx:t,term:u,defined:r,options:i}),e.mappings.has(u)){let p=n.substr(f+1);c["@id"]=e.mappings.get(u)["@id"]+p}else c["@id"]=n}else if(n==="@type")c["@id"]=n;else{if(!("@vocab"in e))throw new $("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});c["@id"]=e["@vocab"]+n}if((s["@protected"]===!0||r.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[n]=!0,c.protected=!0),r.set(n,!0),"@type"in s){let u=s["@type"];if(!Nt(u))throw new $("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(u==="@json"||u==="@none"){if(Ie.processingMode(e,1))throw new $(`Invalid JSON-LD syntax; an @context @type value must not be "${u}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(u!=="@id"&&u!=="@vocab"){if(u=Bs(e,u,{vocab:!0,base:!1},t,r,i),!Eo(u))throw new $("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(u.indexOf("_:")===0)throw new $("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=u}if("@container"in s){let u=Nt(s["@container"])?[s["@container"]]:s["@container"]||[],p=["@list","@set","@index","@language"],g=!0,m=u.includes("@set");if(Ie.processingMode(e,1.1)){if(p.push("@graph","@id","@type"),u.includes("@list")){if(u.length!==1)throw new $("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(u.includes("@graph")){if(u.some(y=>y!=="@graph"&&y!=="@id"&&y!=="@index"&&y!=="@set"))throw new $("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else g&=u.length<=(m?2:1);if(u.includes("@type")&&(c["@type"]=c["@type"]||"@id",!["@id","@vocab"].includes(c["@type"])))throw new $("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else g&=!tI(s["@container"]),g&=u.length<=1;if(g&=u.every(y=>p.includes(y)),g&=!(m&&u.includes("@list")),!g)throw new $("Invalid JSON-LD syntax; @context @container value must be one of the following: "+p.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!u.every(y=>["@index","@set"].includes(y)))throw new $("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=u}if("@index"in s){if(!("@container"in s)||!c["@container"].includes("@index"))throw new $(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Nt(s["@index"])||s["@index"].indexOf("@")===0)throw new $(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});c["@index"]=s["@index"]}if("@context"in s&&(c["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let u=s["@language"];if(u!==null&&!Nt(u))throw new $("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});u!==null&&(u=u.toLowerCase()),c["@language"]=u}if("@prefix"in s){if(n.match(/:|\//))throw new $("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(Ie.isKeyword(c["@id"]))throw new $("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")c._prefix=s["@prefix"]===!0;else throw new $("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){let u=s["@direction"];if(u!==null&&u!=="ltr"&&u!=="rtl")throw new $('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});c["@direction"]=u}if("@nest"in s){let u=s["@nest"];if(!Nt(u)||u!=="@nest"&&u.indexOf("@")===0)throw new $("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=u}let h=c["@id"];if(h==="@context"||h==="@preserve")throw new $("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[n]=!0,c.protected=!0,!yy(a,c)))throw new $("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})};Ie.expandIri=(e,t,n,r)=>Bs(e,t,n,void 0,void 0,r);function Bs(e,t,n,r,i,o){if(t===null||!Nt(t)||Ie.isKeyword(t))return t;if(t.match(cf))return null;if(r&&r.hasOwnProperty(t)&&i.get(t)!==!0&&Ie.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),n=n||{},n.vocab){let a=e.mappings.get(t);if(a===null)return null;if(li(a)&&"@id"in a)return a["@id"]}let s=t.indexOf(":");if(s>0){let a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;r&&r.hasOwnProperty(a)&&Ie.createTermDefinition({activeCtx:e,localCtx:r,term:a,defined:i,options:o});let c=e.mappings.get(a);if(c&&c._prefix)return c["@id"]+l;if(Eo(t))return t}if(n.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(n.base){let a,l;"@base"in e?e["@base"]?(l=Rl(o.base,e["@base"]),a=Rl(l,t)):(l=e["@base"],a=t):(l=o.base,a=Rl(o.base,t)),t=a}return t}Ie.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),n=lf.get(t);if(n)return n;let r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return lf.size===AL&&lf.clear(),lf.set(t,r),r;function i(){let c=this;if(c.inverse)return c.inverse;let d=c.inverse={},f=c.fastCurieMap={},h={},u=(c["@language"]||"@none").toLowerCase(),p=c["@direction"],g=c.mappings,m=[...g.keys()].sort(ML);for(let y of m){let _=g.get(y);if(_===null)continue;let w=_["@container"]||"@none";if(w=[].concat(w).sort().join(""),_["@id"]===null)continue;let S=nI(_["@id"]);for(let x of S){let O=d[x],F=Ie.isKeyword(x);if(O)!F&&!_._termHasColon&&h[x].push(y);else if(d[x]=O={},!F&&!_._termHasColon){h[x]=[y];let Ce={iri:x,terms:h[x]};x[0]in f?f[x[0]].push(Ce):f[x[0]]=[Ce]}if(O[w]||(O[w]={"@language":{},"@type":{},"@any":{}}),O=O[w],s(y,O["@any"],"@none"),_.reverse)s(y,O["@type"],"@reverse");else if(_["@type"]==="@none")s(y,O["@any"],"@none"),s(y,O["@language"],"@none"),s(y,O["@type"],"@none");else if("@type"in _)s(y,O["@type"],_["@type"]);else if("@language"in _&&"@direction"in _){let Ce=_["@language"],Ee=_["@direction"];Ce&&Ee?s(y,O["@language"],`${Ce}_${Ee}`.toLowerCase()):Ce?s(y,O["@language"],Ce.toLowerCase()):Ee?s(y,O["@language"],`_${Ee}`):s(y,O["@language"],"@null")}else"@language"in _?s(y,O["@language"],(_["@language"]||"@null").toLowerCase()):"@direction"in _?_["@direction"]?s(y,O["@language"],`_${_["@direction"]}`):s(y,O["@language"],"@none"):p?(s(y,O["@language"],`_${p}`),s(y,O["@language"],"@none"),s(y,O["@type"],"@none")):(s(y,O["@language"],u),s(y,O["@language"],"@none"),s(y,O["@type"],"@none"))}}for(let y in f)o(f,y,1);return d}function o(c,d,f){let h=c[d],u=c[d]={},p,g;for(let m of h)p=m.iri,f>=p.length?g="":g=p[f],g in u?u[g].push(m):u[g]=[m];for(let m in u)m!==""&&o(u,m,f+1)}function s(c,d,f){d.hasOwnProperty(f)||(d[f]=c)}function a(){let c={};return c.mappings=eI.clone(this.mappings),c.clone=this.clone,c.inverse=null,c.getInverse=this.getInverse,c.protected=eI.clone(this.protected),this.previousContext&&(c.previousContext=this.previousContext.clone()),c.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(c["@base"]=this["@base"]),"@language"in this&&(c["@language"]=this["@language"]),"@vocab"in this&&(c["@vocab"]=this["@vocab"]),c}function l(){return this.previousContext?this.previousContext.clone():this}};Ie.getContextValue=(e,t,n)=>{if(t===null)return n==="@context"?void 0:null;if(e.mappings.has(t)){let r=e.mappings.get(t);if(TL(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in e||n==="@direction"&&n in e)return e[n];if(n!=="@context")return null};Ie.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";Ie.isKeyword=e=>{if(!Nt(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function yy(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;let n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!yy(e[o],t[o]))return!1;return!0}let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!yy(s,a))return!1}return!0}});var dI=M((cI,uI)=>{"use strict";var Te=Vt(),{isArray:rn,isObject:tn,isEmptyObject:_y,isString:lt,isUndefined:ff}=At(),{isList:vy,isValue:by,isGraph:NL,isSubject:OL}=Wn(),{expandIri:Le,getContextValue:Ht,isKeyword:wy,process:Pl,processingMode:uf}=ci(),{isAbsolute:df}=Tr(),{REGEX_BCP47:oI,REGEX_KEYWORD:RL,addValue:$t,asArray:xn,getValues:PL,validateTypeValue:kL}=Ut(),{handleEvent:nn}=Us(),ui={};uI.exports=ui;ui.expand=a=>b(null,[a],function*({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null}){if(n==null)return null;if(t==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!rn(n)&&!tn(n))return!i&&(t===null||Le(e,t,{vocab:!0},r)==="@graph")?(r.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):lI({activeCtx:e,activeProperty:t,value:n,options:r});if(rn(n)){let g=[],m=Ht(e,t,"@container")||[];i=i||m.includes("@list");for(let y=0;y<n.length;++y){let _=yield ui.expand({activeCtx:e,activeProperty:t,element:n[y],options:r,insideIndex:o,typeScopedContext:s});i&&rn(_)&&(_={"@list":_}),_!==null&&(rn(_)?g=g.concat(_):g.push(_))}return g}let l=Le(e,t,{vocab:!0},r),c=Ht(e,t,"@context");s=s||(e.previousContext?e:null);let d=Object.keys(n).sort(),f=!o;if(f&&s&&d.length<=2&&!d.includes("@context"))for(let g of d){let m=Le(s,g,{vocab:!0},r);if(m==="@value"){f=!1,e=s;break}if(m==="@id"&&d.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),ff(c)||(e=yield Pl({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=yield Pl({activeCtx:e,localCtx:n["@context"],options:r})),s=e;let h=null;for(let g of d)if(Le(e,g,{vocab:!0},r)==="@type"){h=h||g;let y=n[g],_=Array.isArray(y)?y.length>1?y.slice().sort():y:[y];for(let w of _){let S=Ht(s,w,"@context");ff(S)||(e=yield Pl({activeCtx:e,localCtx:S,options:r,propagate:!1}))}}let u={};yield aI({activeCtx:e,activeProperty:t,expandedActiveProperty:l,element:n,expandedParent:u,options:r,insideList:i,typeKey:h,typeScopedContext:s}),d=Object.keys(u);let p=d.length;if("@value"in u){if("@type"in u&&("@language"in u||"@direction"in u))throw new Te('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:u});let g=p-1;if("@type"in u&&(g-=1),"@index"in u&&(g-=1),"@language"in u&&(g-=1),"@direction"in u&&(g-=1),g!==0)throw new Te('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:u});let m=u["@value"]===null?[]:xn(u["@value"]),y=PL(u,"@type");if(!(uf(e,1.1)&&y.includes("@json")&&y.length===1))if(m.length===0)r.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:u}},options:r}),u=null;else{if(!m.every(_=>lt(_)||_y(_))&&"@language"in u)throw new Te("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:u});if(!y.every(_=>df(_)&&!(lt(_)&&_.indexOf("_:")===0)||_y(_)))throw new Te('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:u})}}else if("@type"in u&&!rn(u["@type"]))u["@type"]=[u["@type"]];else if("@set"in u||"@list"in u){if(p>1&&!(p===2&&"@index"in u))throw new Te('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:u});"@set"in u&&(u=u["@set"],d=Object.keys(u),p=d.length)}else p===1&&"@language"in u&&(r.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:u}},options:r}),u=null);return tn(u)&&!r.keepFreeFloatingNodes&&!i&&(t===null||l==="@graph"||(Ht(e,t,"@container")||[]).includes("@graph"))&&(u=sI({value:u,count:p,options:r})),u});function sI({value:e,count:t,options:n}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(n.eventHandler){let r,i;t===0?(r="empty object",i="Dropping empty object."):"@value"in e?(r="object with only @value",i="Dropping object with only @value."):"@list"in e?(r="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(r="object with only @id",i="Dropping object with only @id."),nn({event:{type:["JsonLdEvent"],code:r,level:"warning",message:i,details:{value:e}},options:n})}return null}return e}function aI(c){return b(this,arguments,function*({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:r,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){let d=Object.keys(r).sort(),f=[],h,u=r[a]&&Le(e,rn(r[a])?r[a][0]:r[a],{vocab:!0},B(I({},o),{typeExpansion:!0}))==="@json";for(let p of d){let g=r[p],m;if(p==="@context")continue;let y=Le(e,p,{vocab:!0},o);if(y===null||!(df(y)||wy(y))){o.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:p,expandedProperty:y}},options:o});continue}if(wy(y)){if(n==="@reverse")throw new Te("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(y in i&&y!=="@included"&&y!=="@type")throw new Te("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:y})}if(y==="@id"){if(!lt(g)){if(!o.isFrame)throw new Te('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(tn(g)){if(!_y(g))throw new Te('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(rn(g)){if(!g.every(x=>lt(x)))throw new Te('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new Te('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}$t(i,"@id",xn(g).map(x=>{if(lt(x)){let O=Le(e,x,{base:!0},o);return o.eventHandler&&(O===null?nn(x===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:x}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:x}},options:o}):df(O)||nn({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:x,expandedId:O}},options:o})),O}return x}),{propertyIsArray:o.isFrame});continue}if(y==="@type"){tn(g)&&(g=Object.fromEntries(Object.entries(g).map(([x,O])=>[Le(l,x,{vocab:!0}),xn(O).map(F=>Le(l,F,{base:!0,vocab:!0},B(I({},o),{typeExpansion:!0})))]))),kL(g,o.isFrame),$t(i,"@type",xn(g).map(x=>{if(lt(x)){let O=Le(l,x,{base:!0,vocab:!0},B(I({},o),{typeExpansion:!0}));return O!=="@json"&&!df(O)&&o.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:x}},options:o}),O}return x}),{propertyIsArray:!!o.isFrame});continue}if(y==="@included"&&uf(e,1.1)){let x=xn(yield ui.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!x.every(O=>OL(O)))throw new Te("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});$t(i,"@included",x,{propertyIsArray:!0});continue}if(y==="@graph"&&!(tn(g)||rn(g)))throw new Te('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(y==="@value"){h=g,u&&uf(e,1.1)?i["@value"]=g:$t(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(y==="@language"){if(g===null)continue;if(!lt(g)&&!o.isFrame)throw new Te('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=xn(g).map(x=>lt(x)?x.toLowerCase():x);for(let x of g)lt(x)&&!x.match(oI)&&o.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:x}},options:o});$t(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(y==="@direction"){if(!lt(g)&&!o.isFrame)throw new Te('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=xn(g);for(let x of g)if(lt(x)&&x!=="ltr"&&x!=="rtl")throw new Te('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});$t(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(y==="@index"){if(!lt(g))throw new Te('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});$t(i,"@index",g);continue}if(y==="@reverse"){if(!tn(g))throw new Te('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(m=yield ui.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in m)for(let O in m["@reverse"])$t(i,O,m["@reverse"][O],{propertyIsArray:!0});let x=i["@reverse"]||null;for(let O in m){if(O==="@reverse")continue;x===null&&(x=i["@reverse"]={}),$t(x,O,[],{propertyIsArray:!0});let F=m[O];for(let Ce=0;Ce<F.length;++Ce){let Ee=F[Ce];if(by(Ee)||vy(Ee))throw new Te('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});$t(x,O,Ee,{propertyIsArray:!0})}}continue}if(y==="@nest"){f.push(p);continue}let _=e,w=Ht(e,p,"@context");ff(w)||(_=yield Pl({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:o}));let S=Ht(e,p,"@container")||[];if(S.includes("@language")&&tn(g)){let x=Ht(_,p,"@direction");m=FL(_,g,x,o)}else if(S.includes("@index")&&tn(g)){let x=S.includes("@graph"),O=Ht(_,p,"@index")||"@index",F=O!=="@index"&&Le(e,O,{vocab:!0},o);m=yield Cy({activeCtx:_,options:o,activeProperty:p,value:g,asGraph:x,indexKey:O,propertyIndex:F})}else if(S.includes("@id")&&tn(g)){let x=S.includes("@graph");m=yield Cy({activeCtx:_,options:o,activeProperty:p,value:g,asGraph:x,indexKey:"@id"})}else if(S.includes("@type")&&tn(g))m=yield Cy({activeCtx:_.revertToPreviousContext(),options:o,activeProperty:p,value:g,asGraph:!1,indexKey:"@type"});else{let x=y==="@list";if(x||y==="@set"){let O=t;x&&n==="@graph"&&(O=null),m=yield ui.expand({activeCtx:_,activeProperty:O,element:g,options:o,insideList:x})}else Ht(e,p,"@type")==="@json"?m={"@type":"@json","@value":g}:m=yield ui.expand({activeCtx:_,activeProperty:p,element:g,options:o,insideList:!1})}if(!(m===null&&y!=="@value")){if(y!=="@list"&&!vy(m)&&S.includes("@list")&&(m={"@list":xn(m)}),S.includes("@graph")&&!S.some(x=>x==="@id"||x==="@index")){if(m=xn(m),o.isFrame||(m=m.filter(x=>{let O=Object.keys(x).length;return sI({value:x,count:O,options:o})!==null})),m.length===0)continue;m=m.map(x=>({"@graph":xn(x)}))}if(_.mappings.has(p)&&_.mappings.get(p).reverse){let x=i["@reverse"]=i["@reverse"]||{};m=xn(m);for(let O=0;O<m.length;++O){let F=m[O];if(by(F)||vy(F))throw new Te('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:m});$t(x,y,F,{propertyIsArray:!0})}continue}$t(i,y,m,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&uf(e,1.1))){if((tn(h)||rn(h))&&!o.isFrame)throw new Te('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:h})}for(let p of f){let g=rn(r[p])?r[p]:[r[p]];for(let m of g){if(!tn(m)||Object.keys(m).some(y=>Le(e,y,{vocab:!0},o)==="@value"))throw new Te("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:m});yield aI({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:m,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}})}function lI({activeCtx:e,activeProperty:t,value:n,options:r}){if(n==null)return null;let i=Le(e,t,{vocab:!0},r);if(i==="@id")return Le(e,n,{base:!0},r);if(i==="@type")return Le(e,n,{vocab:!0,base:!0},B(I({},r),{typeExpansion:!0}));let o=Ht(e,t,"@type");if((o==="@id"||i==="@graph")&&lt(n)){let a=Le(e,n,{base:!0},r);return a===null&&n.match(RL)&&r.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":a}}if(o==="@vocab"&&lt(n))return{"@id":Le(e,n,{vocab:!0,base:!0},r)};if(wy(i))return n;let s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(lt(n)){let a=Ht(e,t,"@language");a!==null&&(s["@language"]=a);let l=Ht(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function FL(e,t,n,r){let i=[],o=Object.keys(t).sort();for(let s of o){let a=Le(e,s,{vocab:!0},r),l=t[s];rn(l)||(l=[l]);for(let c of l){if(c===null)continue;if(!lt(c))throw new Te("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let d={"@value":c};a!=="@none"&&(s.match(oI)||r.eventHandler&&nn({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r}),d["@language"]=s.toLowerCase()),n&&(d["@direction"]=n),i.push(d)}}return i}function Cy(a){return b(this,arguments,function*({activeCtx:e,options:t,activeProperty:n,value:r,asGraph:i,indexKey:o,propertyIndex:s}){let l=[],c=Object.keys(r).sort(),d=o==="@type";for(let f of c){if(d){let p=Ht(e,f,"@context");ff(p)||(e=yield Pl({activeCtx:e,localCtx:p,propagate:!1,options:t}))}let h=r[f];rn(h)||(h=[h]),h=yield ui.expand({activeCtx:e,activeProperty:n,element:h,options:t,insideList:!1,insideIndex:!0});let u;s?f==="@none"?u="@none":u=lI({activeCtx:e,activeProperty:o,value:f,options:t}):u=Le(e,f,{vocab:!0},t),o==="@id"?f=Le(e,f,{base:!0},t):d&&(f=u);for(let p of h){if(i&&!NL(p)&&(p={"@graph":[p]}),o==="@type")u==="@none"||(p["@type"]?p["@type"]=[f].concat(p["@type"]):p["@type"]=[f]);else{if(by(p)&&!["@language","@type","@index"].includes(o))throw new Te(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:p});s?u!=="@none"&&$t(p,s,u,{propertyIsArray:!0,prependValue:!0}):u!=="@none"&&!(o in p)&&(p[o]=f)}l.push(p)}}return l})}});var kl=M((YW,pI)=>{"use strict";var{isKeyword:fI}=ci(),Jn=Wn(),Dy=At(),Zn=Ut(),LL=Vt(),mt={};pI.exports=mt;mt.createMergedNodeMap=(e,t)=>{t=t||{};let n=t.issuer||new Zn.IdentifierIssuer("_:b"),r={"@default":{}};return mt.createNodeMap(e,r,"@default",n),mt.mergeNodeMaps(r)};mt.createNodeMap=(e,t,n,r,i,o)=>{if(Dy.isArray(e)){for(let c of e)mt.createNodeMap(c,t,n,r,void 0,o);return}if(!Dy.isObject(e)){o&&o.push(e);return}if(Jn.isValue(e)){if("@type"in e){let c=e["@type"];c.indexOf("_:")===0&&(e["@type"]=c=r.getId(c))}o&&o.push(e);return}else if(o&&Jn.isList(e)){let c=[];mt.createNodeMap(e["@list"],t,n,r,i,c),o.push({"@list":c});return}if("@type"in e){let c=e["@type"];for(let d of c)d.indexOf("_:")===0&&r.getId(d)}Dy.isUndefined(i)&&(i=Jn.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});let s=t[n],a=s[i]=s[i]||{};a["@id"]=i;let l=Object.keys(e).sort();for(let c of l){if(c==="@id")continue;if(c==="@reverse"){let f={"@id":i},h=e["@reverse"];for(let u in h){let p=h[u];for(let g of p){let m=g["@id"];Jn.isBlankNode(g)&&(m=r.getId(m)),mt.createNodeMap(g,t,n,r,m),Zn.addValue(s[m],u,f,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(c==="@graph"){i in t||(t[i]={}),mt.createNodeMap(e[c],t,i,r);continue}if(c==="@included"){mt.createNodeMap(e[c],t,n,r);continue}if(c!=="@type"&&fI(c)){if(c==="@index"&&c in a&&(e[c]!==a[c]||e[c]["@id"]!==a[c]["@id"]))throw new LL("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[c]=e[c];continue}let d=e[c];if(c.indexOf("_:")===0&&(c=r.getId(c)),d.length===0){Zn.addValue(a,c,[],{propertyIsArray:!0});continue}for(let f of d)if(c==="@type"&&(f=f.indexOf("_:")===0?r.getId(f):f),Jn.isSubject(f)||Jn.isSubjectReference(f)){if("@id"in f&&!f["@id"])continue;let h=Jn.isBlankNode(f)?r.getId(f["@id"]):f["@id"];Zn.addValue(a,c,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),mt.createNodeMap(f,t,n,r,h)}else if(Jn.isValue(f))Zn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1});else if(Jn.isList(f)){let h=[];mt.createNodeMap(f["@list"],t,n,r,i,h),f={"@list":h},Zn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1})}else mt.createNodeMap(f,t,n,r,i),Zn.addValue(a,c,f,{propertyIsArray:!0,allowDuplicate:!1})}};mt.mergeNodeMapGraphs=e=>{let t={};for(let n of Object.keys(e).sort())for(let r of Object.keys(e[n]).sort()){let i=e[n][r];r in t||(t[r]={"@id":r});let o=t[r];for(let s of Object.keys(i).sort())if(fI(s)&&s!=="@type")o[s]=Zn.clone(i[s]);else for(let a of i[s])Zn.addValue(o,s,Zn.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};mt.mergeNodeMaps=e=>{let t=e["@default"],n=Object.keys(e).sort();for(let r of n){if(r==="@default")continue;let i=e[r],o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};let s=o["@graph"];for(let a of Object.keys(i).sort()){let l=i[a];Jn.isSubjectReference(l)||s.push(l)}}return t}});var mI=M((e6,gI)=>{"use strict";var{isSubjectReference:jL}=Wn(),{createMergedNodeMap:VL}=kl(),hI={};gI.exports=hI;hI.flatten=e=>{let t=VL(e),n=[],r=Object.keys(t).sort();for(let i=0;i<r.length;++i){let o=t[r[i]];jL(o)||n.push(o)}return n}});var TI=M((EI,II)=>{"use strict";var My=Vt(),Ey=Wn(),Fl=At(),{REGEX_BCP47:yI,addValue:vI}=Ut(),{handleEvent:CI}=Us(),{RDF_LIST:UL,RDF_FIRST:Iy,RDF_REST:Ty,RDF_NIL:xy,RDF_TYPE:BL,RDF_JSON_LITERAL:$L,XSD_BOOLEAN:_I,XSD_DOUBLE:bI,XSD_INTEGER:wI,XSD_STRING:Sy}=rf(),DI={};II.exports=DI;DI.fromRDF=(e,t)=>b(null,null,function*(){let{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new My("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new My("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(let d of e){let f=d.graph.termType==="DefaultGraph"?"@default":d.graph.value;f in s||(s[f]={}),f!=="@default"&&!(f in o)&&(o[f]={"@id":f});let h=s[f],u=d.subject.value,p=d.predicate.value,g=d.object;u in h||(h[u]={"@id":u});let m=h[u],y=g.termType.endsWith("Node");if(y&&!(g.value in h)&&(h[g.value]={"@id":g.value}),p===BL&&!n&&y){vI(m,"@type",g.value,{propertyIsArray:!0});continue}let _=HL(g,r,i,t);if(vI(m,p,_,{propertyIsArray:!0}),y)if(g.value===xy){let w=h[g.value];"usages"in w||(w.usages=[]),w.usages.push({node:m,property:p,value:_})}else g.value in a?a[g.value]=!1:a[g.value]={node:m,property:p,value:_}}for(let d in s){let f=s[d];if(!(xy in f))continue;let h=f[xy];if(h.usages){for(let u of h.usages){let p=u.node,g=u.property,m=u.value,y=[],_=[],w=Object.keys(p).length;for(;g===Ty&&Fl.isObject(a[p["@id"]])&&Fl.isArray(p[Iy])&&p[Iy].length===1&&Fl.isArray(p[Ty])&&p[Ty].length===1&&(w===3||w===4&&Fl.isArray(p["@type"])&&p["@type"].length===1&&p["@type"][0]===UL)&&(y.push(p[Iy][0]),_.push(p["@id"]),u=a[p["@id"]],p=u.node,g=u.property,m=u.value,w=Object.keys(p).length,!!Ey.isBlankNode(p)););delete m["@id"],m["@list"]=y.reverse();for(let S of _)delete f[S]}delete h.usages}}let l=[],c=Object.keys(o).sort();for(let d of c){let f=o[d];if(d in s){let h=f["@graph"]=[],u=s[d],p=Object.keys(u).sort();for(let g of p){let m=u[g];Ey.isSubjectReference(m)||h.push(m)}}Ey.isSubjectReference(f)||l.push(f)}return l});function HL(e,t,n,r){if(e.termType.endsWith("Node"))return{"@id":e.value};let i={"@value":e.value};if(e.language)e.language.match(yI)||r.eventHandler&&CI({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:r}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=Sy),o===$L){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new My("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===_I)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Fl.isNumeric(i["@value"]))if(o===wI){let s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===bI&&(i["@value"]=parseFloat(i["@value"]));[_I,wI,bI,Sy].includes(o)||(i["@type"]=o)}else if(n==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){let[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(yI)||r.eventHandler&&CI({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:r})),i["@direction"]=a}else o!==Sy&&(i["@type"]=o)}return i}});var SI=M((n6,xI)=>{"use strict";xI.exports=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((n,r,i)=>{let o=i===0?"":",",s=r===void 0||typeof r=="symbol"?null:r;return n+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((n,r,i)=>{if(t[r]===void 0||typeof t[r]=="symbol")return n;let o=n.length===0?"":",";return n+o+e(r)+":"+e(t[r])},"")+"}"}});var PI=M((r6,RI)=>{"use strict";var{createNodeMap:qL}=kl(),{isKeyword:GL}=ci(),MI=Wn(),zL=SI(),AI=Vt(),Ll=At(),WL=Ut(),{handleEvent:Io}=Us(),{RDF_FIRST:JL,RDF_REST:ZL,RDF_NIL:QL,RDF_TYPE:XL,RDF_JSON_LITERAL:KL,RDF_LANGSTRING:YL,XSD_BOOLEAN:ej,XSD_DOUBLE:NI,XSD_INTEGER:tj,XSD_STRING:nj}=rf(),{isAbsolute:pf}=Tr(),OI={};RI.exports=OI;OI.toRDF=(e,t)=>{let n=new WL.IdentifierIssuer("_:b"),r={"@default":{}};qL(e,r,"@default",n);let i=[],o=Object.keys(r).sort();for(let s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if(pf(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}rj(i,r[s],a,n,t)}return i};function rj(e,t,n,r,i){let o=Object.keys(t).sort();for(let s of o){let a=t[s],l=Object.keys(a).sort();for(let c of l){let d=a[c];if(c==="@type")c=XL;else if(GL(c))continue;for(let f of d){let h={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!pf(s)){i.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}let u={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!pf(c)){i.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:c}},options:i});continue}if(u.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(g=>r.getId(g)===c)}},options:i});continue}let p=Ay(f,r,e,n,i.rdfDirection,i);p&&e.push({subject:h,predicate:u,object:p,graph:n})}}}}function ij(e,t,n,r,i,o){let s={termType:"NamedNode",value:JL},a={termType:"NamedNode",value:ZL},l={termType:"NamedNode",value:QL},c=e.pop(),d=c?{termType:"BlankNode",value:t.getId()}:l,f=d;for(let h of e){let u=Ay(h,t,n,r,i,o),p={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:s,object:u,graph:r}),n.push({subject:f,predicate:a,object:p,graph:r}),f=p}if(c){let h=Ay(c,t,n,r,i,o);n.push({subject:f,predicate:s,object:h,graph:r}),n.push({subject:f,predicate:a,object:l,graph:r})}return d}function Ay(e,t,n,r,i,o){let s={};if(MI.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"],l=e["@type"]||null;if(l==="@json")s.value=zL(a),s.datatype.value=KL;else if(Ll.isBoolean(a))s.value=a.toString(),s.datatype.value=l||ej;else if(Ll.isDouble(a)||l===NI)Ll.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||NI;else if(Ll.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||tj;else if("@direction"in e&&i==="i18n-datatype"){let c=(e["@language"]||"").toLowerCase(),d=e["@direction"],f=`https://www.w3.org/ns/i18n#${c}_${d}`;s.datatype.value=f,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new AI("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new AI("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||YL,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||nj)}}else if(MI.isList(e)){let a=ij(e["@list"],t,n,r,i,o);s.termType=a.termType,s.value=a.value}else{let a=Ll.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!pf(s.value)?(o.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}});var BI=M((i6,UI)=>{"use strict";var{isKeyword:Ny}=ci(),on=Wn(),ve=At(),Ze=Ut(),kI=Tr(),jl=Vt(),{createNodeMap:oj,mergeNodeMapGraphs:sj}=kl(),sn={};UI.exports=sn;sn.frameMergedOrDefault=(e,t,n)=>{let r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new Ze.IdentifierIssuer("_:b");oj(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=sj(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];let o=[];sn.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(s=>r.bnodeMap[s].length===1));return n.link={},gf(o,n)};sn.frame=(e,t,n,r,i=null)=>{jI(n),n=n[0];let o=e.options,s={embed:hf(n,o,"embed"),explicit:hf(n,o,"explicit"),requireAll:hf(n,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let a=e.link[e.graph],l=lj(e,t,n,s),c=Object.keys(l).sort();for(let d of c){let f=l[d];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&d in a){To(r,i,a[d]);continue}let h={"@id":d};if(d.indexOf("_:")===0&&Ze.addValue(e.bnodeMap,d,h,{propertyIsArray:!0}),a[d]=h,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new jl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(d))){if(e.embedded&&(s.embed==="@never"||aj(f,e.graph,e.subjectStack))){To(r,i,h);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(d)){To(r,i,h);continue}if(s.embed==="@last"&&d in e.uniqueEmbeds[e.graph]&&cj(e,d),e.uniqueEmbeds[e.graph][d]={parent:r,property:i},e.subjectStack.push({subject:f,graph:e.graph}),d in e.graphMap){let u=!1,p=null;"@graph"in n?(p=n["@graph"][0],u=!(d==="@merged"||d==="@default"),ve.isObject(p)||(p={})):(u=e.graph!=="@merged",p={}),u&&sn.frame(B(I({},e),{graph:d,embedded:!1}),Object.keys(e.graphMap[d]).sort(),[p],h,"@graph")}"@included"in n&&sn.frame(B(I({},e),{embedded:!1}),t,n["@included"],h,"@included");for(let u of Object.keys(f).sort()){if(Ny(u)){if(h[u]=Ze.clone(f[u]),u==="@type")for(let p of f["@type"])p.indexOf("_:")===0&&Ze.addValue(e.bnodeMap,p,h,{propertyIsArray:!0});continue}if(!(s.explicit&&!(u in n)))for(let p of f[u]){let g=u in n?n[u]:FI(s);if(on.isList(p)){let m=n[u]&&n[u][0]&&n[u][0]["@list"]?n[u][0]["@list"]:FI(s),y={"@list":[]};To(h,u,y);let _=p["@list"];for(let w of _)on.isSubjectReference(w)?sn.frame(B(I({},e),{embedded:!0}),[w["@id"]],m,y,"@list"):To(y,"@list",Ze.clone(w))}else on.isSubjectReference(p)?sn.frame(B(I({},e),{embedded:!0}),[p["@id"]],g,h,u):Oy(g[0],p)&&To(h,u,Ze.clone(p))}}for(let u of Object.keys(n).sort()){if(u==="@type"){if(!ve.isObject(n[u][0])||!("@default"in n[u][0]))continue}else if(Ny(u))continue;let p=n[u][0]||{};if(!hf(p,o,"omitDefault")&&!(u in h)){let m="@null";"@default"in p&&(m=Ze.clone(p["@default"])),ve.isArray(m)||(m=[m]),h[u]=[{"@preserve":m}]}}for(let u of Object.keys(n["@reverse"]||{}).sort()){let p=n["@reverse"][u];for(let g of Object.keys(e.subjects))Ze.getValues(e.subjects[g],u).some(y=>y["@id"]===d)&&(h["@reverse"]=h["@reverse"]||{},Ze.addValue(h["@reverse"],u,[],{propertyIsArray:!0}),sn.frame(B(I({},e),{embedded:!0}),[g],p,h["@reverse"][u],i))}To(r,i,h),e.subjectStack.pop()}}};sn.cleanupNull=(e,t)=>{if(ve.isArray(e))return e.map(r=>sn.cleanupNull(r,t)).filter(r=>r);if(e==="@null")return null;if(ve.isObject(e)){if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e)e[n]=sn.cleanupNull(e[n],t)}return e};function FI(e){let t={};for(let n in e)e[n]!==void 0&&(t["@"+n]=[e[n]]);return[t]}function aj(e,t,n){for(let r=n.length-1;r>=0;--r){let i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function hf(e,t,n){let r="@"+n,i=r in e?e[r][0]:t[n];if(n==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new jl("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function jI(e){if(!ve.isArray(e)||e.length!==1||!ve.isObject(e[0]))throw new jl("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of Ze.asArray(e[0]["@id"]))if(!(ve.isObject(t)||kI.isAbsolute(t))||ve.isString(t)&&t.indexOf("_:")===0)throw new jl("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of Ze.asArray(e[0]["@type"]))if(!(ve.isObject(t)||kI.isAbsolute(t)||t==="@json")||ve.isString(t)&&t.indexOf("_:")===0)throw new jl("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function lj(e,t,n,r){let i={};for(let o of t){let s=e.graphMap[e.graph][o];VI(e,s,n,r)&&(i[o]=s)}return i}function VI(e,t,n,r){let i=!0,o=!1;for(let s in n){let a=!1,l=Ze.getValues(t,s),c=Ze.getValues(n,s).length===0;if(s==="@id"){if(ve.isEmptyObject(n["@id"][0]||{})?a=!0:n["@id"].length>=0&&(a=n["@id"].includes(l[0])),!r.requireAll)return a}else if(s==="@type"){if(i=!1,c){if(l.length>0)return!1;a=!0}else if(n["@type"].length===1&&ve.isEmptyObject(n["@type"][0]))a=l.length>0;else for(let d of n["@type"])ve.isObject(d)&&"@default"in d?a=!0:a=a||l.some(f=>f===d);if(!r.requireAll)return a}else{if(Ny(s))continue;{let d=Ze.getValues(n,s)[0],f=!1;if(d&&(jI([d]),f="@default"in d),i=!1,l.length===0&&f)continue;if(l.length>0&&c)return!1;if(d===void 0){if(l.length>0)return!1;a=!0}else if(on.isList(d)){let h=d["@list"][0];if(on.isList(l[0])){let u=l[0]["@list"];on.isValue(h)?a=u.some(p=>Oy(h,p)):(on.isSubject(h)||on.isSubjectReference(h))&&(a=u.some(p=>LI(e,h,p,r)))}}else on.isValue(d)?a=l.some(h=>Oy(d,h)):on.isSubjectReference(d)?a=l.some(h=>LI(e,d,h,r)):ve.isObject(d)?a=l.length>0:a=!1}}if(!a&&r.requireAll)return!1;o=o||a}return i||o}function cj(e,t){let n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,o=r.property,s={"@id":t};if(ve.isArray(i)){for(let l=0;l<i.length;++l)if(Ze.compareValues(i[l],s)){i[l]=s;break}}else{let l=ve.isArray(i[o]);Ze.removeValue(i,o,s,{propertyIsArray:l}),Ze.addValue(i,o,s,{propertyIsArray:l})}let a=l=>{let c=Object.keys(n);for(let d of c)d in n&&ve.isObject(n[d].parent)&&n[d].parent["@id"]===l&&(delete n[d],a(d))};a(t)}function gf(e,t){if(ve.isArray(e))return e.map(n=>gf(n,t));if(ve.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(on.isValue(e))return e;if(on.isList(e))return e["@list"]=gf(e["@list"],t),e;if("@id"in e){let n=e["@id"];if(t.link.hasOwnProperty(n)){let r=t.link[n].indexOf(e);if(r!==-1)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(let n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=gf(e[n],t)}}return e}function To(e,t,n){ve.isObject(e)?Ze.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function LI(e,t,n,r){if(!("@id"in n))return!1;let i=e.subjects[n["@id"]];return i&&VI(e,i,t,r)}function Oy(e,t){let n=t["@value"],r=t["@type"],i=t["@language"],o=e["@value"]?ve.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?ve.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?ve.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(n)||ve.isEmptyObject(o[0]))||!(!r&&s.length===0||s.includes(r)||r&&ve.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&ve.isEmptyObject(a[0])))}});var XI=M((ZI,QI)=>{"use strict";var Ly=Vt(),{isArray:di,isObject:fi,isString:GI,isUndefined:Ry}=At(),{isList:Fy,isValue:Mr,isGraph:zI,isSimpleGraph:$I,isSubjectReference:Py}=Wn(),{expandIri:WI,getContextValue:yt,isKeyword:JI,process:ky,processingMode:uj}=ci(),{removeBase:HI,prependBase:dj}=Tr(),{REGEX_KEYWORD:fj,addValue:qt,asArray:mf,compareShortestLeast:pj}=Ut(),te={};QI.exports=te;te.compact=i=>b(null,[i],function*({activeCtx:e,activeProperty:t=null,element:n,options:r={}}){if(di(n)){let s=[];for(let a=0;a<n.length;++a){let l=yield te.compact({activeCtx:e,activeProperty:t,element:n[a],options:r});l!==null&&s.push(l)}return r.compactArrays&&s.length===1&&(yt(e,t,"@container")||[]).length===0&&(s=s[0]),s}let o=yt(e,t,"@context");if(Ry(o)||(e=yield ky({activeCtx:e,localCtx:o,propagate:!0,overrideProtected:!0,options:r})),fi(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){let u=r.link[n["@id"]];for(let p=0;p<u.length;++p)if(u[p].expanded===n)return u[p].compacted}if(Mr(n)||Py(n)){let u=te.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&Py(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:u})),u}if(Fy(n)&&(yt(e,t,"@container")||[]).includes("@list"))return te.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r});let s=t==="@reverse",a={},l=e;!Mr(n)&&!Py(n)&&(e=e.revertToPreviousContext());let c=yt(l,t,"@context");Ry(c)||(e=yield ky({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:a}));let d=n["@type"]||[];d.length>1&&(d=Array.from(d).sort());let f=e;for(let u of d){let p=te.compactIri({activeCtx:f,iri:u,relativeTo:{vocab:!0}}),g=yt(l,p,"@context");Ry(g)||(e=yield ky({activeCtx:e,localCtx:g,options:r,propagate:!1}))}let h=Object.keys(n).sort();for(let u of h){let p=n[u];if(u==="@id"){let g=mf(p).map(y=>te.compactIri({activeCtx:e,iri:y,relativeTo:{vocab:!1},base:r.base}));g.length===1&&(g=g[0]);let m=te.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[m]=g;continue}if(u==="@type"){let g=mf(p).map(S=>te.compactIri({activeCtx:l,iri:S,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);let m=te.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),w=(yt(e,m,"@container")||[]).includes("@set")&&uj(e,1.1)||di(g)&&p.length===0;qt(a,m,g,{propertyIsArray:w});continue}if(u==="@reverse"){let g=yield te.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:r});for(let m in g)if(e.mappings.has(m)&&e.mappings.get(m).reverse){let y=g[m],w=(yt(e,m,"@container")||[]).includes("@set")||!r.compactArrays;qt(a,m,y,{propertyIsArray:w}),delete g[m]}if(Object.keys(g).length>0){let m=te.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,m,g)}continue}if(u==="@preserve"){let g=yield te.compact({activeCtx:e,activeProperty:t,element:p,options:r});di(g)&&g.length===0||qt(a,u,g);continue}if(u==="@index"){if((yt(e,t,"@container")||[]).includes("@index"))continue;let m=te.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,m,p);continue}if(u!=="@graph"&&u!=="@list"&&u!=="@included"&&JI(u)){let g=te.compactIri({activeCtx:e,iri:u,relativeTo:{vocab:!0}});qt(a,g,p);continue}if(!di(p))throw new Ly("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(p.length===0){let g=te.compactIri({activeCtx:e,iri:u,value:p,relativeTo:{vocab:!0},reverse:s}),m=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null,y=a;m&&(qI(e,m,r),fi(a[m])||(a[m]={}),y=a[m]),qt(y,g,p,{propertyIsArray:!0})}for(let g of p){let m=te.compactIri({activeCtx:e,iri:u,value:g,relativeTo:{vocab:!0},reverse:s}),y=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null,_=a;y&&(qI(e,y,r),fi(a[y])||(a[y]={}),_=a[y]);let w=yt(e,m,"@container")||[],S=zI(g),x=Fy(g),O;x?O=g["@list"]:S&&(O=g["@graph"]);let F=yield te.compact({activeCtx:e,activeProperty:m,element:x||S?O:g,options:r});if(x)if(di(F)||(F=[F]),!w.includes("@list"))F={[te.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:F},"@index"in g&&(F[te.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{qt(_,m,F,{valueIsArray:!0,allowDuplicate:!0});continue}if(S)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&$I(g))){let Ce;_.hasOwnProperty(m)?Ce=_[m]:_[m]=Ce={};let Ee=(w.includes("@id")?g["@id"]:g["@index"])||te.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});qt(Ce,Ee,F,{propertyIsArray:!r.compactArrays||w.includes("@set")})}else w.includes("@graph")&&$I(g)?(di(F)&&F.length>1&&(F={"@included":F}),qt(_,m,F,{propertyIsArray:!r.compactArrays||w.includes("@set")})):(di(F)&&F.length===1&&r.compactArrays&&(F=F[0]),F={[te.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:F},"@id"in g&&(F[te.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(F[te.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),qt(_,m,F,{propertyIsArray:!r.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let Ce;_.hasOwnProperty(m)?Ce=_[m]:_[m]=Ce={};let Ee;if(w.includes("@language"))Mr(F)&&(F=F["@value"]),Ee=g["@language"];else if(w.includes("@index")){let wt=yt(e,m,"@index")||"@index",Po=te.compactIri({activeCtx:e,iri:wt,relativeTo:{vocab:!0}});if(wt==="@index")Ee=g["@index"],delete F[Po];else{let Ql;if([Ee,...Ql]=mf(F[wt]||[]),!GI(Ee))Ee=null;else switch(Ql.length){case 0:delete F[wt];break;case 1:F[wt]=Ql[0];break;default:F[wt]=Ql;break}}}else if(w.includes("@id")){let wt=te.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});Ee=F[wt],delete F[wt]}else if(w.includes("@type")){let wt=te.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),Po;switch([Ee,...Po]=mf(F[wt]||[]),Po.length){case 0:delete F[wt];break;case 1:F[wt]=Po[0];break;default:F[wt]=Po;break}Object.keys(F).length===1&&"@id"in g&&(F=yield te.compact({activeCtx:e,activeProperty:m,element:{"@id":g["@id"]},options:r}))}Ee||(Ee=te.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),qt(Ce,Ee,F,{propertyIsArray:w.includes("@set")})}else{let Ce=!r.compactArrays||w.includes("@set")||w.includes("@list")||di(F)&&F.length===0||u==="@list"||u==="@graph";qt(_,m,F,{propertyIsArray:Ce})}}}return a}return n});te.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);let s=e.getInverse();if(JI(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(r.vocab&&t in s){let f=e["@language"]||"@none",h=[];fi(n)&&"@index"in n&&!("@graph"in n)&&h.push("@index","@index@set"),fi(n)&&"@preserve"in n&&(n=n["@preserve"][0]),zI(n)?("@index"in n&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in n||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||h.push("@graph@id","@graph@id@set")):fi(n)&&!Mr(n)&&h.push("@id","@id@set","@type","@set@type");let u="@language",p="@null";if(i)u="@type",p="@reverse",h.push("@set");else if(Fy(n)){"@index"in n||h.push("@list");let m=n["@list"];if(m.length===0)u="@any",p="@none";else{let y=m.length===0?f:null,_=null;for(let w=0;w<m.length;++w){let S=m[w],x="@none",O="@none";if(Mr(S))if("@direction"in S){let F=(S["@language"]||"").toLowerCase(),Ce=S["@direction"];x=`${F}_${Ce}`}else"@language"in S?x=S["@language"].toLowerCase():"@type"in S?O=S["@type"]:x="@null";else O="@id";if(y===null?y=x:x!==y&&Mr(S)&&(y="@none"),_===null?_=O:O!==_&&(_="@none"),y==="@none"&&_==="@none")break}y=y||"@none",_=_||"@none",_!=="@none"?(u="@type",p=_):p=y}}else{if(Mr(n))if("@language"in n&&!("@index"in n)){h.push("@language","@language@set"),p=n["@language"];let m=n["@direction"];m&&(p=`${p}_${m}`)}else"@direction"in n&&!("@index"in n)?p=`_${n["@direction"]}`:"@type"in n&&(u="@type",p=n["@type"]);else u="@type",p="@id";h.push("@set")}h.push("@none"),fi(n)&&!("@index"in n)&&h.push("@index","@index@set"),Mr(n)&&Object.keys(n).length===1&&h.push("@language","@language@set");let g=hj(e,t,n,h,u,p);if(g!==null)return g}if(r.vocab&&"@vocab"in e){let f=e["@vocab"];if(t.indexOf(f)===0&&t!==f){let h=t.substr(f.length);if(!e.mappings.has(h))return h}}let a=null,l=[],c=e.fastCurieMap,d=t.length-1;for(let f=0;f<d&&t[f]in c;++f)c=c[t[f]],""in c&&l.push(c[""][0]);for(let f=l.length-1;f>=0;--f){let h=l[f],u=h.terms;for(let p of u){let g=p+":"+t.substr(h.iri.length);e.mappings.get(p)._prefix&&(!e.mappings.has(g)||n===null&&e.mappings.get(g)["@id"]===t)&&(a===null||pj(g,a)<0)&&(a=g)}}if(a!==null)return a;for(let[f,h]of e.mappings)if(h&&h._prefix&&t.startsWith(f+":"))throw new Ly(`Absolute IRI "${t}" confused with prefix "${f}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!r.vocab)if("@base"in e)if(e["@base"]){let f=HI(dj(o,e["@base"]),t);return fj.test(f)?`./${f}`:f}else return t;else return HI(o,t);return t};te.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(Mr(n)){let a=yt(e,t,"@type"),l=yt(e,t,"@language"),c=yt(e,t,"@direction"),d=yt(e,t,"@container")||[],f="@index"in n&&!d.includes("@index");if(!f&&a!=="@none"&&(n["@type"]===a||"@language"in n&&n["@language"]===l&&"@direction"in n&&n["@direction"]===c||"@language"in n&&n["@language"]===l||"@direction"in n&&n["@direction"]===c))return n["@value"];let h=Object.keys(n).length,u=h===1||h===2&&"@index"in n&&!f,p="@language"in e,g=GI(n["@value"]),m=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(u&&a!=="@none"&&(!p||!g||m))return n["@value"];let y={};return f&&(y[te.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?y[te.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=te.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(y[te.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(y[te.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),y[te.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],y}let i=WI(e,t,{vocab:!0},r),o=yt(e,t,"@type"),s=te.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:o==="@vocab"},base:r.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[te.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function hj(e,t,n,r,i,o){o===null&&(o="@null");let s=[];if((o==="@id"||o==="@reverse")&&fi(n)&&"@id"in n){o==="@reverse"&&s.push("@reverse");let l=te.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);let l=s.find(c=>c.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");let a=e.inverse[t];for(let l of r){if(!(l in a))continue;let c=a[l][i];for(let d of s)if(d in c)return c[d]}return null}function qI(e,t,n){if(WI(e,t,{vocab:!0},n)!=="@nest")throw new Ly("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}});var YI=M((a6,KI)=>{"use strict";KI.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(n,r)},t.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(n)},t.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(n)},t}});var oT=M((l6,iT)=>{"use strict";var eT=tf(),tT=PE(),pi=Ut(),Ar=JE(),jy=pi.IdentifierIssuer,Qn=Vt(),gj=fy(),yf=QE(),{expand:mj}=dI(),{flatten:yj}=mI(),{fromRDF:vj}=TI(),{toRDF:Cj}=PI(),{frameMergedOrDefault:_j,cleanupNull:bj}=BI(),{isArray:Hs,isObject:xo,isString:Xn}=At(),{isSubjectReference:wj}=Wn(),{expandIri:Dj,getInitialContext:vf,process:nT,processingMode:Vy}=ci(),{compact:Ej,compactIri:Ij}=XI(),{createNodeMap:Tj,createMergedNodeMap:xj,mergeNodeMaps:Sj}=kl(),{logEventHandler:Mj,logWarningEventHandler:Aj,safeEventHandler:Nj,setDefaultEventHandler:Oj,setupEventHandler:Rj,strictEventHandler:Pj,unhandledEventHandler:kj}=Us(),rT=function(e){let t={},r=new gj({max:100});e.compact=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new Qn("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:Xn(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new jy("_:b"),contextResolver:new Ar({sharedCache:r})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let f;a.skipExpansion?f=o:f=yield e.expand(o,a);let h=yield e.processContext(vf(a),s,a),u=yield Ej({activeCtx:h,element:f,options:a});a.compactArrays&&!a.graph&&Hs(u)?u.length===1?u=u[0]:u.length===0&&(u={}):a.graph&&xo(u)&&(u=[u]),xo(s)&&"@context"in s&&(s=s["@context"]),s=pi.clone(s),Hs(s)||(s=[s]);let p=s;s=[];for(let m=0;m<p.length;++m)(!xo(p[m])||Object.keys(p[m]).length>0)&&s.push(p[m]);let g=s.length>0;if(s.length===1&&(s=s[0]),Hs(u)){let m=Ij({activeCtx:h,iri:"@graph",relativeTo:{vocab:!0}}),y=u;u={},g&&(u["@context"]=s),u[m]=y}else if(xo(u)&&g){let m=u;u={"@context":s};for(let y in m)u[y]=m[y]}return u})},e.expand=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new Ar({sharedCache:r})});let c={},d=[];if("expandContext"in s){let p=pi.clone(s.expandContext);xo(p)&&"@context"in p?c.expandContext=p:c.expandContext={"@context":p},d.push(c.expandContext)}let f;if(!Xn(o))c.input=pi.clone(o);else{let p=yield e.get(o,s);f=p.documentUrl,c.input=p.document,p.contextUrl&&(c.remoteContext={"@context":p.contextUrl},d.push(c.remoteContext))}"base"in s||(s.base=f||"");let h=vf(s);for(let p of d)h=yield nT({activeCtx:h,localCtx:p,options:s});let u=yield mj({activeCtx:h,element:c.input,options:s});return xo(u)&&"@graph"in u&&Object.keys(u).length===1?u=u["@graph"]:u===null&&(u=[]),Hs(u)||(u=[u]),u})},e.flatten=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:Xn(o)?o:"",contextResolver:new Ar({sharedCache:r})});let f=yield e.expand(o,a),h=yj(f);return s===null?h:(a.graph=!0,a.skipExpansion=!0,yield e.compact(h,s,a))})},e.frame=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:Xn(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Ar({sharedCache:r})}),Xn(s)){let w=yield e.get(s,a);if(s=w.document,w.contextUrl){let S=s["@context"];S?Hs(S)?S.push(w.contextUrl):S=[S,w.contextUrl]:S=w.contextUrl,s["@context"]=S}}let f=s?s["@context"]||{}:{},h=yield e.processContext(vf(a),f,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=Vy(h,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=Vy(h,1.1));let u=yield e.expand(o,a),p=I({},a);p.isFrame=!0,p.keepFreeFloatingNodes=!0;let g=yield e.expand(s,p),m=Object.keys(s).map(w=>Dj(h,w,{vocab:!0}));p.merged=!m.includes("@graph"),p.is11=Vy(h,1.1);let y=_j(u,g,p);p.graph=!a.omitGraph,p.skipExpansion=!0,p.link={},p.framing=!0;let _=yield e.compact(y,f,p);return p.link={},_=bj(_,p),_})},e.link=function(o,s,a){return b(this,null,function*(){let l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)})},e.normalize=e.canonize=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:Xn(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Ar({sharedCache:r})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new Qn("Unknown canonicalization input format.","jsonld.CanonizeError");let f=yf.parse(o);return eT.canonize(f,s)}let c=I({},s);delete c.format,c.produceGeneralizedRdf=!1;let d=yield e.toRDF(o,c);return eT.canonize(d,s)})},e.fromRDF=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:Xn(o)?"application/n-quads":void 0});let{format:c}=s,{rdfParser:d}=s;if(c){if(d=d||t[c],!d)throw new Qn("Unknown input format.","jsonld.UnknownFormat",{format:c})}else d=()=>o;let f=yield d(o);return vj(f,s)})},e.toRDF=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:Xn(o)?o:"",skipExpansion:!1,contextResolver:new Ar({sharedCache:r})});let c;s.skipExpansion?c=o:c=yield e.expand(o,s);let d=Cj(c,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return yf.serialize(d);throw new Qn("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return d})},e.createNodeMap=function(a,l){return b(this,arguments,function*(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:Xn(o)?o:"",contextResolver:new Ar({sharedCache:r})});let c=yield e.expand(o,s);return xj(c,s)})},e.merge=function(l,c,d){return b(this,arguments,function*(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Hs(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new Ar({sharedCache:r})});let f=yield Promise.all(o.map(w=>{let S=I({},a);return e.expand(w,S)})),h=!0;"mergeNodes"in a&&(h=a.mergeNodes);let u=a.issuer||new jy("_:b"),p={"@default":{}};for(let w=0;w<f.length;++w){let S=pi.relabelBlankNodes(f[w],{issuer:new jy("_:b"+w+"-")}),x=h||w===0?p:{"@default":{}};if(Tj(S,x,"@default",u),x!==p)for(let O in x){let F=x[O];if(!(O in p)){p[O]=F;continue}let Ce=p[O];for(let Ee in F)Ee in Ce||(Ce[Ee]=F[Ee])}}let g=Sj(p),m=[],y=Object.keys(g).sort();for(let w=0;w<y.length;++w){let S=g[y[w]];wj(S)||m.push(S)}return s===null?m:(a.graph=!0,a.skipExpansion=!0,yield e.compact(m,s,a))})},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=o=>b(null,null,function*(){throw new Qn("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})}),e.get=function(o,s){return b(this,null,function*(){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;let l=yield a(o);try{if(!l.document)throw new Qn("No remote document found at the given URL.","jsonld.NullRemoteDocument");Xn(l.document)&&(l.document=JSON.parse(l.document))}catch(c){throw new Qn("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:c,remoteDoc:l})}return l})},e.processContext=function(o,s,a){return b(this,null,function*(){return a=i(a,{base:"",contextResolver:new Ar({sharedCache:r})}),s===null?vf(a):(s=pi.clone(s),xo(s)&&"@context"in s||(s={"@context":s}),nT({activeCtx:o,localCtx:s,options:a}))})},e.getContextValue=ci().getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new Qn('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",yf.parse),e.registerRDFParser("application/nquads",yf.parse),e.url=Tr(),e.logEventHandler=Mj,e.logWarningEventHandler=Aj,e.safeEventHandler=Nj,e.setDefaultEventHandler=Oj,e.strictEventHandler=Pj,e.unhandledEventHandler=kj,e.util=pi,Object.assign(e,pi),e.promises=e,e.RequestQueue=sy(),e.JsonLdProcessor=YI()(e),tT.setupGlobals(e),tT.setupDocumentLoaders(e);function i(o,l){var c=l,{documentLoader:s=e.documentLoader}=c,a=Kl(c,["documentLoader"]);if(o&&"compactionMap"in o)throw new Qn('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new Qn('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:Rj({options:o})})}return e},Uy=function(){return rT(function(){return Uy()})};rT(Uy);iT.exports=Uy});var vt=M(Gt=>{"use strict";var Fj=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.JsonLdValue=Gt.JsonLdId=Gt.JsonLdObject=void 0;Gt.compact=Lj;Gt.expand=jj;Gt.expandArray=Vj;var sT=Ym(),$y=Fj(oT());function Lj(e){return b(this,null,function*(){return yield $y.default.compact(e,Uj)})}function jj(e,t){return b(this,null,function*(){let n=yield $y.default.expand(e);return Object.assign(t(),n[0])})}function Vj(e,t){return b(this,null,function*(){return(yield $y.default.expand(e)).map(r=>Object.assign(t(),r))})}var Cf=class e{mandatoryValue(t,n){return this.optionalValue(t,n)}optionalValue(t,n){var r,i,o,s=this.getNamespaceUrl(t);return(o=(i=(r=this[`${s}${n}`])===null||r===void 0?void 0:r.map(a=>Object.assign(new Vl,a)))===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.value}nestedOf(t,n,r){var i,o,s,a=this.getNamespaceUrl(n);return(s=(o=(i=this[`${a}${r}`])===null||i===void 0?void 0:i.map(l=>Object.assign(t(),l)))===null||o===void 0?void 0:o.at(0))!==null&&s!==void 0?s:void 0}nested(t,n){var r;return(r=this.nestedOf(()=>new e,t,n))!==null&&r!==void 0?r:new e}arrayOf(t,n,r){var i=this.getNamespaceUrl(n);return this[`${i}${r}`].map(o=>Object.assign(t(),o))}array(t,n){return this.arrayOf(()=>new e,t,n)}types(){return this["@type"]}setValue(t,n,r){let i=this.getNamespaceUrl(t),o=new Vl;o.value=r,this[`${i}${n}`]=[o]}getNamespaceUrl(t){switch(t){case"edc":return sT.EDC_CONTEXT;case"odrl":return"http://www.w3.org/ns/odrl/2/";case"dcat":return"http://www.w3.org/ns/dcat#";default:throw new Error(`JSON-LD context ${t} not supported`)}}};Gt.JsonLdObject=Cf;var Uj={"@vocab":sT.EDC_CONTEXT},By=class extends Cf{get id(){return this["@id"]}set id(t){this["@id"]=t}};Gt.JsonLdId=By;var Vl=class{get value(){return this["@value"]}set value(t){this["@value"]=t}};Gt.JsonLdValue=Vl});var aT=M(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.Asset=void 0;var Bj=vt(),Hy=class extends Bj.JsonLdId{get properties(){return this.nested("edc","properties")}get privateProperties(){return this.nested("edc","privateProperties")}get dataAddress(){return this.nested("edc","dataAddress")}};_f.Asset=Hy});var lT=M(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.Offer=hi.Dataset=hi.Catalog=void 0;var Gy=vt(),qy=class extends Gy.JsonLdId{get participantId(){return this.mandatoryValue("edc","participantId")}get datasets(){return this.arrayOf(()=>new bf,"dcat","dataset")}};hi.Catalog=qy;var bf=class extends Gy.JsonLdId{get offers(){return this.arrayOf(()=>new wf,"odrl","hasPolicy")}};hi.Dataset=bf;var wf=class extends Gy.JsonLdId{};hi.Offer=wf});var uT=M(cT=>{"use strict";Object.defineProperty(cT,"__esModule",{value:!0})});var fT=M(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0})});var hT=M(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0})});var mT=M(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0})});var yT=M(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.PolicyBuilder=qs.Policy=void 0;var Df=vt(),Ef=class extends Df.JsonLdObject{get permissions(){return this.arrayOf(()=>new Df.JsonLdObject,"odrl","permission")}get prohibitions(){return this.arrayOf(()=>new Df.JsonLdObject,"odrl","prohibition")}get obligations(){return this.arrayOf(()=>new Df.JsonLdObject,"odrl","obligation")}};qs.Policy=Ef;var zy=class{constructor(){this.instance=new Ef,this.instance["@context"]="http://www.w3.org/ns/odrl.jsonld"}raw(t){return this.instance=Object.assign({},this.instance,t),this}type(t){return this.instance["@type"]=t,this}build(){return this.instance}};qs.PolicyBuilder=zy});var CT=M(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0})});var If=M(an=>{"use strict";var $j=an&&an.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Gs=an&&an.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&$j(t,e,n)};Object.defineProperty(an,"__esModule",{value:!0});Gs(uT(),an);Gs(fT(),an);Gs(hT(),an);Gs(mT(),an);Gs(yT(),an);Gs(CT(),an)});var _T=M(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.ContractAgreement=void 0;var Hj=If(),qj=vt(),Wy=class extends qj.JsonLdId{get policy(){return Object.assign(new Hj.Policy,this.nested("edc","policy"))}get assetId(){return this.mandatoryValue("edc","assetId")}get providerId(){return this.mandatoryValue("edc","providerId")}get consumerId(){return this.mandatoryValue("edc","consumerId")}get contractSigningDate(){return this.mandatoryValue("edc","contractSigningDate")}};Tf.ContractAgreement=Wy});var Zy=M(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.Criterion=void 0;var Gj=vt(),Jy=class extends Gj.JsonLdObject{get operandLeft(){return this.mandatoryValue("edc","operandLeft")}get operator(){return this.mandatoryValue("edc","operator")}get operandRight(){return this.mandatoryValue("edc","operandRight")}};xf.Criterion=Jy});var bT=M(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.ContractDefinition=void 0;var zj=Zy(),Wj=vt(),Qy=class extends Wj.JsonLdId{get accessPolicyId(){return this.mandatoryValue("edc","accessPolicyId")}get contractPolicyId(){return this.mandatoryValue("edc","contractPolicyId")}get assetsSelector(){return this.arrayOf(()=>new zj.Criterion,"edc","assetsSelector")}};Sf.ContractDefinition=Qy});var DT=M(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.ContractNegotiationState=zs.ContractNegotiation=void 0;var wT=vt(),Xy=class extends wT.JsonLdId{get contractAgreementId(){return this.mandatoryValue("edc","contractAgreementId")}get state(){return this.mandatoryValue("edc","state")}};zs.ContractNegotiation=Xy;var Ky=class extends wT.JsonLdObject{get state(){return this.mandatoryValue("edc","state")}};zs.ContractNegotiationState=Ky});var IT=M(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0})});var TT=M(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.Dataplane=void 0;var Mf=vt(),Yy=class extends Mf.JsonLdId{get url(){return this.mandatoryValue("edc","url")}get allowedSourceTypes(){return this.arrayOf(()=>new Mf.JsonLdValue,"edc","allowedSourceTypes").map(t=>t.value)}get allowedDestTypes(){return this.arrayOf(()=>new Mf.JsonLdValue,"edc","allowedDestTypes").map(t=>t.value)}get allowedTransferTypes(){return this.arrayOf(()=>new Mf.JsonLdValue,"edc","allowedTransferTypes").map(t=>t.value)}get properties(){return this.nested("edc","properties")}};Af.Dataplane=Yy});var xT=M(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Edr=void 0;var Jj=vt(),ev=class extends Jj.JsonLdId{get transferProcessId(){return this.mandatoryValue("edc","transferProcessId")}get agreementId(){return this.mandatoryValue("edc","agreementId")}get contractNegotiationId(){return this.mandatoryValue("edc","contractNegotiationId")}get assetId(){return this.mandatoryValue("edc","assetId")}get providerId(){return this.mandatoryValue("edc","providerId")}get createdAt(){return this.mandatoryValue("edc","createdAt")}};Nf.Edr=ev});var MT=M(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0})});var AT=M(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.IdResponse=void 0;var Zj=vt(),tv=class extends Zj.JsonLdId{get createdAt(){return this.mandatoryValue("edc","createdAt")}};Of.IdResponse=tv});var NT=M(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.PolicyDefinition=void 0;var Qj=vt(),Xj=If(),nv=class extends Qj.JsonLdId{get createdAt(){return this.mandatoryValue("edc","createdAt")}get policy(){let t=this.nested("edc","policy");return Object.assign(new Xj.Policy,t)}};Rf.PolicyDefinition=nv});var OT=M(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.SecretBuilder=Ws.Secret=void 0;var Kj=vt(),Pf=class extends Kj.JsonLdId{get value(){return super.mandatoryValue("edc","value")}set value(t){super.setValue("edc","value",t)}};Ws.Secret=Pf;var rv=class{constructor(){this.instance=new Pf}raw(t){return this.instance=Object.assign({},this.instance,t),this}id(t){return this.instance.id=t,this}value(t){return this.instance.setValue("edc","value",t),this}build(){return this.instance}};Ws.SecretBuilder=rv});var kT=M(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.TransferProcessStates=gi.TransferProcessState=gi.TransferProcess=void 0;var PT=vt(),iv=class extends PT.JsonLdId{get correlationId(){return this.mandatoryValue("edc","correlationId")}get type(){return this.mandatoryValue("edc","type")}get state(){return this.mandatoryValue("edc","state")}get createdAt(){return this.mandatoryValue("edc","createdAt")}get assetId(){return this.mandatoryValue("edc","assetId")}get connectorId(){return this.mandatoryValue("edc","connectorId")}get contractId(){return this.mandatoryValue("edc","contractId")}get errorDetail(){return this.optionalValue("edc","errorDetail")}get dataDestination(){return this.nested("edc","dataDestination")}get privateProperties(){return this.nested("edc","privateProperties")}};gi.TransferProcess=iv;var ov=class extends PT.JsonLdObject{get state(){return this.mandatoryValue("edc","state")}};gi.TransferProcessState=ov;var RT=function(e){return e.INITIAL="INITIAL",e.PROVISIONING="PROVISIONING",e.PROVISIONING_REQUESTED="PROVISIONING_REQUESTED",e.PROVISIONED="PROVISIONED",e.REQUESTING="REQUESTING",e.REQUESTED="REQUESTED",e.STARTING="STARTING",e.STARTED="STARTED",e.SUSPENDING="SUSPENDING",e.SUSPENDED="SUSPENDED",e.COMPLETING="COMPLETING",e.COMPLETED="COMPLETED",e.TERMINATING="TERMINATING",e.TERMINATED="TERMINATED",e.DEPROVISIONING="DEPROVISIONING",e.DEPROVISIONING_REQUESTED="DEPROVISIONING_REQUESTED",e.DEPROVISIONED="DEPROVISIONED",e}(RT||(gi.TransferProcessStates=RT={}))});var zt=M(De=>{"use strict";var Yj=De&&De.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Qe=De&&De.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Yj(t,e,n)};Object.defineProperty(De,"__esModule",{value:!0});De.EDC_NAMESPACE=void 0;Qe(YD(),De);Qe(aT(),De);Qe(lT(),De);Qe(Ym(),De);Qe(_T(),De);Qe(bT(),De);Qe(DT(),De);Qe(Zy(),De);Qe(IT(),De);Qe(TT(),De);Qe(xT(),De);Qe(MT(),De);Qe(AT(),De);Qe(vt(),De);Qe(NT(),De);Qe(If(),De);Qe(OT(),De);Qe(kT(),De);De.EDC_NAMESPACE="edc"});var LT=M(vi=>{"use strict";var FT=vi&&vi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ct=vi&&vi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},mi,yi,So;Object.defineProperty(vi,"__esModule",{value:!0});vi.AssetController=void 0;var Nr=zt(),sv=class{constructor(t,n){mi.set(this,void 0),yi.set(this,void 0),So.set(this,"/v3/assets"),FT(this,mi,t,"f"),FT(this,yi,n,"f")}create(t,n){return b(this,null,function*(){let r=n||Ct(this,yi,"f");return Ct(this,mi,"f").request(r.management,{path:Ct(this,So,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Nr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Nr.expand)(i,()=>new Nr.IdResponse))})}delete(t,n){return b(this,null,function*(){let r=n||Ct(this,yi,"f");return Ct(this,mi,"f").request(r.management,{path:`${Ct(this,So,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||Ct(this,yi,"f");return Ct(this,mi,"f").request(r.management,{path:`${Ct(this,So,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Nr.expand)(i,()=>new Nr.Asset))})}update(t,n){return b(this,null,function*(){let r=n||Ct(this,yi,"f");return Ct(this,mi,"f").request(r.management,{path:Ct(this,So,"f"),method:"PUT",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Nr.JSON_LD_DEFAULT_CONTEXT})})})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Ct(this,yi,"f");return Ct(this,mi,"f").request(r.management,{path:`${Ct(this,So,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Nr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Nr.expandArray)(i,()=>new Nr.Asset))})}};vi.AssetController=sv;mi=new WeakMap,yi=new WeakMap,So=new WeakMap});var VT=M(Ci=>{"use strict";var jT=Ci&&Ci.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Js=Ci&&Ci.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ul,Bl,kf;Object.defineProperty(Ci,"__esModule",{value:!0});Ci.CatalogController=void 0;var Zs=zt(),av=class{constructor(t,n){Ul.set(this,void 0),Bl.set(this,void 0),kf.set(this,"/v3/catalog"),this.protocol="dataspace-protocol-http",jT(this,Ul,t,"f"),jT(this,Bl,n,"f")}request(t,n){return b(this,null,function*(){let r=n||Js(this,Bl,"f");return Js(this,Ul,"f").request(r.management,{path:`${Js(this,kf,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":Zs.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,Zs.expand)(i,()=>new Zs.Catalog))})}requestDataset(t,n){return b(this,null,function*(){let r=n||Js(this,Bl,"f");return Js(this,Ul,"f").request(r.management,{path:`${Js(this,kf,"f")}/dataset/request`,method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":Zs.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,Zs.expand)(i,()=>new Zs.Dataset))})}queryAll(t,n){return b(this,null,function*(){return this.request(t,n)})}};Ci.CatalogController=av;Ul=new WeakMap,Bl=new WeakMap,kf=new WeakMap});var BT=M(_i=>{"use strict";var UT=_i&&_i.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Or=_i&&_i.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Qs,Xs,$l;Object.defineProperty(_i,"__esModule",{value:!0});_i.ContractAgreementController=void 0;var Mo=zt(),lv=class{constructor(t,n){Qs.set(this,void 0),Xs.set(this,void 0),$l.set(this,"/v3/contractagreements"),UT(this,Qs,t,"f"),UT(this,Xs,n,"f")}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Or(this,Xs,"f");return Or(this,Qs,"f").request(r.management,{path:`${Or(this,$l,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Mo.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Mo.expandArray)(i,()=>new Mo.ContractAgreement))})}get(t,n){return b(this,null,function*(){let r=n||Or(this,Xs,"f");return Or(this,Qs,"f").request(r.management,{path:`${Or(this,$l,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Mo.expand)(i,()=>new Mo.ContractAgreement))})}getNegotiation(t,n){return b(this,null,function*(){let r=n||Or(this,Xs,"f");return Or(this,Qs,"f").request(r.management,{path:`${Or(this,$l,"f")}/${t}/negotiation`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Mo.expand)(i,()=>new Mo.ContractNegotiation))})}};_i.ContractAgreementController=lv;Qs=new WeakMap,Xs=new WeakMap,$l=new WeakMap});var HT=M(Di=>{"use strict";var $T=Di&&Di.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},_t=Di&&Di.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},bi,wi,Ao;Object.defineProperty(Di,"__esModule",{value:!0});Di.ContractDefinitionController=void 0;var Rr=zt(),cv=class{constructor(t,n){bi.set(this,void 0),wi.set(this,void 0),Ao.set(this,"/v3/contractdefinitions"),$T(this,bi,t,"f"),$T(this,wi,n,"f")}create(t,n){return b(this,null,function*(){let r=n||_t(this,wi,"f");return _t(this,bi,"f").request(r.management,{path:_t(this,Ao,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Rr.expand)(i,()=>new Rr.IdResponse))})}delete(t,n){return b(this,null,function*(){let r=n||_t(this,wi,"f");return _t(this,bi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||_t(this,wi,"f");return _t(this,bi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Rr.expand)(i,()=>new Rr.ContractDefinition))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||_t(this,wi,"f");return _t(this,bi,"f").request(r.management,{path:`${_t(this,Ao,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Rr.expandArray)(i,()=>new Rr.ContractDefinition))})}update(t,n){return b(this,null,function*(){let r=n||_t(this,wi,"f");return _t(this,bi,"f").request(r.management,{path:_t(this,Ao,"f"),method:"PUT",apiToken:r.apiToken,body:Object.assign(Object.assign({},t),{"@context":Rr.JSON_LD_DEFAULT_CONTEXT})})})}};Di.ContractDefinitionController=cv;bi=new WeakMap,wi=new WeakMap,Ao=new WeakMap});var GT=M(Ii=>{"use strict";var qT=Ii&&Ii.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Xe=Ii&&Ii.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Pr,kr,Ei;Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ContractNegotiationController=void 0;var Wt=zt(),uv=class{constructor(t,n){Pr.set(this,void 0),kr.set(this,void 0),Ei.set(this,"/v3/contractnegotiations"),this.protocol="dataspace-protocol-http",qT(this,Pr,t,"f"),qT(this,kr,n,"f")}initiate(t,n){return b(this,null,function*(){let r=n||Xe(this,kr,"f");return Xe(this,Pr,"f").request(r.management,{path:Xe(this,Ei,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign({protocol:this.protocol,"@context":Wt.JSON_LD_DEFAULT_CONTEXT},t)}).then(i=>(0,Wt.expand)(i,()=>new Wt.IdResponse))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Xe(this,kr,"f");return Xe(this,Pr,"f").request(r.management,{path:`${Xe(this,Ei,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Wt.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Wt.expandArray)(i,()=>new Wt.ContractNegotiation))})}get(t,n){return b(this,null,function*(){let r=n||Xe(this,kr,"f");return Xe(this,Pr,"f").request(r.management,{path:`${Xe(this,Ei,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractNegotiation))})}getState(t,n){return b(this,null,function*(){let r=n||Xe(this,kr,"f");return Xe(this,Pr,"f").request(r.management,{path:`${Xe(this,Ei,"f")}/${t}/state`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractNegotiationState))})}terminate(t,n,r){return b(this,null,function*(){let i=r||Xe(this,kr,"f");return Xe(this,Pr,"f").request(i.management,{path:`${Xe(this,Ei,"f")}/${t}/terminate`,method:"POST",apiToken:i.apiToken,body:{reason:n,"@id":t,"@context":Wt.JSON_LD_DEFAULT_CONTEXT}})})}getAgreement(t,n){return b(this,null,function*(){let r=n||Xe(this,kr,"f");return Xe(this,Pr,"f").request(r.management,{path:`${Xe(this,Ei,"f")}/${t}/agreement`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Wt.expand)(i,()=>new Wt.ContractAgreement))})}};Ii.ContractNegotiationController=uv;Pr=new WeakMap,kr=new WeakMap,Ei=new WeakMap});var JT=M(Ti=>{"use strict";var zT=Ti&&Ti.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},dv=Ti&&Ti.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ff,Lf,fv;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.DataplaneController=void 0;var WT=zt(),pv=class{constructor(t,n){Ff.set(this,void 0),Lf.set(this,void 0),fv.set(this,"/v3/dataplanes"),zT(this,Ff,t,"f"),zT(this,Lf,n,"f")}list(t){return b(this,null,function*(){let n=t||dv(this,Lf,"f");return dv(this,Ff,"f").request(n.management,{path:dv(this,fv,"f"),method:"GET",apiToken:n.apiToken}).then(r=>(0,WT.expandArray)(r,()=>new WT.Dataplane))})}};Ti.DataplaneController=pv;Ff=new WeakMap,Lf=new WeakMap,fv=new WeakMap});var QT=M(xi=>{"use strict";var ZT=xi&&xi.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Fr=xi&&xi.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ks,Ys,ql;Object.defineProperty(xi,"__esModule",{value:!0});xi.EdrController=void 0;var Hl=zt(),hv=class{constructor(t,n){Ks.set(this,void 0),Ys.set(this,void 0),ql.set(this,"/v3/edrs"),ZT(this,Ks,t,"f"),ZT(this,Ys,n,"f")}request(){return b(this,arguments,function*(t={},n){let r=n||Fr(this,Ys,"f");return Fr(this,Ks,"f").request(r.management,{path:`${Fr(this,ql,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Hl.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Hl.expandArray)(i,()=>new Hl.Edr))})}delete(t,n){return b(this,null,function*(){let r=n||Fr(this,Ys,"f");return Fr(this,Ks,"f").request(r.management,{path:`${Fr(this,ql,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}dataAddress(t,n){return b(this,null,function*(){let r=n||Fr(this,Ys,"f");return Fr(this,Ks,"f").request(r.management,{path:`${Fr(this,ql,"f")}/${t}/dataaddress`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Hl.expand)(i,()=>new Hl.JsonLdObject))})}};xi.EdrController=hv;Ks=new WeakMap,Ys=new WeakMap,ql=new WeakMap});var KT=M(Ai=>{"use strict";var XT=Ai&&Ai.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},bt=Ai&&Ai.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Si,Mi,No;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.PolicyDefinitionController=void 0;var Lr=zt(),gv=class{constructor(t,n){Si.set(this,void 0),Mi.set(this,void 0),No.set(this,"/v3/policydefinitions"),XT(this,Si,t,"f"),XT(this,Mi,n,"f")}create(t,n){return b(this,null,function*(){let r=n||bt(this,Mi,"f"),i=Object.assign(Object.assign({},t),{"@context":Lr.JSON_LD_DEFAULT_CONTEXT});return bt(this,Si,"f").request(r.management,{path:bt(this,No,"f"),method:"POST",apiToken:r.apiToken,body:i}).then(o=>(0,Lr.expand)(o,()=>new Lr.IdResponse))})}update(t,n,r){return b(this,null,function*(){let i=r||bt(this,Mi,"f");return bt(this,Si,"f").request(i.management,{path:`${bt(this,No,"f")}/${t}`,method:"PUT",apiToken:i.apiToken,body:Object.assign(Object.assign({},n),{"@context":Lr.JSON_LD_DEFAULT_CONTEXT})})})}delete(t,n){return b(this,null,function*(){let r=n||bt(this,Mi,"f");return bt(this,Si,"f").request(r.management,{path:`${bt(this,No,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}get(t,n){return b(this,null,function*(){let r=n||bt(this,Mi,"f");return bt(this,Si,"f").request(r.management,{path:`${bt(this,No,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,Lr.expand)(i,()=>new Lr.PolicyDefinition))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||bt(this,Mi,"f");return bt(this,Si,"f").request(r.management,{path:`${bt(this,No,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":Lr.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,Lr.expandArray)(i,()=>new Lr.PolicyDefinition))})}};Ai.PolicyDefinitionController=gv;Si=new WeakMap,Mi=new WeakMap,No=new WeakMap});var ex=M(Ni=>{"use strict";var YT=Ni&&Ni.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ln=Ni&&Ni.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Oo,Ro,ta;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.SecretController=void 0;var ea=zt(),mv=class{constructor(t,n){Oo.set(this,void 0),Ro.set(this,void 0),ta.set(this,"/v3/secrets"),YT(this,Oo,t,"f"),YT(this,Ro,n,"f")}create(t,n){return b(this,null,function*(){let r=n||ln(this,Ro,"f"),i=yield(0,ea.compact)(Object.assign(Object.assign({},t),{"@context":ea.JSON_LD_DEFAULT_CONTEXT}));return ln(this,Oo,"f").request(r.management,{path:ln(this,ta,"f"),method:"POST",apiToken:r.apiToken,body:i})})}get(t,n){return b(this,null,function*(){let r=n||ln(this,Ro,"f");return ln(this,Oo,"f").request(r.management,{path:`${ln(this,ta,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,ea.expand)(i,()=>new ea.Secret))})}update(t,n){return b(this,null,function*(){let r=n||ln(this,Ro,"f"),i=yield(0,ea.compact)(Object.assign(Object.assign({},t),{"@context":ea.JSON_LD_DEFAULT_CONTEXT}));return ln(this,Oo,"f").request(r.management,{path:ln(this,ta,"f"),method:"PUT",apiToken:r.apiToken,body:i})})}delete(t,n){return b(this,null,function*(){let r=n||ln(this,Ro,"f");return ln(this,Oo,"f").request(r.management,{path:`${ln(this,ta,"f")}/${t}`,method:"DELETE",apiToken:r.apiToken})})}};Ni.SecretController=mv;Oo=new WeakMap,Ro=new WeakMap,ta=new WeakMap});var nx=M(Ri=>{"use strict";var tx=Ri&&Ri.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ke=Ri&&Ri.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jr,Vr,Oi;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.TransferProcessController=void 0;var cn=zt(),yv=class{constructor(t,n){jr.set(this,void 0),Vr.set(this,void 0),Oi.set(this,"/v3/transferprocesses"),this.protocol="dataspace-protocol-http",tx(this,jr,t,"f"),tx(this,Vr,n,"f")}initiate(t,n){return b(this,null,function*(){let r=n||Ke(this,Vr,"f");return Ke(this,jr,"f").request(r.management,{path:Ke(this,Oi,"f"),method:"POST",apiToken:r.apiToken,body:Object.assign({"@context":cn.JSON_LD_DEFAULT_CONTEXT,protocol:this.protocol},t)}).then(i=>(0,cn.expand)(i,()=>new cn.IdResponse))})}get(t,n){return b(this,null,function*(){let r=n||Ke(this,Vr,"f");return Ke(this,jr,"f").request(r.management,{path:`${Ke(this,Oi,"f")}/${t}`,method:"GET",apiToken:r.apiToken}).then(i=>(0,cn.expand)(i,()=>new cn.TransferProcess))})}queryAll(){return b(this,arguments,function*(t={},n){let r=n||Ke(this,Vr,"f");return Ke(this,jr,"f").request(r.management,{path:`${Ke(this,Oi,"f")}/request`,method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":cn.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,cn.expandArray)(i,()=>new cn.TransferProcess))})}getState(t,n){return b(this,null,function*(){let r=n||Ke(this,Vr,"f");return Ke(this,jr,"f").request(r.management,{path:`${Ke(this,Oi,"f")}/${t}/state`,method:"GET",apiToken:r.apiToken}).then(i=>(0,cn.expand)(i,()=>new cn.TransferProcessState))})}terminate(t,n,r){return b(this,null,function*(){let i=r||Ke(this,Vr,"f");return Ke(this,jr,"f").request(i.management,{path:`${Ke(this,Oi,"f")}/${t}/terminate`,method:"POST",apiToken:i.apiToken,body:{"@id":t,"@context":cn.JSON_LD_DEFAULT_CONTEXT,reason:n}})})}deprovision(t,n){return b(this,null,function*(){let r=n||Ke(this,Vr,"f");return Ke(this,jr,"f").request(r.management,{path:`${Ke(this,Oi,"f")}/${t}/deprovision`,method:"POST",apiToken:r.apiToken,body:{"@id":t,"@context":cn.JSON_LD_DEFAULT_CONTEXT}})})}};Ri.TransferProcessController=yv;jr=new WeakMap,Vr=new WeakMap,Oi=new WeakMap});var vv=M(ct=>{"use strict";var eV=ct&&ct.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Kn=ct&&ct.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&eV(t,e,n)};Object.defineProperty(ct,"__esModule",{value:!0});Kn(LT(),ct);Kn(VT(),ct);Kn(BT(),ct);Kn(HT(),ct);Kn(GT(),ct);Kn(JT(),ct);Kn(QT(),ct);Kn(KT(),ct);Kn(ex(),ct);Kn(nx(),ct)});var na=M(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.EdcController=void 0;var Cv=class{constructor(t,n){this.inner=t,this.context=n}};jf.EdcController=Cv});var rx=M(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.ObservabilityController=void 0;var tV=na(),_v=class extends tV.EdcController{checkHealth(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/health",method:"GET",apiToken:n.apiToken})})}checkLiveness(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/liveness",method:"GET",apiToken:n.apiToken})})}checkReadiness(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/readiness",method:"GET",apiToken:n.apiToken})})}checkStartup(t){return b(this,null,function*(){let n=t||this.context;return this.inner.request(n.default,{path:"/check/startup",method:"GET",apiToken:n.apiToken})})}};Vf.ObservabilityController=_v});var ix=M(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.PublicController=void 0;var nV=na(),bv=class extends nV.EdcController{getTransferredData(t,n){return b(this,null,function*(){let r=n||this.context;return this.inner.stream(r.public,{path:"/",method:"GET",headers:t})})}};Uf.PublicController=bv});var Ev=M(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.FederatedCatalogController=void 0;var rV=na(),wv=zt(),Dv=class extends rV.EdcController{constructor(t,n){super(t,n)}queryAll(){return b(this,arguments,function*(t={},n){let r=n||this.context;return this.inner.request(r.federatedCatalog,{path:"/v1alpha/catalog/query",method:"POST",apiToken:r.apiToken,body:Object.keys(t).length===0?null:Object.assign(Object.assign({},t),{"@context":wv.JSON_LD_DEFAULT_CONTEXT})}).then(i=>(0,wv.expandArray)(i,()=>new wv.Catalog))})}};Bf.FederatedCatalogController=Dv});var ox=M(Yn=>{"use strict";var iV=Yn&&Yn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),$f=Yn&&Yn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&iV(t,e,n)};Object.defineProperty(Yn,"__esModule",{value:!0});$f(vv(),Yn);$f(rx(),Yn);$f(ix(),Yn);$f(Ev(),Yn)});var sx=M(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.ManagementController=void 0;var er=vv(),oV=na(),Iv=class extends oV.EdcController{get assets(){return new er.AssetController(this.inner,this.context)}get catalog(){return new er.CatalogController(this.inner,this.context)}get contractAgreements(){return new er.ContractAgreementController(this.inner,this.context)}get contractDefinitions(){return new er.ContractDefinitionController(this.inner,this.context)}get contractNegotiations(){return new er.ContractNegotiationController(this.inner,this.context)}get dataplanes(){return new er.DataplaneController(this.inner,this.context)}get edrs(){return new er.EdrController(this.inner,this.context)}get secrets(){return new er.SecretController(this.inner,this.context)}get policyDefinitions(){return new er.PolicyDefinitionController(this.inner,this.context)}get transferProcesses(){return new er.TransferProcessController(this.inner,this.context)}};Hf.ManagementController=Iv});var ax=M(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.TypedError=void 0;var Tv=class extends Error{constructor(t,n,r){super(n,r),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=t}get name(){return`${this.constructor.name}(${this.type})`}};qf.TypedError=Tv});var Sv=M(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.EdcConnectorClientError=ra.EdcConnectorClientErrorType=void 0;var sV=ax(),lx=function(e){return e.Unknown="Unknown",e.Duplicate="Duplicate",e.NotFound="NotFound",e.BadRequest="BadRequest",e.Unreachable="Unreachable",e}(lx||(ra.EdcConnectorClientErrorType=lx={})),xv=class extends sV.TypedError{};ra.EdcConnectorClientError=xv});var ux=M(ia=>{"use strict";var cx=ia&&ia.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gf,Mv;Object.defineProperty(ia,"__esModule",{value:!0});ia.Inner=void 0;var Jt=Sv(),Av=class{constructor(){Gf.add(this)}request(t,n){return b(this,null,function*(){n.headers=n.headers||{},n.headers["Content-type"]="application/json";let r=yield cx(this,Gf,"m",Mv).call(this,t,n);if(r.status!==204)return r.json()})}stream(t,n){return b(this,null,function*(){let r=yield cx(this,Gf,"m",Mv).call(this,t,n);if(r.status===204||!r.body)throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unreachable,"response is never empty");return r})}};ia.Inner=Av;Gf=new WeakSet,Mv=function(t,n){return b(this,null,function*(){var r;let i=new URLSearchParams;n.query&&Object.entries(n.query).forEach(([l,c])=>{i.append(l,c)});let o=`${t}${n.path}?${i.toString()}`,s=n.method,a=new Request(o,{method:s,headers:Object.assign(Object.assign({},n.headers),{"X-Api-Key":(r=n.apiToken)!==null&&r!==void 0?r:""}),body:n.body?JSON.stringify(n.body):void 0});try{let l=yield fetch(a);if(l.ok)return l;let c=yield l.text();switch(l.status){case 400:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.BadRequest,"request was malformed: "+c);case 404:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.NotFound,"resource not found: "+c);case 409:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Duplicate,"duplicated resource: "+c);default:throw new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unknown,c)}}catch(l){if(!(l instanceof Jt.EdcConnectorClientError)){let c=l;l=new Jt.EdcConnectorClientError(Jt.EdcConnectorClientErrorType.Unknown,`something went wrong: ${c.message}. ${c.body}`,{cause:c})}throw l}})}});var hx=M(oa=>{"use strict";var Ur=oa&&oa.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Sn,fx,px;Object.defineProperty(oa,"__esModule",{value:!0});oa.EdcConnectorClient=void 0;var aV=XD(),Gl=Km(),dx=ox(),lV=sx(),cV=ux(),uV=Ev(),zl=Symbol("[#apiToken]"),un=Symbol("[#addressesToken]"),Wl=Symbol("[#innerToken]"),Nv=class{constructor(){Sn.set(this,new Jl)}apiToken(t){return Ur(this,Sn,"f")[zl]=t,this}managementUrl(t){return Ur(this,Sn,"f")[un].management=t,this}defaultUrl(t){return Ur(this,Sn,"f")[un].default=t,this}protocolUrl(t){return Ur(this,Sn,"f")[un].protocol=t,this}publicUrl(t){return Ur(this,Sn,"f")[un].public=t,this}controlUrl(t){return Ur(this,Sn,"f")[un].control=t,this}federatedCatalogUrl(t){return Ur(this,Sn,"f")[un].federatedCatalogUrl=t,this}use(t,n){return Object.defineProperty(Ur(this,Sn,"f"),t,{get(){return new n(this.inner,this.createContext(this.apiToken,this.addresses))},enumerable:!0,configurable:!1}),this}build(){return Ur(this,Sn,"f")}};Sn=new WeakMap;var Jl=class{constructor(){this[fx]={},this[px]=new cV.Inner}get management(){let t=new Gl.EdcConnectorClientContext(this[zl],this[un]);return new lV.ManagementController(this[Wl],t)}get observability(){let t=new Gl.EdcConnectorClientContext(this[zl],this[un]);return new dx.ObservabilityController(this[Wl],t)}get public(){let t=new Gl.EdcConnectorClientContext(this[zl],this[un]);return new dx.PublicController(this[Wl],t)}get federatedCatalog(){let t=new Gl.EdcConnectorClientContext(this[zl],this[un]);return new uV.FederatedCatalogController(this[Wl],t)}get addresses(){return Object.assign({},this[un])}createContext(t,n){return new Gl.EdcConnectorClientContext(t,n)}static version(){return aV.version}};oa.EdcConnectorClient=Jl;fx=un,px=Wl;Jl.Builder=Nv});var gx=M(Mn=>{"use strict";var dV=Mn&&Mn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Zl=Mn&&Mn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&dV(t,e,n)};Object.defineProperty(Mn,"__esModule",{value:!0});Zl(Km(),Mn);Zl(hx(),Mn);Zl(zt(),Mn);Zl(Sv(),Mn);Zl(na(),Mn)});function op(e,t){return Object.is(e,t)}var je=null,Yl=!1,sp=1,Zt=Symbol("SIGNAL");function K(e){let t=je;return je=e,t}function ap(){return je}var la={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ca(e){if(Yl)throw new Error("");if(je===null)return;je.consumerOnSignalRead(e);let t=je.nextProducerIndex++;if(rc(je),t<je.producerNode.length&&je.producerNode[t]!==e&&aa(je)){let n=je.producerNode[t];nc(n,je.producerIndexOfThis[t])}je.producerNode[t]!==e&&(je.producerNode[t]=e,je.producerIndexOfThis[t]=aa(je)?Vv(e,je,t):0),je.producerLastReadVersion[t]=e.version}function jv(){sp++}function lp(e){if(!(aa(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===sp)){if(!e.producerMustRecompute(e)&&!fp(e)){ip(e);return}e.producerRecomputeValue(e),ip(e)}}function cp(e){if(e.liveConsumerNode===void 0)return;let t=Yl;Yl=!0;try{for(let n of e.liveConsumerNode)n.dirty||Ox(n)}finally{Yl=t}}function up(){return je?.consumerAllowSignalWrites!==!1}function Ox(e){e.dirty=!0,cp(e),e.consumerMarkedDirty?.(e)}function ip(e){e.dirty=!1,e.lastCleanEpoch=sp}function tc(e){return e&&(e.nextProducerIndex=0),K(e)}function dp(e,t){if(K(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(aa(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)nc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function fp(e){rc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(lp(n),r!==n.version))return!0}return!1}function pp(e){if(rc(e),aa(e))for(let t=0;t<e.producerNode.length;t++)nc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Vv(e,t,n){if(Uv(e),e.liveConsumerNode.length===0&&Bv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Vv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function nc(e,t){if(Uv(e),e.liveConsumerNode.length===1&&Bv(e))for(let r=0;r<e.producerNode.length;r++)nc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];rc(i),i.producerIndexOfThis[r]=t}}function aa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function rc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Uv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Bv(e){return e.producerNode!==void 0}function hp(e,t){let n=Object.create(Rx);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(lp(n),ca(n),n.value===ec)throw n.error;return n.value};return r[Zt]=n,r}var np=Symbol("UNSET"),rp=Symbol("COMPUTING"),ec=Symbol("ERRORED"),Rx=B(I({},la),{value:np,dirty:!0,error:null,equal:op,kind:"computed",producerMustRecompute(e){return e.value===np||e.value===rp},producerRecomputeValue(e){if(e.value===rp)throw new Error("Detected cycle in computations.");let t=e.value;e.value=rp;let n=tc(e),r,i=!1;try{r=e.computation(),K(null),i=t!==np&&t!==ec&&r!==ec&&e.equal(t,r)}catch(o){r=ec,e.error=o}finally{dp(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Px(){throw new Error}var $v=Px;function Hv(e){$v(e)}function gp(e){$v=e}var kx=null;function mp(e,t){let n=Object.create(ic);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ca(n),n.value);return r[Zt]=n,r}function ua(e,t){up()||Hv(e),e.equal(e.value,t)||(e.value=t,Fx(e))}function yp(e,t){up()||Hv(e),ua(e,t(e.value))}var ic=B(I({},la),{equal:op,value:void 0,kind:"signal"});function Fx(e){e.version++,jv(),cp(e),kx?.()}function vp(e){let t=K(null);try{return e()}finally{K(t)}}var Cp;function da(){return Cp}function tr(e){let t=Cp;return Cp=e,t}var oc=Symbol("NotFound");function G(e){return typeof e=="function"}function Br(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sc=Br(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ne=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof sc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qv(o)}catch(s){t=t??[],s instanceof sc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new sc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)qv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Pi(n,t)}remove(t){let{_finalizers:n}=this;n&&Pi(n,t),t instanceof e&&t._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var _p=Ne.EMPTY;function ac(e){return e instanceof Ne||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function qv(e){G(e)?e():e.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ko={setTimeout(e,t,...n){let{delegate:r}=ko;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ko;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function lc(e){ko.setTimeout(()=>{let{onUnhandledError:t}=dn;if(t)t(e);else throw e})}function fa(){}var Gv=bp("C",void 0,void 0);function zv(e){return bp("E",void 0,e)}function Wv(e){return bp("N",e,void 0)}function bp(e,t,n){return{kind:e,value:t,error:n}}var ki=null;function Fo(e){if(dn.useDeprecatedSynchronousErrorHandling){let t=!ki;if(t&&(ki={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ki;if(ki=null,n)throw r}}else e()}function Jv(e){dn.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=e)}var Fi=class extends Ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ac(t)&&t.add(this)):this.destination=$x}static create(t,n,r){return new $r(t,n,r)}next(t){this.isStopped?Dp(Wv(t),this):this._next(t)}error(t){this.isStopped?Dp(zv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Dp(Gv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ux=Function.prototype.bind;function wp(e,t){return Ux.call(e,t)}var Ep=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){cc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){cc(r)}else cc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){cc(n)}}},$r=class extends Fi{constructor(t,n,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&wp(t.next,o),error:t.error&&wp(t.error,o),complete:t.complete&&wp(t.complete,o)}):i=t}this.destination=new Ep(i)}};function cc(e){dn.useDeprecatedSynchronousErrorHandling?Jv(e):lc(e)}function Bx(e){throw e}function Dp(e,t){let{onStoppedNotification:n}=dn;n&&ko.setTimeout(()=>n(e,t))}var $x={closed:!0,next:fa,error:Bx,complete:fa};var Lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(e){return e}function Ip(...e){return Tp(e)}function Tp(e){return e.length===0?Ot:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var ue=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qx(n)?n:new $r(n,r,i);return Fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zv(r),new r((i,o)=>{let s=new $r({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lo](){return this}pipe(...n){return Tp(n)(this)}toPromise(n){return n=Zv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Zv(e){var t;return(t=e??dn.Promise)!==null&&t!==void 0?t:Promise}function Hx(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function qx(e){return e&&e instanceof Fi||Hx(e)&&ac(e)}function xp(e){return G(e?.lift)}function se(e){return t=>{if(xp(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(e,t,n,r,i){return new Sp(e,t,n,r,i)}var Sp=class extends Fi{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function jo(){return se((e,t)=>{let n=null;e._refCount++;let r=re(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Vo=class extends ue{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ne;let n=this.getSubject();t.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ne.EMPTY)}return t}refCount(){return jo()(this)}};var Qv=Br(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class e extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qv}next(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_p:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Pi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return e.create=(t,n)=>new uc(t,n),e})(),uc=class extends Oe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:_p}};var _e=class extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Mp={now(){return(Mp.delegate||Date).now()},delegate:void 0};var dc=class extends Ne{constructor(t,n){super()}schedule(t,n=0){return this}};var pa={setInterval(e,t,...n){let{delegate:r}=pa;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=pa;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var fc=class extends dc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return pa.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&pa.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Uo=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Uo.now=Mp.now;var pc=class extends Uo{constructor(t,n=Uo.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Xv=new pc(fc);var Dt=new ue(e=>e.complete());function Kv(e){return e&&G(e.schedule)}function Yv(e){return e[e.length-1]}function hc(e){return G(Yv(e))?e.pop():void 0}function Hr(e){return Kv(Yv(e))?e.pop():void 0}function tC(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function eC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function nC(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(u){return function(p){return Promise.resolve(p).then(u,f)}}function a(u,p){r[u]&&(i[u]=function(g){return new Promise(function(m,y){o.push([u,g,m,y])>1||l(u,g)})},p&&(i[u]=p(i[u])))}function l(u,p){try{c(r[u](p))}catch(g){h(o[0][3],g)}}function c(u){u.value instanceof Li?Promise.resolve(u.value.v).then(d,f):h(o[0][2],u)}function d(u){l("next",u)}function f(u){l("throw",u)}function h(u,p){u(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function rC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof eC=="function"?eC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var gc=e=>e&&typeof e.length=="number"&&typeof e!="function";function mc(e){return G(e?.then)}function yc(e){return G(e[Lo])}function vc(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Cc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Gx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _c=Gx();function bc(e){return G(e?.[_c])}function wc(e){return nC(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Li(n.read());if(i)return yield Li(void 0);yield yield Li(r)}}finally{n.releaseLock()}})}function Dc(e){return G(e?.getReader)}function Re(e){if(e instanceof ue)return e;if(e!=null){if(yc(e))return zx(e);if(gc(e))return Wx(e);if(mc(e))return Jx(e);if(vc(e))return iC(e);if(bc(e))return Zx(e);if(Dc(e))return Qx(e)}throw Cc(e)}function zx(e){return new ue(t=>{let n=e[Lo]();if(G(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wx(e){return new ue(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Jx(e){return new ue(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,lc)})}function Zx(e){return new ue(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function iC(e){return new ue(t=>{Xx(e,t).catch(n=>t.error(n))})}function Qx(e){return iC(wc(e))}function Xx(e,t){var n,r,i,o;return tC(this,void 0,void 0,function*(){try{for(n=rC(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function rt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ec(e,t=0){return se((n,r)=>{n.subscribe(re(r,i=>rt(r,e,()=>r.next(i),t),()=>rt(r,e,()=>r.complete(),t),i=>rt(r,e,()=>r.error(i),t)))})}function Ic(e,t=0){return se((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function oC(e,t){return Re(e).pipe(Ic(t),Ec(t))}function sC(e,t){return Re(e).pipe(Ic(t),Ec(t))}function aC(e,t){return new ue(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function lC(e,t){return new ue(n=>{let r;return rt(n,t,()=>{r=e[_c](),rt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Tc(e,t){if(!e)throw new Error("Iterable cannot be null");return new ue(n=>{rt(n,t,()=>{let r=e[Symbol.asyncIterator]();rt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cC(e,t){return Tc(wc(e),t)}function uC(e,t){if(e!=null){if(yc(e))return oC(e,t);if(gc(e))return aC(e,t);if(mc(e))return sC(e,t);if(vc(e))return Tc(e,t);if(bc(e))return lC(e,t);if(Dc(e))return cC(e,t)}throw Cc(e)}function be(e,t){return t?uC(e,t):Re(e)}function H(...e){let t=Hr(e);return be(e,t)}function Bo(e,t){let n=G(e)?e:()=>e,r=i=>i.error(n());return new ue(t?i=>t.schedule(r,0,i):r)}function Ap(e){return!!e&&(e instanceof ue||G(e.lift)&&G(e.subscribe))}var fn=Br(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function qr(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new $r({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new fn)}});e.subscribe(o)})}function dC(e){return e instanceof Date&&!isNaN(e)}var Kx=Br(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function Np(e,t){let{first:n,each:r,with:i=Yx,scheduler:o=t??Xv,meta:s=null}=dC(e)?{first:e}:typeof e=="number"?{each:e}:e;if(n==null&&r==null)throw new TypeError("No timeout provided.");return se((a,l)=>{let c,d,f=null,h=0,u=p=>{d=rt(l,o,()=>{try{c.unsubscribe(),Re(i({meta:s,lastValue:f,seen:h})).subscribe(l)}catch(g){l.error(g)}},p)};c=a.subscribe(re(l,p=>{d?.unsubscribe(),h++,l.next(f=p),r>0&&u(r)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!h&&u(n!=null?typeof n=="number"?n:+n-o.now():r)})}function Yx(e){throw new Kx(e)}function Y(e,t){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:eS}=Array;function tS(e,t){return eS(t)?e(...t):e(t)}function xc(e){return Y(t=>tS(e,t))}var{isArray:nS}=Array,{getPrototypeOf:rS,prototype:iS,keys:oS}=Object;function Sc(e){if(e.length===1){let t=e[0];if(nS(t))return{args:t,keys:null};if(sS(t)){let n=oS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function sS(e){return e&&typeof e=="object"&&rS(e)===iS}function Mc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ac(...e){let t=Hr(e),n=hc(e),{args:r,keys:i}=Sc(e);if(r.length===0)return be([],t);let o=new ue(aS(r,t,i?s=>Mc(i,s):Ot));return n?o.pipe(xc(n)):o}function aS(e,t,n=Ot){return r=>{fC(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)fC(t,()=>{let c=be(e[l],t),d=!1;c.subscribe(re(r,f=>{o[l]=f,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fC(e,t,n){e?rt(n,e,t):t()}function pC(e,t,n,r,i,o,s,a){let l=[],c=0,d=0,f=!1,h=()=>{f&&!l.length&&!c&&t.complete()},u=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let m=!1;Re(n(g,d++)).subscribe(re(t,y=>{i?.(y),o?u(y):t.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){let y=l.shift();s?rt(t,s,()=>p(y)):p(y)}h()}catch(y){t.error(y)}}))};return e.subscribe(re(t,u,()=>{f=!0,h()})),()=>{a?.()}}function Fe(e,t,n=1/0){return G(t)?Fe((r,i)=>Y((o,s)=>t(r,o,i,s))(Re(e(r,i))),n):(typeof t=="number"&&(n=t),se((r,i)=>pC(r,i,e,n)))}function $o(e=1/0){return Fe(Ot,e)}function hC(){return $o(1)}function Ho(...e){return hC()(be(e,Hr(e)))}function Nc(e){return new ue(t=>{Re(e()).subscribe(t)})}function Op(...e){let t=hc(e),{args:n,keys:r}=Sc(e),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;Re(n[d]).subscribe(re(o,h=>{f||(f=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Mc(r,a):a),o.complete())}))}});return t?i.pipe(xc(t)):i}function Ye(e,t){return se((n,r)=>{let i=0;n.subscribe(re(r,o=>e.call(t,o,i++)&&r.next(o)))})}function nr(e){return se((t,n)=>{let r=null,i=!1,o;r=t.subscribe(re(n,void 0,void 0,s=>{o=Re(e(s,nr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gC(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(re(s,d=>{let f=c++;l=a?e(l,d,f):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function rr(e,t){return G(t)?Fe(e,t,1):Fe(e,1)}function Gr(e){return se((t,n)=>{let r=!1;t.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ir(e){return e<=0?()=>Dt:se((t,n)=>{let r=0;t.subscribe(re(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Oc(e=lS){return se((t,n)=>{let r=!1;t.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function lS(){return new fn}function ji(e){return se((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function or(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ye((i,o)=>e(i,o,r)):Ot,ir(1),n?Gr(t):Oc(()=>new fn))}function qo(e){return e<=0?()=>Dt:se((t,n)=>{let r=[];t.subscribe(re(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rp(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ye((i,o)=>e(i,o,r)):Ot,qo(1),n?Gr(t):Oc(()=>new fn))}function Pp(e,t){return se(gC(e,t,arguments.length>=2,!0))}function kp(...e){let t=Hr(e);return se((n,r)=>{(t?Ho(e,n,t):Ho(e,n)).subscribe(r)})}function Rt(e,t){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(re(r,l=>{i?.unsubscribe();let c=0,d=o++;Re(e(l,d)).subscribe(i=re(r,f=>r.next(t?t(l,f,d,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Rc(e){return se((t,n)=>{Re(e).subscribe(re(n,()=>n.complete(),fa)),!n.closed&&t.subscribe(n)})}function et(e,t,n){let r=G(e)||t||n?{next:e,error:t,complete:n}:e;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(re(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ot}var l_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(t,n){super(uS(t,n)),this.code=t}};function cS(e){return`NG0${Math.abs(e)}`}function uS(e,t){return`${cS(e)}${t?": "+t:""}`}var c_=Symbol("InputSignalNode#UNSET"),dS=B(I({},ic),{transformFn:void 0,applyValueToInputSignal(e,t){ua(e,t)}});function u_(e,t){let n=Object.create(dS);n.value=e,n.transformFn=t?.transform;function r(){if(ca(n),n.value===c_){let i=null;throw new R(-950,i)}return n.value}return r[Zt]=n,r}function Na(e){return{toString:e}.toString()}var Pc="__parameters__";function fS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function d_(e,t,n){return Na(()=>{let r=fS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let f=l.hasOwnProperty(Pc)?l[Pc]:Object.defineProperty(l,Pc,{value:[]})[Pc];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var va=globalThis;function me(e){for(let t in e)if(e[t]===me)return t;throw Error("Could not find renamed property on target object.")}function pS(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Tt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Xp(e,t){return e?t?`${e} ${t}`:e:t||""}var hS=me({__forward_ref__:me});function Xt(e){return e.__forward_ref__=Xt,e.toString=function(){return Tt(this())},e}function dt(e){return f_(e)?e():e}function f_(e){return typeof e=="function"&&e.hasOwnProperty(hS)&&e.__forward_ref__===Xt}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dr(e){return{providers:e.providers||[],imports:e.imports||[]}}function vu(e){return mC(e,h_)||mC(e,g_)}function p_(e){return vu(e)!==null}function mC(e,t){return e.hasOwnProperty(t)?e[t]:null}function gS(e){let t=e&&(e[h_]||e[g_]);return t||null}function yC(e){return e&&(e.hasOwnProperty(vC)||e.hasOwnProperty(mS))?e[vC]:null}var h_=me({\u0275prov:me}),vC=me({\u0275inj:me}),g_=me({ngInjectableDef:me}),mS=me({ngInjectorDef:me}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function m_(e){return e&&!!e.\u0275providers}var yS=me({\u0275cmp:me}),vS=me({\u0275dir:me}),CS=me({\u0275pipe:me}),_S=me({\u0275mod:me}),Gc=me({\u0275fac:me}),ya=me({__NG_ELEMENT_ID__:me}),CC=me({__NG_ENV_ID__:me});function Oa(e){return typeof e=="string"?e:e==null?"":String(e)}function bS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Oa(e)}function y_(e,t){throw new R(-200,e)}function tg(e,t){throw new R(-201,!1)}var X=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(X||{}),Kp;function v_(){return Kp}function Et(e){let t=Kp;return Kp=e,t}function C_(e,t,n){let r=vu(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(t!==void 0)return t;tg(e,"Injector")}var wS={},Vi=wS,Yp="__NG_DI_FLAG__",zc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?oc:Vi,r)}},Wc="ngTempTokenPath",DS="ngTokenPath",ES=/\n/gm,IS="\u0275",_C="__source";function TS(e,t=X.Default){if(da()===void 0)throw new R(-203,!1);if(da()===null)return C_(e,void 0,t);{let n=da(),r;return n instanceof zc?r=n.injector:r=n,r.get(e,t&X.Optional?null:void 0,t)}}function U(e,t=X.Default){return(v_()||TS)(dt(e),t)}function N(e,t=X.Default){return U(e,Cu(t))}function Cu(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function eh(e){let t=[];for(let n=0;n<e.length;n++){let r=dt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let a=r[s],l=xS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(U(i,o))}else t.push(U(r))}return t}function __(e,t){return e[Yp]=t,e.prototype[Yp]=t,e}function xS(e){return e[Yp]}function SS(e,t,n,r){let i=e[Wc];throw t[_C]&&i.unshift(t[_C]),e.message=MS(`
`+e.message,i,n,r),e[DS]=i,e[Wc]=null,e}function MS(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==IS?e.slice(2):e;let i=Tt(t);if(Array.isArray(t))i=t.map(Tt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(ES,`
  `)}`}var AS=__(d_("Optional"),8);var NS=__(d_("SkipSelf"),4);function Bi(e,t){let n=e.hasOwnProperty(Gc);return n?e[Gc]:null}function OS(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function RS(e){return e.flat(Number.POSITIVE_INFINITY)}function ng(e,t){e.forEach(n=>Array.isArray(n)?ng(n,t):t(n))}function b_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function PS(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function w_(e,t,n){let r=Ra(e,t);return r>=0?e[r|1]=n:(r=~r,PS(e,r,t,n)),r}function Fp(e,t){let n=Ra(e,t);if(n>=0)return e[n|1]}function Ra(e,t){return kS(e,t,1)}function kS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var $i={},It=[],Ca=new L(""),D_=new L("",-1),E_=new L(""),Zc=class{get(t,n=Vi){if(n===Vi){let r=new Error(`NullInjectorError: No provider for ${Tt(t)}!`);throw r.name="NullInjectorError",r}return n}};function I_(e,t){let n=e[_S]||null;if(!n&&t===!0)throw new Error(`Type ${Tt(e)} does not have '\u0275mod' property.`);return n}function Zo(e){return e[yS]||null}function FS(e){return e[vS]||null}function LS(e){return e[CS]||null}function ns(e){return{\u0275providers:e}}function jS(...e){return{\u0275providers:T_(!0,e),\u0275fromNgModule:!0}}function T_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ng(t,s=>{let a=s;th(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&x_(i,o),n}function x_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];rg(i,o=>{t(o,r)})}}function th(e,t,n,r){if(e=dt(e),!e)return!1;let i=null,o=yC(e),s=!o&&Zo(e);if(!o&&!s){let l=e.ngModule;if(o=yC(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)th(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ng(o.imports,d=>{th(d,t,n,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&x_(c,t)}if(!a){let c=Bi(i)||(()=>new i);t({provide:i,useFactory:c,deps:It},i),t({provide:E_,useValue:i,multi:!0},i),t({provide:Ca,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;rg(l,d=>{t(d,c)})}}else return!1;return i!==e&&e.providers!==void 0}function rg(e,t){for(let n of e)m_(n)&&(n=n.\u0275providers),Array.isArray(n)?rg(n,t):t(n)}var VS=me({provide:String,useValue:me});function S_(e){return e!==null&&typeof e=="object"&&VS in e}function US(e){return!!(e&&e.useExisting)}function BS(e){return!!(e&&e.useFactory)}function Qo(e){return typeof e=="function"}function $S(e){return!!e.useClass}var _u=new L(""),Vc={},bC={},Lp;function ig(){return Lp===void 0&&(Lp=new Zc),Lp}var ft=class{},_a=class extends ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,rh(t,s=>this.processProvider(s)),this.records.set(D_,Go(void 0,this)),i.has("environment")&&this.records.set(ft,Go(void 0,this));let o=this.records.get(_u);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(E_,It,X.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?oc:Vi,r)}destroy(){ga(this),this._destroyed=!0;let t=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(t)}}onDestroy(t){return ga(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ga(this);let n=tr(this),r=Et(void 0),i;try{return t()}finally{tr(n),Et(r)}}get(t,n=Vi,r=X.Default){if(ga(this),t.hasOwnProperty(CC))return t[CC](this);r=Cu(r);let i,o=tr(this),s=Et(void 0);try{if(!(r&X.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=WS(t)&&vu(t);c&&this.injectableDefInScope(c)?l=Go(nh(t),Vc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&X.Self?ig():this.parent;return n=r&X.Optional&&n===Vi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Wc]=a[Wc]||[]).unshift(Tt(t)),o)throw a;return SS(a,t,"R3InjectorError",this.source)}else throw a}finally{Et(s),tr(o)}}resolveInjectorInitializers(){let t=K(null),n=tr(this),r=Et(void 0),i;try{let o=this.get(Ca,It,X.Self);for(let s of o)s()}finally{tr(n),Et(r),K(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Tt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=dt(t);let n=Qo(t)?t:dt(t&&t.provide),r=qS(t);if(!Qo(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Go(void 0,Vc,!0),i.factory=()=>eh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=K(null);try{return n.value===bC?y_(Tt(t)):n.value===Vc&&(n.value=bC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&zS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=dt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nh(e){let t=vu(e),n=t!==null?t.factory:Bi(e);if(n!==null)return n;if(e instanceof L)throw new R(204,!1);if(e instanceof Function)return HS(e);throw new R(204,!1)}function HS(e){if(e.length>0)throw new R(204,!1);let n=gS(e);return n!==null?()=>n.factory(e):()=>new e}function qS(e){if(S_(e))return Go(void 0,e.useValue);{let t=M_(e);return Go(t,Vc)}}function M_(e,t,n){let r;if(Qo(e)){let i=dt(e);return Bi(i)||nh(i)}else if(S_(e))r=()=>dt(e.useValue);else if(BS(e))r=()=>e.useFactory(...eh(e.deps||[]));else if(US(e))r=(i,o)=>U(dt(e.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=dt(e&&(e.useClass||e.provide));if(GS(e))r=()=>new i(...eh(e.deps));else return Bi(i)||nh(i)}return r}function ga(e){if(e.destroyed)throw new R(205,!1)}function Go(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function GS(e){return!!e.deps}function zS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function WS(e){return typeof e=="function"||typeof e=="object"&&e instanceof L}function rh(e,t){for(let n of e)Array.isArray(n)?rh(n,t):n&&m_(n)?rh(n.\u0275providers,t):t(n)}function Pt(e,t){let n;e instanceof _a?(ga(e),n=e):n=new zc(e);let r,i=tr(n),o=Et(void 0);try{return t()}finally{tr(i),Et(o)}}function JS(){return v_()!==void 0||da()!=null}function ZS(e){return typeof e=="function"}var fr=0,z=1,W=2,ot=3,hn=4,yn=5,ba=6,Qc=7,Ve=8,Hi=9,sr=10,Pe=11,wa=12,wC=13,rs=14,gn=15,qi=16,zo=17,ar=18,bu=19,A_=20,zr=21,jp=22,Xc=23,Qt=24,Vp=25,pt=26,N_=1;var Gi=7,Kc=8,Xo=9,it=10;function Wr(e){return Array.isArray(e)&&typeof e[N_]=="object"}function pr(e){return Array.isArray(e)&&e[N_]===!0}function og(e){return(e.flags&4)!==0}function is(e){return e.componentOffset>-1}function wu(e){return(e.flags&1)===1}function On(e){return!!e.template}function Yc(e){return(e[W]&512)!==0}function os(e){return(e[W]&256)===256}var ih=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function O_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var kt=(()=>{let e=()=>R_;return e.ngInherit=!0,e})();function R_(e){return e.type.prototype.ngOnChanges&&(e.setInput=XS),QS}function QS(){let e=k_(this),t=e?.current;if(t){let n=e.previous;if(n===$i)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function XS(e,t,n,r,i){let o=this.declaredInputs[r],s=k_(e)||KS(e,{previous:$i,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ih(c&&c.currentValue,n,l===$i),O_(e,t,i,n)}var P_="__ngSimpleChanges__";function k_(e){return e[P_]||null}function KS(e,t){return e[P_]=t}var DC=null;var we=function(e,t=null,n){DC?.(e,t,n)},F_="svg",YS="math";function Rn(e){for(;Array.isArray(e);)e=e[fr];return e}function L_(e,t){return Rn(t[e])}function Fn(e,t){return Rn(t[e.index])}function sg(e,t){return e.data[t]}function eM(e,t){return e[t]}function Pn(e,t){let n=t[e];return Wr(n)?n:n[fr]}function tM(e){return(e[W]&4)===4}function ag(e){return(e[W]&128)===128}function nM(e){return pr(e[ot])}function Jr(e,t){return t==null?null:e[t]}function j_(e){e[zo]=0}function V_(e){e[W]&1024||(e[W]|=1024,ag(e)&&Eu(e))}function rM(e,t){for(;e>0;)t=t[rs],e--;return t}function Du(e){return!!(e[W]&9216||e[Qt]?.dirty)}function oh(e){e[sr].changeDetectionScheduler?.notify(8),e[W]&64&&(e[W]|=1024),Du(e)&&Eu(e)}function Eu(e){e[sr].changeDetectionScheduler?.notify(0);let t=zi(e);for(;t!==null&&!(t[W]&8192||(t[W]|=8192,!ag(t)));)t=zi(t)}function U_(e,t){if(os(e))throw new R(911,!1);e[zr]===null&&(e[zr]=[]),e[zr].push(t)}function iM(e,t){if(e[zr]===null)return;let n=e[zr].indexOf(t);n!==-1&&e[zr].splice(n,1)}function zi(e){let t=e[ot];return pr(t)?t[ot]:t}function lg(e){return e[Qc]??=[]}function cg(e){return e.cleanup??=[]}function oM(e,t,n,r){let i=lg(t);i.push(n),e.firstCreatePass&&cg(e).push(r,i.length-1)}var ee={lFrame:Z_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sh=!1;function sM(){return ee.lFrame.elementDepthCount}function aM(){ee.lFrame.elementDepthCount++}function lM(){ee.lFrame.elementDepthCount--}function ug(){return ee.bindingsEnabled}function cM(){return ee.skipHydrationRootTNode!==null}function uM(e){return ee.skipHydrationRootTNode===e}function dM(){ee.skipHydrationRootTNode=null}function ie(){return ee.lFrame.lView}function ke(){return ee.lFrame.tView}function J(e){return ee.lFrame.contextLView=e,e[Ve]}function Z(e){return ee.lFrame.contextLView=null,e}function ht(){let e=B_();for(;e!==null&&e.type===64;)e=e.parent;return e}function B_(){return ee.lFrame.currentTNode}function fM(){let e=ee.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ki(e,t){let n=ee.lFrame;n.currentTNode=e,n.isParent=t}function dg(){return ee.lFrame.isParent}function $_(){ee.lFrame.isParent=!1}function H_(){return sh}function EC(e){let t=sh;return sh=e,t}function q_(){let e=ee.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pM(e){return ee.lFrame.bindingIndex=e}function ss(){return ee.lFrame.bindingIndex++}function G_(e){let t=ee.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function hM(){return ee.lFrame.inI18n}function gM(e,t){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=e,ah(t)}function mM(){return ee.lFrame.currentDirectiveIndex}function ah(e){ee.lFrame.currentDirectiveIndex=e}function yM(e){let t=ee.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function z_(){return ee.lFrame.currentQueryIndex}function fg(e){ee.lFrame.currentQueryIndex=e}function vM(e){let t=e[z];return t.type===2?t.declTNode:t.type===1?e[yn]:null}function W_(e,t,n){if(n&X.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=vM(o),i===null||(o=o[rs],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=ee.lFrame=J_();return r.currentTNode=t,r.lView=e,!0}function pg(e){let t=J_(),n=e[z];ee.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function J_(){let e=ee.lFrame,t=e===null?null:e.child;return t===null?Z_(e):t}function Z_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Q_(){let e=ee.lFrame;return ee.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var X_=Q_;function hg(){let e=Q_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function CM(e){return(ee.lFrame.contextLView=rM(e,ee.lFrame.contextLView))[Ve]}function Zr(){return ee.lFrame.selectedIndex}function Wi(e){ee.lFrame.selectedIndex=e}function Iu(){let e=ee.lFrame;return sg(e.tView,e.selectedIndex)}function K_(){ee.lFrame.currentNamespace=F_}function Y_(){_M()}function _M(){ee.lFrame.currentNamespace=null}function bM(){return ee.lFrame.currentNamespace}var eb=!0;function Tu(){return eb}function xu(e){eb=e}function wM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=R_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function gg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Uc(e,t,n){tb(e,t,3,n)}function Bc(e,t,n,r){(e[W]&3)===n&&tb(e,t,n,r)}function Up(e,t){let n=e[W];(n&3)===t&&(n&=16383,n+=1,e[W]=n)}function tb(e,t,n,r){let i=r!==void 0?e[zo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[zo]+=65536),(a<o||o==-1)&&(DM(e,n,t,l),e[zo]=(e[zo]&4294901760)+l+2),l++}function IC(e,t){we(4,e,t);let n=K(null);try{t.call(e)}finally{K(n),we(5,e,t)}}function DM(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[W]>>14<e[zo]>>16&&(e[W]&3)===t&&(e[W]+=16384,IC(a,o)):IC(a,o)}var Jo=-1,Ji=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function EM(e){return(e.flags&8)!==0}function IM(e){return(e.flags&16)!==0}function TM(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];xM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function nb(e){return e===3||e===4||e===6}function xM(e){return e.charCodeAt(0)===64}function Ko(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?TC(e,n,i,null,t[++r]):TC(e,n,i,null,null))}}return e}function TC(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function rb(e){return e!==Jo}function eu(e){return e&32767}function SM(e){return e>>16}function tu(e,t){let n=SM(e),r=t;for(;n>0;)r=r[rs],n--;return r}var lh=!0;function nu(e){let t=lh;return lh=e,t}var MM=256,ib=MM-1,ob=5,AM=0,Nn={};function NM(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ya)&&(r=n[ya]),r==null&&(r=n[ya]=AM++);let i=r&ib,o=1<<i;t.data[e+(i>>ob)]|=o}function ru(e,t){let n=sb(e,t);if(n!==-1)return n;let r=t[z];r.firstCreatePass&&(e.injectorIndex=t.length,Bp(r.data,e),Bp(t,null),Bp(r.blueprint,null));let i=mg(e,t),o=e.injectorIndex;if(rb(i)){let s=eu(i),a=tu(i,t),l=a[z].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Bp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function mg(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=db(i),r===null)return Jo;if(n++,i=i[rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jo}function ch(e,t,n){NM(e,t,n)}function OM(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(nb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function ab(e,t,n){if(n&X.Optional||e!==void 0)return e;tg(t,"NodeInjector")}function lb(e,t,n,r){if(n&X.Optional&&r===void 0&&(r=null),(n&(X.Self|X.Host))===0){let i=e[Hi],o=Et(void 0);try{return i?i.get(t,r,n&X.Optional):C_(t,r,n&X.Optional)}finally{Et(o)}}return ab(r,t,n)}function cb(e,t,n,r=X.Default,i){if(e!==null){if(t[W]&2048&&!(r&X.Self)){let s=FM(e,t,n,r,Nn);if(s!==Nn)return s}let o=ub(e,t,n,r,Nn);if(o!==Nn)return o}return lb(t,n,r,i)}function ub(e,t,n,r,i){let o=PM(n);if(typeof o=="function"){if(!W_(t,e,r))return r&X.Host?ab(i,n,r):lb(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))tg(n);else return s}finally{X_()}}else if(typeof o=="number"){let s=null,a=sb(e,t),l=Jo,c=r&X.Host?t[gn][yn]:null;for((a===-1||r&X.SkipSelf)&&(l=a===-1?mg(e,t):t[a+8],l===Jo||!SC(r,!1)?a=-1:(s=t[z],a=eu(l),t=tu(l,t)));a!==-1;){let d=t[z];if(xC(o,a,d.data)){let f=RM(a,t,n,s,r,c);if(f!==Nn)return f}l=t[a+8],l!==Jo&&SC(r,t[z].data[a+8]===c)&&xC(o,a,t)?(s=d,a=eu(l),t=tu(l,t)):a=-1}}return i}function RM(e,t,n,r,i,o){let s=t[z],a=s.data[e+8],l=r==null?is(a)&&lh:r!=s&&(a.type&3)!==0,c=i&X.Host&&o===a,d=$c(a,s,n,l,c);return d!==null?Da(t,s,d,a,i):Nn}function $c(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,d=o>>20,f=r?a:a+d,h=i?a+d:c;for(let u=f;u<h;u++){let p=s[u];if(u<l&&n===p||u>=l&&p.type===n)return u}if(i){let u=s[l];if(u&&On(u)&&u.type===n)return l}return null}function Da(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Ji){let a=o;a.resolving&&y_(bS(s[n]));let l=nu(a.canSeeViewProviders);a.resolving=!0;let c,d=a.injectImpl?Et(a.injectImpl):null,f=W_(e,r,X.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&wM(n,s[n],t)}finally{d!==null&&Et(d),nu(l),a.resolving=!1,X_()}}return o}function PM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ya)?e[ya]:void 0;return typeof t=="number"?t>=0?t&ib:kM:t}function xC(e,t,n){let r=1<<e;return!!(n[t+(e>>ob)]&r)}function SC(e,t){return!(e&X.Self)&&!(e&X.Host&&t)}var Ui=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cb(this._tNode,this._lView,t,Cu(r),n)}};function kM(){return new Ui(ht(),ie())}function Ln(e){return Na(()=>{let t=e.prototype.constructor,n=t[Gc]||uh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Gc]||uh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uh(e){return f_(e)?()=>{let t=uh(dt(e));return t&&t()}:Bi(e)}function FM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[W]&2048&&!Yc(s);){let a=ub(o,s,n,r|X.Self,Nn);if(a!==Nn)return a;let l=o.parent;if(!l){let c=s[A_];if(c){let d=c.get(n,Nn,r);if(d!==Nn)return d}l=db(s),s=s[rs]}o=l}return i}function db(e){let t=e[z],n=t.type;return n===2?t.declTNode:n===1?e[yn]:null}function yg(e){return OM(ht(),e)}function MC(e,t=null,n=null,r){let i=fb(e,t,n,r);return i.resolveInjectorInitializers(),i}function fb(e,t=null,n=null,r,i=new Set){let o=[n||It,jS(e)];return r=r||(typeof e=="object"?void 0:Tt(e)),new _a(o,t||ig(),r||null,i)}var lr=class e{static THROW_IF_NOT_FOUND=Vi;static NULL=new Zc;static create(t,n){if(Array.isArray(t))return MC({name:""},n,t,"");{let r=t.name??"";return MC({name:r},t.parent,t.providers,r)}}static \u0275prov=k({token:e,providedIn:"any",factory:()=>U(D_)});static __NG_ELEMENT_ID__=-1};var LM=new L("");LM.__NG_ELEMENT_ID__=e=>{let t=ht();if(t===null)throw new R(204,!1);if(t.type&2)return t.value;if(e&X.Optional)return null;throw new R(204,!1)};var pb=!1,Su=(()=>{class e{static __NG_ELEMENT_ID__=jM;static __NG_ENV_ID__=n=>n}return e})(),dh=class extends Su{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return os(n)?(t(),()=>{}):(U_(n,t),()=>iM(n,t))}};function jM(){return new dh(ie())}var Ea=class{},vg=new L("",{providedIn:"root",factory:()=>!1});var hb=new L(""),gb=new L(""),Qr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new _e(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})();var fh=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,JS()&&(this.destroyRef=N(Su,{optional:!0})??void 0,this.pendingTasks=N(Qr,{optional:!0})??void 0)}emit(t){let n=K(null);try{super.next(t)}finally{K(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ne&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},le=fh;function iu(...e){}function mb(e){let t,n;function r(){e=iu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function AC(e){return queueMicrotask(()=>e()),()=>{e=iu}}var Cg="isAngularZone",ou=Cg+"_ID",VM=0,Ue=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new le(!1);onMicrotaskEmpty=new le(!1);onStable=new le(!1);onError=new le(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pb}=t;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,$M(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new R(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,UM,iu,iu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},UM={};function _g(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){mb(()=>{e.callbackScheduled=!1,ph(e),e.isCheckStableRunning=!0,_g(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ph(e)}function $M(e){let t=()=>{BM(e)},n=VM++;e._inner=e._inner.fork({name:"angular",properties:{[Cg]:!0,[ou]:n,[ou+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(HM(l))return r.invokeTask(o,s,a,l);try{return NC(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),OC(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return NC(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!qM(l)&&t(),OC(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ph(e),_g(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ph(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function NC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function OC(e){e._nesting--,_g(e)}var hh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new le;onMicrotaskEmpty=new le;onStable=new le;onError=new le;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function HM(e){return yb(e,"__ignore_ng_zone__")}function qM(e){return yb(e,"__scheduler_tick__")}function yb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var cr=class{_console=console;handleError(t){this._console.error("ERROR",t)}},GM=new L("",{providedIn:"root",factory:()=>{let e=N(Ue),t=N(cr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function RC(e,t){return u_(e,t)}function zM(e){return u_(c_,e)}var vb=(RC.required=zM,RC);function WM(){return as(ht(),ie())}function as(e,t){return new xt(Fn(e,t))}var xt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=WM}return e})();function JM(e){return e instanceof xt?e.nativeElement:e}function ZM(e){return typeof e=="function"&&e[Zt]!==void 0}function Pa(e,t){let n=mp(e,t?.equal),r=n[Zt];return n.set=i=>ua(r,i),n.update=i=>yp(r,i),n.asReadonly=QM.bind(n),n}function QM(){let e=this[Zt];if(e.readonlyFn===void 0){let t=()=>this();t[Zt]=e,e.readonlyFn=t}return e.readonlyFn}function Cb(e){return ZM(e)&&typeof e.set=="function"}function XM(){return this._results[Symbol.iterator]()}var gh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=RS(t);(this._changesDetected=!OS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=XM};function _b(e){return(e.flags&128)===128}var bb=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bb||{}),wb=new Map,KM=0;function YM(){return KM++}function eA(e){wb.set(e[bu],e)}function mh(e){wb.delete(e[bu])}var PC="__ngContext__";function ls(e,t){Wr(t)?(e[PC]=t[bu],eA(t)):e[PC]=t}function Db(e){return Ib(e[wa])}function Eb(e){return Ib(e[hn])}function Ib(e){for(;e!==null&&!pr(e);)e=e[hn];return e}var yh;function Tb(e){yh=e}function xb(){if(yh!==void 0)return yh;if(typeof document<"u")return document;throw new R(210,!1)}var Mu=new L("",{providedIn:"root",factory:()=>tA}),tA="ng",bg=new L(""),ka=new L("",{providedIn:"platform",factory:()=>"unknown"});var wg=new L("",{providedIn:"root",factory:()=>xb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nA="h",rA="b";var Sb=!1,iA=new L("",{providedIn:"root",factory:()=>Sb});var Mb=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Mb||{}),Au=new L(""),kC=new Set;function Fa(e){kC.has(e)||(kC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var oA=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})();var sA=()=>null;function Ab(e,t,n=!1){return sA(e,t,n)}function Nb(e,t){let n=e.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];fg(o),a.contentQueries(2,t[s],s)}}}finally{K(r)}}}function vh(e,t,n){fg(0);let r=K(null);try{t(e,n)}finally{K(r)}}function Dg(e,t,n){if(og(t)){let r=K(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{K(r)}}}var kn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kn||{}),kc;function aA(){if(kc===void 0&&(kc=null,va.trustedTypes))try{kc=va.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return kc}function Nu(e){return aA()?.createHTML(e)||e}var Fc;function Ob(){if(Fc===void 0&&(Fc=null,va.trustedTypes))try{Fc=va.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fc}function FC(e){return Ob()?.createHTML(e)||e}function LC(e){return Ob()?.createScriptURL(e)||e}var su=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${l_})`}};function cs(e){return e instanceof su?e.changingThisBreaksApplicationSecurity:e}function Eg(e,t){let n=lA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${l_})`)}return n===t}function lA(e){return e instanceof su&&e.getTypeName()||null}function cA(e){let t=new _h(e);return uA()?new Ch(t):t}var Ch=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Nu(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},_h=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Nu(t),n}};function uA(){try{return!!new window.DOMParser().parseFromString(Nu(""),"text/html")}catch{return!1}}var dA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rb(e){return e=String(e),e.match(dA)?e:"unsafe:"+e}function hr(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function La(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Pb=hr("area,br,col,hr,img,wbr"),kb=hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fb=hr("rp,rt"),fA=La(Fb,kb),pA=La(kb,hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hA=La(Fb,hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jC=La(Pb,pA,hA,fA),Lb=hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gA=hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mA=hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),yA=La(Lb,gA,mA),vA=hr("script,style,template"),bh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=bA(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=_A(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=VC(t).toLowerCase();if(!jC.hasOwnProperty(n))return this.sanitizedSomething=!0,!vA.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!yA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Lb[a]&&(l=Rb(l)),this.buf.push(" ",s,'="',UC(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=VC(t).toLowerCase();jC.hasOwnProperty(n)&&!Pb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(UC(t))}};function CA(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function _A(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw jb(t);return t}function bA(e){let t=e.firstChild;if(t&&CA(e,t))throw jb(t);return t}function VC(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function jb(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var wA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DA=/([^\#-~ |!])/g;function UC(e){return e.replace(/&/g,"&amp;").replace(wA,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(DA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lc;function EA(e,t){let n=null;try{Lc=Lc||cA(e);let r=t?String(t):"";n=Lc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Lc.getInertBodyElement(r)}while(r!==o);let a=new bh().sanitizeChildren(BC(n)||n);return Nu(a)}finally{if(n){let r=BC(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function BC(e){return"content"in e&&IA(e)?e.content:null}function IA(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Ou=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ou||{});function Ru(e){let t=Ig();return t?FC(t.sanitize(Ou.HTML,e)||""):Eg(e,"HTML")?FC(cs(e)):EA(xb(),Oa(e))}function TA(e){let t=Ig();return t?t.sanitize(Ou.URL,e)||"":Eg(e,"URL")?cs(e):Rb(Oa(e))}function xA(e){let t=Ig();if(t)return LC(t.sanitize(Ou.RESOURCE_URL,e)||"");if(Eg(e,"ResourceURL"))return LC(cs(e));throw new R(904,!1)}function SA(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?xA:TA}function Vb(e,t,n){return SA(t,n)(e)}function Ig(){let e=ie();return e&&e[sr].sanitizer}var MA=/^>|^->|<!--|-->|--!>|<!-$/g,AA=/(<|>)/g,NA="\u200B$1\u200B";function OA(e){return e.replace(MA,t=>t.replace(AA,NA))}function Ub(e){return e instanceof Function?e():e}function RA(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Bb="ng-template";function PA(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&RA(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Tg(e){return e.type===4&&e.value!==Bb}function kA(e,t,n){let r=e.type===4&&!n?Bb:e.value;return t===r}function FA(e,t,n){let r=4,i=e.attrs,o=i!==null?VA(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!pn(r)&&!pn(l))return!1;if(s&&pn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!kA(e,l,n)||l===""&&t.length===1){if(pn(r))return!1;s=!0}}else if(r&8){if(i===null||!PA(e,i,l,n)){if(pn(r))return!1;s=!0}}else{let c=t[++a],d=LA(l,i,Tg(e),n);if(d===-1){if(pn(r))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(pn(r))return!1;s=!0}}}}return pn(r)||s}function pn(e){return(e&1)===0}function LA(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UA(t,e)}function jA(e,t,n=!1){for(let r=0;r<t.length;r++)if(FA(e,t[r],n))return!0;return!1}function VA(e){for(let t=0;t<e.length;t++){let n=e[t];if(nb(n))return t}return e.length}function UA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function $C(e,t){return e?":not("+t.trim()+")":t}function BA(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!pn(s)&&(t+=$C(o,i),i=""),r=s,o=o||!pn(r);n++}return i!==""&&(t+=$C(o,i)),t}function $A(e){return e.map(BA).join(",")}function HA(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!pn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var vn={};function qA(e,t){return e.createText(t)}function GA(e,t,n){e.setValue(t,n)}function zA(e,t){return e.createComment(OA(t))}function $b(e,t,n){return e.createElement(t,n)}function au(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Hb(e,t,n){e.appendChild(t,n)}function HC(e,t,n,r,i){r!==null?au(e,t,n,r,i):Hb(e,t,n)}function WA(e,t,n){e.removeChild(null,t,n)}function JA(e,t,n){e.setAttribute(t,"style",n)}function ZA(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function qb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&TM(e,t,r),i!==null&&ZA(e,t,i),o!==null&&JA(e,t,o)}function xg(e,t,n,r,i,o,s,a,l,c,d){let f=pt+r,h=f+i,u=QA(f,h),p=typeof c=="function"?c():c;return u[z]={type:e,blueprint:u,template:n,queries:null,viewQuery:a,declTNode:t,data:u.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:d}}function QA(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:vn);return n}function XA(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=xg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sg(e,t,n,r,i,o,s,a,l,c,d){let f=t.blueprint.slice();return f[fr]=i,f[W]=r|4|128|8|64|1024,(c!==null||e&&e[W]&2048)&&(f[W]|=2048),j_(f),f[ot]=f[rs]=e,f[Ve]=n,f[sr]=s||e&&e[sr],f[Pe]=a||e&&e[Pe],f[Hi]=l||e&&e[Hi]||null,f[yn]=o,f[bu]=YM(),f[ba]=d,f[A_]=c,f[gn]=t.type==2?e[gn]:f,f}function KA(e,t,n){let r=Fn(t,e),i=XA(n),o=e[sr].rendererFactory,s=Mg(e,Sg(e,i,null,Gb(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Gb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function zb(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Mg(e,t){return e[wa]?e[wC][hn]=t:e[wa]=t,e[wC]=t,t}function D(e=1){Wb(ke(),ie(),Zr()+e,!1)}function Wb(e,t,n,r){if(!r)if((t[W]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Uc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Bc(t,o,0,n)}Wi(n)}var Pu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pu||{});function wh(e,t,n,r){let i=K(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Pu.SignalBased)!==0&&(l=t[o][Zt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):O_(t,l,o,r)}finally{K(i)}}function Jb(e,t,n,r,i){let o=Zr(),s=r&2;try{Wi(-1),s&&t.length>pt&&Wb(e,t,pt,!1),we(s?2:0,i),n(r,i)}finally{Wi(o),we(s?3:1,i)}}function ku(e,t,n){iN(e,t,n),(n.flags&64)===64&&oN(e,t,n)}function Ag(e,t,n=Fn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function YA(e,t,n,r){let o=r.get(iA,Sb)||n===kn.ShadowDom,s=e.selectRootElement(t,o);return eN(s),s}function eN(e){tN(e)}var tN=()=>null;function nN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ng(e,t,n,r,i,o,s,a){if(!a&&Rg(t,e,n,r,i)){is(t)&&rN(n,t.index);return}if(t.type&3){let l=Fn(t,n);r=nN(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function rN(e,t){let n=Pn(t,e);n[W]&16||(n[W]|=64)}function iN(e,t,n){let r=n.directiveStart,i=n.directiveEnd;is(n)&&KA(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ru(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Da(t,e,s,n);if(ls(l,t),o!==null&&cN(t,s-r,l,a,n,o),On(a)){let c=Pn(n.index,t);c[Ve]=Da(t,e,s,n)}}}function oN(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mM();try{Wi(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];ah(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sN(l,c)}}finally{Wi(-1),ah(s)}}function sN(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Og(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];jA(t,o.selectors,!1)&&(r??=[],On(o)?r.unshift(o):r.push(o))}return r}function aN(e,t,n,r,i,o){let s=Fn(e,t);lN(t[Pe],s,o,e.value,n,r,i)}function lN(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Oa(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function cN(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];wh(r,n,l,c)}}function uN(e,t){let n=e[Hi],r=n?n.get(cr,null):null;r&&r.handleError(t)}function Rg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],f=t.data[c];wh(f,n[c],d,i),a=!0}if(o)for(let l of o){let c=n[l],d=t.data[l];wh(d,c,r,i),a=!0}return a}function dN(e,t){let n=Pn(t,e),r=n[z];fN(r,n);let i=n[fr];i!==null&&n[ba]===null&&(n[ba]=Ab(i,n[Hi])),we(18),Pg(r,n,n[Ve]),we(19,n[Ve])}function fN(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Pg(e,t,n){pg(t);try{let r=e.viewQuery;r!==null&&vh(1,r,n);let i=e.template;i!==null&&Jb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ar]?.finishViewCreation(e),e.staticContentQueries&&Nb(e,t),e.staticViewQueries&&vh(2,e.viewQuery,n);let o=e.components;o!==null&&pN(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[W]&=-5,hg()}}function pN(e,t){for(let n=0;n<t.length;n++)dN(e,t[n])}function Fu(e,t,n,r){let i=K(null);try{let o=t.tView,a=e[W]&4096?4096:16,l=Sg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[qi]=c;let d=e[ar];return d!==null&&(l[ar]=d.createEmbeddedView(o)),Pg(o,l,n),l}finally{K(i)}}function Ia(e,t){return!t||t.firstChild===null||_b(e)}var hN;function kg(e,t){return hN(e,t)}var ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ur||{});function Zb(e){return(e.flags&32)===32}function Wo(e,t,n,r,i){if(r!=null){let o,s=!1;pr(r)?o=r:Wr(r)&&(s=!0,r=r[fr]);let a=Rn(r);e===0&&n!==null?i==null?Hb(t,n,a):au(t,n,a,i||null,!0):e===1&&n!==null?au(t,n,a,i||null,!0):e===2?WA(t,a,s):e===3&&t.destroyNode(a),o!=null&&TN(t,e,o,n,i)}}function gN(e,t){Qb(e,t),t[fr]=null,t[yn]=null}function mN(e,t,n,r,i,o){r[fr]=i,r[yn]=t,Vu(e,r,n,1,i,o)}function Qb(e,t){t[sr].changeDetectionScheduler?.notify(9),Vu(e,t,t[Pe],2,null,null)}function yN(e){let t=e[wa];if(!t)return $p(e[z],e);for(;t;){let n=null;if(Wr(t))n=t[wa];else{let r=t[it];r&&(n=r)}if(!n){for(;t&&!t[hn]&&t!==e;)Wr(t)&&$p(t[z],t),t=t[ot];t===null&&(t=e),Wr(t)&&$p(t[z],t),n=t&&t[hn]}t=n}}function Fg(e,t){let n=e[Xo],r=n.indexOf(t);n.splice(r,1)}function Lu(e,t){if(os(t))return;let n=t[Pe];n.destroyNode&&Vu(e,t,n,3,null,null),yN(t)}function $p(e,t){if(os(t))return;let n=K(null);try{t[W]&=-129,t[W]|=256,t[Qt]&&pp(t[Qt]),CN(e,t),vN(e,t),t[z].type===1&&t[Pe].destroy();let r=t[qi];if(r!==null&&pr(t[ot])){r!==t[ot]&&Fg(r,t);let i=t[ar];i!==null&&i.detachView(e)}mh(t)}finally{K(n)}}function vN(e,t){let n=e.cleanup,r=t[Qc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Qc]=null);let i=t[zr];if(i!==null){t[zr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Xc];if(o!==null){t[Xc]=null;for(let s of o)s.destroy()}}function CN(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];we(4,a,l);try{l.call(a)}finally{we(5,a,l)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function _N(e,t,n){return bN(e,t.parent,n)}function bN(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[fr];if(is(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===kn.None||i===kn.Emulated)return null}return Fn(r,n)}function wN(e,t,n){return EN(e,t,n)}function DN(e,t,n){return e.type&40?Fn(e,n):null}var EN=DN,qC;function ju(e,t,n,r){let i=_N(e,r,t),o=t[Pe],s=r.parent||t[yn],a=wN(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)HC(o,i,n[l],a,!1);else HC(o,i,n,a,!1);qC!==void 0&&qC(o,r,t,n,i)}function ma(e,t){if(t!==null){let n=t.type;if(n&3)return Fn(t,e);if(n&4)return Dh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ma(e,r);{let i=e[t.index];return pr(i)?Dh(-1,i):Rn(i)}}else{if(n&128)return ma(e,t.next);if(n&32)return kg(t,e)()||Rn(e[t.index]);{let r=Xb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(e[gn]);return ma(i,r)}else return ma(e,t.next)}}}return null}function Xb(e,t){if(t!==null){let r=e[gn][yn],i=t.projection;return r.projection[i]}return null}function Dh(e,t){let n=it+e+1;if(n<t.length){let r=t[n],i=r[z].firstChild;if(i!==null)return ma(r,i)}return t[Gi]}function Lg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&ls(Rn(a),r),n.flags|=2),!Zb(n))if(l&8)Lg(e,t,n.child,r,i,o,!1),Wo(t,e,i,a,o);else if(l&32){let c=kg(n,r),d;for(;d=c();)Wo(t,e,i,d,o);Wo(t,e,i,a,o)}else l&16?IN(e,t,r,n,i,o):Wo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Vu(e,t,n,r,i,o){Lg(n,r,e.firstChild,t,i,o,!1)}function IN(e,t,n,r,i,o){let s=n[gn],l=s[yn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Wo(t,e,i,d,o)}else{let c=l,d=s[ot];_b(r)&&(c.flags|=128),Lg(e,t,c,d,i,o,!0)}}function TN(e,t,n,r,i){let o=n[Gi],s=Rn(n);o!==s&&Wo(t,e,r,o,i);for(let a=it;a<n.length;a++){let l=n[a];Vu(l[z],l,e,t,r,o)}}function xN(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),e.setStyle(n,r,i,o))}}function lu(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Rn(o)),pr(o)&&SN(o,r);let s=n.type;if(s&8)lu(e,t,n.child,r);else if(s&32){let a=kg(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Xb(t,n);if(Array.isArray(a))r.push(...a);else{let l=zi(t[gn]);lu(l[z],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function SN(e,t){for(let n=it;n<e.length;n++){let r=e[n],i=r[z].firstChild;i!==null&&lu(r[z],r,i,t)}e[Gi]!==e[fr]&&t.push(e[Gi])}function Kb(e){if(e[Vp]!==null){for(let t of e[Vp])t.impl.addSequence(t);e[Vp].length=0}}var Yb=[];function MN(e){return e[Qt]??AN(e)}function AN(e){let t=Yb.pop()??Object.create(ON);return t.lView=e,t}function NN(e){e.lView[Qt]!==e&&(e.lView=null,Yb.push(e))}var ON=B(I({},la),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Eu(e.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function RN(e){let t=e[Qt]??Object.create(PN);return t.lView=e,t}var PN=B(I({},la),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=zi(e.lView);for(;t&&!ew(t[z]);)t=zi(t);t&&V_(t)},consumerOnSignalRead(){this.lView[Qt]=this}});function ew(e){return e.type!==2}function tw(e){if(e[Xc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Xc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[W]&8192)}}var kN=100;function nw(e,t=!0,n=0){let i=e[sr].rendererFactory,o=!1;o||i.begin?.();try{FN(e,n)}catch(s){throw t&&uN(e,s),s}finally{o||i.end?.()}}function FN(e,t){let n=H_();try{EC(!0),Eh(e,t);let r=0;for(;Du(e);){if(r===kN)throw new R(103,!1);r++,Eh(e,1)}}finally{EC(n)}}function LN(e,t,n,r){if(os(t))return;let i=t[W],o=!1,s=!1;pg(t);let a=!0,l=null,c=null;o||(ew(e)?(c=MN(t),l=tc(c)):ap()===null?(a=!1,c=RN(t),l=tc(c)):t[Qt]&&(pp(t[Qt]),t[Qt]=null));try{j_(t),pM(e.bindingStartIndex),n!==null&&Jb(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let u=e.preOrderCheckHooks;u!==null&&Uc(t,u,null)}else{let u=e.preOrderHooks;u!==null&&Bc(t,u,0,null),Up(t,0)}if(s||jN(t),tw(t),rw(t,0),e.contentQueries!==null&&Nb(e,t),!o)if(d){let u=e.contentCheckHooks;u!==null&&Uc(t,u)}else{let u=e.contentHooks;u!==null&&Bc(t,u,1),Up(t,1)}UN(e,t);let f=e.components;f!==null&&ow(t,f,0);let h=e.viewQuery;if(h!==null&&vh(2,h,r),!o)if(d){let u=e.viewCheckHooks;u!==null&&Uc(t,u)}else{let u=e.viewHooks;u!==null&&Bc(t,u,2),Up(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[jp]){for(let u of t[jp])u();t[jp]=null}o||(Kb(t),t[W]&=-73)}catch(d){throw o||Eu(t),d}finally{c!==null&&(dp(c,l),a&&NN(c)),hg()}}function rw(e,t){for(let n=Db(e);n!==null;n=Eb(n))for(let r=it;r<n.length;r++){let i=n[r];iw(i,t)}}function jN(e){for(let t=Db(e);t!==null;t=Eb(t)){if(!(t[W]&2))continue;let n=t[Xo];for(let r=0;r<n.length;r++){let i=n[r];V_(i)}}}function VN(e,t,n){we(18);let r=Pn(t,e);iw(r,n),we(19,r[Ve])}function iw(e,t){ag(e)&&Eh(e,t)}function Eh(e,t){let r=e[z],i=e[W],o=e[Qt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&fp(o)),s||=!1,o&&(o.dirty=!1),e[W]&=-9217,s)LN(r,e,r.template,e[Ve]);else if(i&8192){tw(e),rw(e,1);let a=r.components;a!==null&&ow(e,a,1),Kb(e)}}function ow(e,t,n){for(let r=0;r<t.length;r++)VN(e,t[r],n)}function UN(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wi(~i);else{let o=i,s=n[++r],a=n[++r];gM(s,o);let l=t[o];we(24,l),a(2,l),we(25,l)}}}finally{Wi(-1)}}function jg(e,t){let n=H_()?64:1088;for(e[sr].changeDetectionScheduler?.notify(t);e;){e[W]|=n;let r=zi(e);if(Yc(e)&&!r)return e;e=r}return null}function sw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function aw(e,t){let n=it+t;if(n<e.length)return e[n]}function Uu(e,t,n,r=!0){let i=t[z];if(BN(i,t,e,n),r){let s=Dh(n,e),a=t[Pe],l=a.parentNode(e[Gi]);l!==null&&mN(i,e[yn],a,t,l,s)}let o=t[ba];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lw(e,t){let n=Ta(e,t);return n!==void 0&&Lu(n[z],n),n}function Ta(e,t){if(e.length<=it)return;let n=it+t,r=e[n];if(r){let i=r[qi];i!==null&&i!==e&&Fg(i,r),t>0&&(e[n-1][hn]=r[hn]);let o=Jc(e,it+t);gN(r[z],r);let s=o[ar];s!==null&&s.detachView(o[z]),r[ot]=null,r[hn]=null,r[W]&=-129}return r}function BN(e,t,n,r){let i=it+r,o=n.length;r>0&&(n[i-1][hn]=t),r<o-it?(t[hn]=n[i],b_(n,it+r,t)):(n.push(t),t[hn]=null),t[ot]=n;let s=t[qi];s!==null&&n!==s&&cw(s,t);let a=t[ar];a!==null&&a.insertView(e),oh(t),t[W]|=128}function cw(e,t){let n=e[Xo],r=t[ot];if(Wr(r))e[W]|=2;else{let i=r[ot][gn];t[gn]!==i&&(e[W]|=2)}n===null?e[Xo]=[t]:n.push(t)}var xa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[z];return lu(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ve]}set context(t){this._lView[Ve]=t}get destroyed(){return os(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ot];if(pr(t)){let n=t[Kc],r=n?n.indexOf(this):-1;r>-1&&(Ta(t,r),Jc(n,r))}this._attachedToViewContainer=!1}Lu(this._lView[z],this._lView)}onDestroy(t){U_(this._lView,t)}markForCheck(){jg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){oh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,nw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Yc(this._lView),n=this._lView[qi];n!==null&&!t&&Fg(n,this._lView),Qb(this._lView[z],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t;let n=Yc(this._lView),r=this._lView[qi];r!==null&&!n&&cw(r,this._lView),oh(this._lView)}};var Zi=(()=>{class e{static __NG_ELEMENT_ID__=qN}return e})(),$N=Zi,HN=class extends $N{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=Fu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new xa(i)}};function qN(){return Bu(ht(),ie())}function Bu(e,t){return e.type&4?new HN(t,e,as(e,t)):null}function $u(e,t,n,r,i){let o=e.data[t];if(o===null)o=GN(e,t,n,r,i),hM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=fM();o.injectorIndex=s===null?-1:s.injectorIndex}return Ki(o,!0),o}function GN(e,t,n,r,i){let o=B_(),s=dg(),a=s?o:o&&o.parent,l=e.data[t]=WN(e,a,n,t,r,i);return zN(e,l,o,s),l}function zN(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function WN(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return cM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cG=new RegExp(`^(\\d+)*(${rA}|${nA})*(.*)`);var JN=()=>null;function Sa(e,t){return JN(e,t)}var ZN=class{},uw=class{},Ih=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Tt(t)}.`)}},Hu=class{static NULL=new Ih},Yo=class{},jn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>QN()}return e})();function QN(){let e=ie(),t=ht(),n=Pn(t.index,e);return(Wr(n)?n:e)[Pe]}var XN=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>null})}return e})();var Hp={},Th=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Cu(r);let i=this.injector.get(t,Hp,r);return i!==Hp||n===Hp?i:this.parentInjector.get(t,n,r)}};function xh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Xp(i,a);else if(o==2){let l=a,c=t[++s];r=Xp(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function P(e,t=X.Default){let n=ie();if(n===null)return U(e,t);let r=ht();return cb(r,n,dt(e),t)}function Vg(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,c=null,d=YN(s);d===null?a=s:[a,l,c]=d,nO(e,t,n,a,o,l,c)}o!==null&&r!==null&&KN(n,r,o)}function KN(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new R(-301,!1);r.push(t[i],o)}}function YN(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&On(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,eO(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function eO(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function tO(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function nO(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let u=r[h];!l&&On(u)&&(l=!0,tO(e,n,h)),ch(ru(n,t),e,u.type)}lO(n,e.data.length,a);for(let h=0;h<a;h++){let u=r[h];u.providersResolver&&u.providersResolver(u)}let c=!1,d=!1,f=zb(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let u=r[h];if(n.mergedAttrs=Ko(n.mergedAttrs,u.hostAttrs),iO(e,n,t,f,u),aO(f,u,i),s!==null&&s.has(u)){let[g,m]=s.get(u);n.directiveToIndex.set(u.type,[f,g+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(u))&&n.directiveToIndex.set(u.type,f);u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let p=u.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}rO(e,n,o)}function rO(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))GC(0,t,i,r),GC(1,t,i,r),WC(t,r,!1);else{let o=n.get(i);zC(0,t,o,r),zC(1,t,o,r),WC(t,r,!0)}}}function GC(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),dw(t,o)}}function zC(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),dw(t,s)}}function dw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function WC(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Tg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function iO(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Bi(i.type,!0)),s=new Ji(o,On(i),P);e.blueprint[r]=s,n[r]=s,oO(e,t,r,zb(e,n,i.hostVars,vn),i)}function oO(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;sO(s)!=a&&s.push(a),s.push(n,r,o)}}function sO(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function aO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;On(t)&&(n[""]=e)}}function lO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fw(e,t,n,r,i,o,s,a){let l=t.consts,c=Jr(l,s),d=$u(t,e,2,r,c);return o&&Vg(t,n,d,Jr(l,a),i),d.mergedAttrs=Ko(d.mergedAttrs,d.attrs),d.attrs!==null&&xh(d,d.attrs,!1),d.mergedAttrs!==null&&xh(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function pw(e,t){gg(e,t),og(t)&&e.queries.elementEnd(t)}var cu=class extends Hu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Zo(t);return new Ma(n,this.ngModule)}};function cO(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Pu.SignalBased)!==0};return i&&(o.transform=i),o})}function uO(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function dO(e,t,n){let r=t instanceof ft?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Th(n,r):n}function fO(e){let t=e.get(Yo,null);if(t===null)throw new R(407,!1);let n=e.get(XN,null),r=e.get(Ea,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function pO(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return $b(t,n,n==="svg"?F_:n==="math"?YS:null)}var Ma=class extends uw{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=cO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=uO(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=$A(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){we(22);let o=K(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:HA(this.componentDef.selectors[0]),l=xg(0,null,null,1,0,null,null,null,null,[a],null),c=dO(s,i||this.ngModule,t),d=fO(c),f=d.rendererFactory.createRenderer(null,s),h=r?YA(f,r,s.encapsulation,c):pO(s,f),u=Sg(null,l,null,512|Gb(s),null,null,d,f,c,null,Ab(h,c,!0));u[pt]=h,pg(u);let p=null;try{let g=fw(pt,l,u,"#host",()=>[this.componentDef],!0,0);h&&(qb(f,h,g),ls(h,u)),ku(l,u,g),Dg(l,g,u),pw(l,g),n!==void 0&&hO(g,this.ngContentSelectors,n),p=Pn(g.index,u),u[Ve]=p[Ve],Pg(l,u,null)}catch(g){throw p!==null&&mh(p),mh(u),g}finally{we(23),hg()}return new Sh(this.componentType,u)}finally{K(o)}}},Sh=class extends ZN{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=sg(n[z],pt),this.location=as(this._tNode,n),this.instance=Pn(this._tNode.index,n)[Ve],this.hostView=this.changeDetectorRef=new xa(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Rg(r,i[z],i,t,n);this.previousInputValues.set(t,n);let s=Pn(r.index,i);jg(s,1)}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function hO(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Kt=(()=>{class e{static __NG_ELEMENT_ID__=gO}return e})();function gO(){let e=ht();return gw(e,ie())}var mO=Kt,hw=class extends mO{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let t=mg(this._hostTNode,this._hostLView);if(rb(t)){let n=tu(t,this._hostLView),r=eu(t),i=n[z].data[r+8];return new Ui(i,n)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=JC(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-it}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Sa(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ia(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!ZS(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ma(Zo(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(ft,null);g&&(o=g)}let d=Zo(l.componentType??{}),f=Sa(this._lContainer,d?.id??null),h=f?.firstChild??null,u=l.create(c,i,h,o);return this.insertImpl(u.hostView,a,Ia(this._hostTNode,f)),u}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(nM(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[ot],c=new hw(l,l[yn],l[ot]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Uu(s,i,o,r),t.attachToViewContainerRef(),b_(qp(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=JC(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ta(this._lContainer,n);r&&(Jc(qp(this._lContainer),n),Lu(r[z],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ta(this._lContainer,n);return r&&Jc(qp(this._lContainer),n)!=null?new xa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function JC(e){return e[Kc]}function qp(e){return e[Kc]||(e[Kc]=[])}function gw(e,t){let n,r=t[e.index];return pr(r)?n=r:(n=sw(r,t,null,e),t[e.index]=n,Mg(t,n)),vO(n,t,e,r),new hw(n,e,t)}function yO(e,t){let n=e[Pe],r=n.createComment(""),i=Fn(t,e),o=n.parentNode(i);return au(n,o,r,n.nextSibling(i),!1),r}var vO=bO,CO=()=>!1;function _O(e,t,n){return CO(e,t,n)}function bO(e,t,n,r){if(e[Gi])return;let i;n.type&8?i=Rn(r):i=yO(t,n),e[Gi]=i}var Mh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ah=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Ug(t,n).matches!==null&&this.queries[n].setDirty()}},uu=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=MO(t):this.predicate=t}},Nh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Oh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,wO(n,o)),this.matchTNodeWithReadOption(t,n,$c(n,t,o,!1,!1))}else r===Zi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$c(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xt||i===Kt||i===Zi&&n.type&4)this.addMatch(n.index,-2);else{let o=$c(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function wO(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function DO(e,t){return e.type&11?as(e,t):e.type&4?Bu(e,t):null}function EO(e,t,n,r){return n===-1?DO(t,e):n===-2?IO(e,t,r):Da(e,e[z],n,t)}function IO(e,t,n){if(n===xt)return as(t,e);if(n===Zi)return Bu(t,e);if(n===Kt)return gw(t,e)}function mw(e,t,n,r){let i=t[ar].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(EO(t,d,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Rh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=mw(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let f=it;f<d.length;f++){let h=d[f];h[qi]===h[ot]&&Rh(h[z],h,c,r)}if(d[Xo]!==null){let f=d[Xo];for(let h=0;h<f.length;h++){let u=f[h];Rh(u[z],u,c,r)}}}}}return r}function TO(e,t){return e[ar].queries[t].queryList}function yw(e,t,n){let r=new gh((n&4)===4);return oM(e,t,r,r.destroy),(t[ar]??=new Ah).queries.push(new Mh(r))-1}function xO(e,t,n){let r=ke();return r.firstCreatePass&&(vw(r,new uu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),yw(r,ie(),t)}function SO(e,t,n,r){let i=ke();if(i.firstCreatePass){let o=ht();vw(i,new uu(t,n,r),o.index),AO(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return yw(i,ie(),n)}function MO(e){return e.split(",").map(t=>t.trim())}function vw(e,t,n){e.queries===null&&(e.queries=new Nh),e.queries.track(new Oh(t,n))}function AO(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Ug(e,t){return e.queries.getByIndex(t)}function NO(e,t){let n=e[z],r=Ug(n,t);return r.crossesNgTemplate?Rh(n,e,t,[]):mw(n,e,r,t)}var es=class{},Bg=class{};var Ph=class extends es{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cu(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=I_(t);this._bootstrapComponents=Ub(o.bootstrap),this._r3Injector=fb(t,n,[{provide:es,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...r],Tt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kh=class extends Bg{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ph(this.moduleType,t,[])}};var du=class extends es{injector;componentFactoryResolver=new cu(this);instance=null;constructor(t){super();let n=new _a([...t.providers,{provide:es,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],t.parent||ig(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function qu(e,t,n=null){return new du({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var OO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=T_(!1,n.type),i=r.length>0?qu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(U(ft))})}return e})();function Be(e){return Na(()=>{let t=_w(e),n=B(I({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(OO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kn.Emulated,styles:e.styles||It,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Fa("NgStandalone"),bw(n);let r=e.dependencies;return n.directiveDefs=ZC(r,!1),n.pipeDefs=ZC(r,!0),n.id=LO(n),n})}function RO(e){return Zo(e)||FS(e)}function PO(e){return e!==null}function gr(e){return Na(()=>({type:e.type,bootstrap:e.bootstrap||It,declarations:e.declarations||It,imports:e.imports||It,exports:e.exports||It,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kO(e,t){if(e==null)return $i;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Pu.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function FO(e){if(e==null)return $i;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ye(e){return Na(()=>{let t=_w(e);return bw(t),t})}function Cw(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function _w(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||$i,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||It,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kO(e.inputs,t),outputs:FO(e.outputs),debugInfo:null}}function bw(e){e.features?.forEach(t=>t(e))}function ZC(e,t){if(!e)return null;let n=t?LS:RO;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(PO)}function LO(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function jO(e){return Object.getPrototypeOf(e.prototype).constructor}function gt(e){let t=jO(e.type),n=!0,r=[e];for(;t;){let i;if(On(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new R(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Gp(e.inputs),s.declaredInputs=Gp(e.declaredInputs),s.outputs=Gp(e.outputs);let a=i.hostBindings;a&&HO(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&BO(e,l),c&&$O(e,c),VO(e,i),pS(e.outputs,i.outputs),On(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===gt&&(n=!1)}}t=Object.getPrototypeOf(t)}UO(r)}function VO(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function UO(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ko(i.hostAttrs,n=Ko(n,i.hostAttrs))}}function Gp(e){return e===$i?{}:e===It?[]:e}function BO(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function $O(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function HO(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function ww(e){return GO(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function qO(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function GO(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Dw(e,t,n){return e[t]=n}function mn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zO(e,t,n,r){let i=mn(e,t,n);return mn(e,t+1,r)||i}function WO(e,t,n,r,i,o,s,a,l){let c=t.consts,d=$u(t,e,4,s||null,a||null);ug()&&Vg(t,n,d,Jr(c,l),Og),d.mergedAttrs=Ko(d.mergedAttrs,d.attrs),gg(t,d);let f=d.tView=xg(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}function Fh(e,t,n,r,i,o,s,a,l,c){let d=n+pt,f=t.firstCreatePass?WO(d,t,e,r,i,o,s,a,l):t.data[d];Ki(f,!1);let h=JO(t,e,f,n);Tu()&&ju(t,e,h,f),ls(h,e);let u=sw(h,e,h,f);return e[d]=u,Mg(e,u),_O(u,f,e),wu(f)&&ku(t,e,f),l!=null&&Ag(e,f,c),f}function q(e,t,n,r,i,o,s,a){let l=ie(),c=ke(),d=Jr(c.consts,o);return Fh(l,c,e,t,n,r,i,d,s,a),q}var JO=ZO;function ZO(e,t,n,r){return xu(!0),t[Pe].createComment("")}var Ew=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Iw=new L("");var QO=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new Lh})}return e})(),Lh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Xr(e){return!!e&&typeof e.then=="function"}function $g(e){return!!e&&typeof e.subscribe=="function"}var Tw=new L("");function Hg(e){return ns([{provide:Tw,multi:!0,useValue:e}])}var xw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(Tw,{optional:!0})??[];injector=N(lr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Pt(this.injector,i);if(Xr(o))n.push(o);else if($g(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qg=new L("");function XO(){gp(()=>{throw new R(600,!1)})}function KO(e){return e.isBoundToModule}var YO=10;var Qi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(GM);afterRenderManager=N(oA);zonelessEnabled=N(vg);rootEffectScheduler=N(QO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(Qr).hasPendingTasks.pipe(Y(n=>!n));constructor(){N(Au,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=lr.NULL){we(10);let o=n instanceof uw;if(!this._injector.get(xw).done){let u="";throw new R(405,u)}let a;o?a=n:a=this._injector.get(Hu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=KO(a)?void 0:this._injector.get(es),c=r||a.selector,d=a.create(i,[],c,l),f=d.location.nativeElement,h=d.injector.get(Iw,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Hc(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),we(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Mb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new R(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<YO;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)eR(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Du(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Hc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(qg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function eR(e,t,n,r){if(!n&&!Du(e))return;nw(e,t,n&&!r?0:1)}function Ft(e,t,n,r){let i=ie(),o=ss();if(mn(i,o,t)){let s=ke(),a=Iu();aN(a,i,e,t,n,r)}return Ft}function Sw(e,t,n,r){return mn(e,ss(),n)?t+Oa(n)+r:vn}function jc(e,t){return e<<17|t<<2}function Xi(e){return e>>17&32767}function tR(e){return(e&2)==2}function nR(e,t){return e&131071|t<<17}function jh(e){return e|2}function ts(e){return(e&131068)>>2}function zp(e,t){return e&-131069|t<<2}function rR(e){return(e&1)===1}function Vh(e){return e|1}function iR(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Xi(s),l=ts(s);e[r]=n;let c=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Ra(f,d)>0)&&(c=!0)}else d=n;if(i)if(l!==0){let h=Xi(e[a+1]);e[r+1]=jc(h,a),h!==0&&(e[h+1]=zp(e[h+1],r)),e[a+1]=nR(e[a+1],r)}else e[r+1]=jc(a,0),a!==0&&(e[a+1]=zp(e[a+1],r)),a=r;else e[r+1]=jc(l,0),a===0?a=r:e[l+1]=zp(e[l+1],r),l=r;c&&(e[r+1]=jh(e[r+1])),QC(e,d,r,!0),QC(e,d,r,!1),oR(t,d,e,r,o),s=jc(a,l),o?t.classBindings=s:t.styleBindings=s}function oR(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ra(o,t)>=0&&(n[r+1]=Vh(n[r+1]))}function QC(e,t,n,r){let i=e[n+1],o=t===null,s=r?Xi(i):ts(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];sR(l,t)&&(a=!0,e[s+1]=r?Vh(c):jh(c)),s=r?Xi(c):ts(c)}a&&(e[n+1]=r?jh(i):Vh(i))}function sR(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ra(e,t)>=0:!1}var ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aR(e){return e.substring(ut.key,ut.keyEnd)}function lR(e){return e.substring(ut.value,ut.valueEnd)}function cR(e){return uR(e),Mw(e,fu(e,0,ut.textEnd))}function Mw(e,t){let n=ut.textEnd,r=ut.key=fu(e,t,n);return n===r?-1:(r=ut.keyEnd=dR(e,r,n),r=XC(e,r,n,58),r=ut.value=fu(e,r,n),r=ut.valueEnd=fR(e,r,n),XC(e,r,n,59))}function uR(e){ut.key=0,ut.keyEnd=0,ut.value=0,ut.valueEnd=0,ut.textEnd=e.length}function fu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function dR(e,t,n){let r;for(;t<n&&((r=e.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function XC(e,t,n,r){return t=fu(e,t,n),t<n&&t++,t}function fR(e,t,n){let r=-1,i=-1,o=-1,s=t,a=s;for(;s<n;){let l=e.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=KC(e,l,s,n):t===s-4&&o===85&&i===82&&r===76&&l===40?a=s=KC(e,41,s,n):l>32&&(a=s),o=i,i=r,r=l&-33}return a}function KC(e,t,n,r){let i=-1,o=n;for(;o<r;){let s=e.charCodeAt(o++);if(s==t&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function j(e,t,n){let r=ie(),i=ss();if(mn(r,i,t)){let o=ke(),s=Iu();Ng(o,s,r,e,t,r[Pe],n,!1)}return j}function Uh(e,t,n,r,i){Rg(t,e,n,i?"class":"style",r)}function Kr(e,t){return hR(e,t,null,!0),Kr}function Aw(e){gR(Rw,pR,e,!1)}function pR(e,t){for(let n=cR(t);n>=0;n=Mw(t,n))Rw(e,aR(t),lR(t))}function hR(e,t,n,r){let i=ie(),o=ke(),s=G_(2);if(o.firstUpdatePass&&Ow(o,e,s,r),t!==vn&&mn(i,s,t)){let a=o.data[Zr()];Pw(o,a,i,i[Pe],e,i[s+1]=wR(t,n),r,s)}}function gR(e,t,n,r){let i=ke(),o=G_(2);i.firstUpdatePass&&Ow(i,null,o,r);let s=ie();if(n!==vn&&mn(s,o,n)){let a=i.data[Zr()];if(kw(a,r)&&!Nw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Xp(l,n||"")),Uh(i,a,s,n,r)}else bR(i,a,s,s[Pe],s[o+1],s[o+1]=_R(e,t,n),r,o)}}function Nw(e,t){return t>=e.expandoStartIndex}function Ow(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Zr()],s=Nw(e,n);kw(o,r)&&t===null&&!s&&(t=!1),t=mR(i,o,t,r),iR(i,o,t,n,s,r)}}function mR(e,t,n,r){let i=yM(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Wp(null,e,t,n,r),n=Aa(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Wp(i,e,t,n,r),o===null){let l=yR(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Wp(null,e,t,l[1],r),l=Aa(l,t.attrs,r),vR(e,t,r,l))}else o=CR(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function yR(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ts(r)!==0)return e[Xi(r)]}function vR(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Xi(i)]=r}function CR(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Aa(r,s,n)}return Aa(r,t.attrs,n)}function Wp(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Aa(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Aa(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),w_(e,s,n?!0:t[++o]))}return e===void 0?null:e}function _R(e,t,n){if(n==null||n==="")return It;let r=[],i=cs(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function Rw(e,t,n){w_(e,t,cs(n))}function bR(e,t,n,r,i,o,s,a){i===vn&&(i=It);let l=0,c=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let h=l<i.length?i[l+1]:void 0,u=c<o.length?o[c+1]:void 0,p=null,g;d===f?(l+=2,c+=2,h!==u&&(p=f,g=u)):f===null||d!==null&&d<f?(l+=2,p=d):(c+=2,p=f,g=u),p!==null&&Pw(e,t,n,r,p,g,s,a),d=l<i.length?i[l]:null,f=c<o.length?o[c]:null}}function Pw(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],d=rR(c)?YC(l,t,n,i,ts(c),s):void 0;if(!pu(d)){pu(o)||tR(c)&&(o=YC(l,null,n,i,a,s));let f=L_(Zr(),n);xN(r,s,f,i,o)}}function YC(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,h=n[i+1];h===vn&&(h=f?It:void 0);let u=f?Fp(h,r):d===r?h:void 0;if(c&&!pu(u)&&(u=Fp(l,r)),pu(u)&&(a=u,s))return a;let p=e[i+1];i=s?Xi(p):ts(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Fp(l,r))}return a}function pu(e){return e!==void 0}function wR(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Tt(cs(e)))),e}function kw(e,t){return(e.flags&(t?8:16))!==0}var Bh=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Jp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function DR(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let c=e.at(o),d=t[o],f=Jp(o,c,o,d,n);if(f!==0){f<0&&e.updateValue(o,d),o++;continue}let h=e.at(s),u=t[l],p=Jp(s,h,l,u,n);if(p!==0){p<0&&e.updateValue(s,u),s--,l--;continue}let g=n(o,c),m=n(s,h),y=n(o,d);if(Object.is(y,m)){let _=n(l,u);Object.is(_,g)?(e.swap(o,s),e.updateValue(s,u),l--,s--):e.move(s,o),e.updateValue(o,d),o++;continue}if(r??=new hu,i??=t_(e,o,s,n),$h(e,r,o,y))e.updateValue(o,d),o++,s++;else if(i.has(y))r.set(g,e.detach(o)),s--;else{let _=e.create(o,t[o]);e.attach(o,_),o++,s++}}for(;o<=l;)e_(e,r,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=e.at(o),f=c.value,h=Jp(o,d,o,f,n);if(h!==0)h<0&&e.updateValue(o,f),o++,c=l.next();else{r??=new hu,i??=t_(e,o,s,n);let u=n(o,f);if($h(e,r,o,u))e.updateValue(o,f),o++,s++,c=l.next();else if(!i.has(u))e.attach(o,e.create(o,f)),o++,s++,c=l.next();else{let p=n(o,d);r.set(p,e.detach(o)),s--}}}for(;!c.done;)e_(e,r,n,e.length,c.value),c=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function $h(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function e_(e,t,n,r,i){if($h(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function t_(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var hu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function ne(e,t){Fa("NgControlFlow");let n=ie(),r=ss(),i=n[r]!==vn?n[r]:-1,o=i!==-1?gu(n,pt+i):void 0,s=0;if(mn(n,r,e)){let a=K(null);try{if(o!==void 0&&lw(o,s),e!==-1){let l=pt+e,c=gu(n,l),d=zh(n[z],l),f=Sa(c,d.tView.ssrId),h=Fu(n,d,t,{dehydratedView:f});Uu(c,h,s,Ia(d,f))}}finally{K(a)}}else if(o!==void 0){let a=aw(o,s);a!==void 0&&(a[Ve]=t)}}var Hh=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-it}};function Vn(e,t){return t}var qh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function xe(e,t,n,r,i,o,s,a,l,c,d,f,h){Fa("NgControlFlow");let u=ie(),p=ke(),g=l!==void 0,m=ie(),y=a?s.bind(m[gn][Ve]):s,_=new qh(g,y);m[pt+e]=_,Fh(u,p,e+1,t,n,r,i,Jr(p.consts,o)),g&&Fh(u,p,e+2,l,c,d,f,Jr(p.consts,h))}var Gh=class extends Bh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-it}at(t){return this.getLView(t)[Ve].$implicit}attach(t,n){let r=n[ba];this.needsIndexUpdate||=t!==this.length,Uu(this.lContainer,n,t,Ia(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,ER(this.lContainer,t)}create(t,n){let r=Sa(this.lContainer,this.templateTNode.tView.ssrId),i=Fu(this.hostLView,this.templateTNode,new Hh(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){Lu(t[z],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Ve].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ve].$index=t}getLView(t){return IR(this.lContainer,t)}};function Se(e){let t=K(null),n=Zr();try{let r=ie(),i=r[z],o=r[n],s=n+1,a=gu(r,s);if(o.liveCollection===void 0){let c=zh(i,s);o.liveCollection=new Gh(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(DR(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ss(),d=l.length===0;if(mn(r,c,d)){let f=n+2,h=gu(r,f);if(d){let u=zh(i,f),p=Sa(h,u.tView.ssrId),g=Fu(r,u,void 0,{dehydratedView:p});Uu(h,g,0,Ia(u,p))}else lw(h,0)}}}finally{K(t)}}function gu(e,t){return e[t]}function ER(e,t){return Ta(e,t)}function IR(e,t){return aw(e,t)}function zh(e,t){return sg(e,t)}function v(e,t,n,r){let i=ie(),o=ke(),s=pt+e,a=i[Pe],l=o.firstCreatePass?fw(s,o,i,t,Og,ug(),n,r):o.data[s],c=TR(o,i,l,a,t,e);i[s]=c;let d=wu(l);return Ki(l,!0),qb(a,c,l),!Zb(l)&&Tu()&&ju(o,i,c,l),(sM()===0||d)&&ls(c,i),aM(),d&&(ku(o,i,l),Dg(o,l,i)),r!==null&&Ag(i,l),v}function C(){let e=ht();dg()?$_():(e=e.parent,Ki(e,!1));let t=e;uM(t)&&dM(),lM();let n=ke();return n.firstCreatePass&&pw(n,t),t.classesWithoutHost!=null&&EM(t)&&Uh(n,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&IM(t)&&Uh(n,t,ie(),t.stylesWithoutHost,!1),C}function he(e,t,n,r){return v(e,t,n,r),C(),he}var TR=(e,t,n,r,i,o)=>(xu(!0),$b(r,i,bM()));function xR(e,t,n,r,i){let o=t.consts,s=Jr(o,r),a=$u(t,e,8,"ng-container",s);s!==null&&xh(a,s,!0);let l=Jr(o,i);return ug()&&Vg(t,n,a,l,Og),a.mergedAttrs=Ko(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function mr(e,t,n){let r=ie(),i=ke(),o=e+pt,s=i.firstCreatePass?xR(o,i,r,t,n):i.data[o];Ki(s,!0);let a=SR(i,r,s,e);return r[o]=a,Tu()&&ju(i,r,a,s),ls(a,r),wu(s)&&(ku(i,r,s),Dg(i,s,r)),n!=null&&Ag(r,s),mr}function yr(){let e=ht(),t=ke();return dg()?$_():(e=e.parent,Ki(e,!1)),t.firstCreatePass&&(gg(t,e),og(e)&&t.queries.elementEnd(e)),yr}function Gg(e,t,n){return mr(e,t,n),yr(),Gg}var SR=(e,t,n,r)=>(xu(!0),zA(t[Pe],""));function ce(){return ie()}var mu="en-US";var MR=mu;function AR(e){typeof e=="string"&&(MR=e.toLowerCase().replace(/_/g,"-"))}function n_(e,t,n){return function r(i){if(i===Function)return n;let o=is(e)?Pn(e.index,t):t;jg(o,5);let s=t[Ve],a=r_(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=r_(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function r_(e,t,n,r){let i=K(null);try{return we(6,t,n),n(r)!==!1}catch(o){return NR(e,o),!1}finally{we(7,t,n),K(i)}}function NR(e,t){let n=e[Hi],r=n?n.get(cr,null):null;r&&r.handleError(t)}function i_(e,t,n,r,i,o){let s=t[n],a=t[z],c=a.data[n].outputs[r],d=s[c],f=a.firstCreatePass?cg(a):null,h=lg(t),u=d.subscribe(o),p=h.length;h.push(o,u),f&&f.push(i,e.index,p,-(p+1))}var OR=new Map;function V(e,t,n,r){let i=ie(),o=ke(),s=ht();return Fw(o,i,i[Pe],s,e,t,r),V}function RR(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Qc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Fw(e,t,n,r,i,o,s){let a=wu(r),c=e.firstCreatePass?cg(e):null,d=lg(t),f=!0;if(r.type&3||s){let h=Fn(r,t),u=s?s(h):h,p=d.length,g=s?y=>s(Rn(y[r.index])):r.index,m=null;if(!s&&a&&(m=RR(e,t,i,r.index)),m!==null){let y=m.__ngLastListenerFn__||m;y.__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,f=!1}else{o=n_(r,t,o);let y=t[Hi].get(Mu);OR.get(y)?.(u,i,o);let w=n.listen(u,i,o);d.push(o,w),c&&c.push(i,g,p,p+1)}}else o=n_(r,t,o);if(f){let h=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let p=0;p<u.length;p+=2){let g=u[p],m=u[p+1];i_(r,t,g,m,i,o)}if(h&&h.length)for(let p of h)i_(r,t,p,i,i,o)}}function T(e=1){return CM(e)}function zg(e,t,n){return Lw(e,"",t,"",n),zg}function Lw(e,t,n,r,i){let o=ie(),s=Sw(o,t,n,r);if(s!==vn){let a=ke(),l=Iu();Ng(a,l,o,e,s,o[Pe],i,!1)}return Lw}function jw(e,t,n,r){SO(e,t,n,r)}function Gu(e,t,n){xO(e,t,n)}function us(e){let t=ie(),n=ke(),r=z_();fg(r+1);let i=Ug(n,r);if(e.dirty&&tM(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=NO(t,r);e.reset(o,JM),e.notifyOnChanges()}return!0}return!1}function ds(){return TO(ie(),z_())}function PR(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function E(e,t=""){let n=ie(),r=ke(),i=e+pt,o=r.firstCreatePass?$u(r,i,1,t,null):r.data[i],s=kR(r,n,o,t,e);n[i]=s,Tu()&&ju(r,n,s,o),Ki(o,!1)}var kR=(e,t,n,r,i)=>(xu(!0),qA(t[Pe],r));function ge(e){return Cn("",e,""),ge}function Cn(e,t,n){let r=ie(),i=Sw(r,e,t,n);return i!==vn&&FR(r,Zr(),i),Cn}function FR(e,t,n){let r=L_(t,e);GA(e[Pe],r,n)}function qe(e,t,n){Cb(t)&&(t=t());let r=ie(),i=ss();if(mn(r,i,t)){let o=ke(),s=Iu();Ng(o,s,r,e,t,r[Pe],n,!1)}return qe}function tt(e,t){let n=Cb(e);return n&&e.set(t),n}function Ge(e,t){let n=ie(),r=ke(),i=ht();return Fw(r,n,n[Pe],i,e,t),Ge}function LR(e,t,n){let r=ke();if(r.firstCreatePass){let i=On(e);Wh(n,r.data,r.blueprint,i,!0),Wh(t,r.data,r.blueprint,i,!1)}}function Wh(e,t,n,r,i){if(e=dt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Wh(e[o],t,n,r,i);else{let o=ke(),s=ie(),a=ht(),l=Qo(e)?e:dt(e.provide),c=M_(e),d=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Qo(e)||!e.multi){let u=new Ji(c,i,P),p=Qp(l,t,i?d:d+h,f);p===-1?(ch(ru(a,s),o,l),Zp(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(u),s.push(u)):(n[p]=u,s[p]=u)}else{let u=Qp(l,t,d+h,f),p=Qp(l,t,d,d+h),g=u>=0&&n[u],m=p>=0&&n[p];if(i&&!m||!i&&!g){ch(ru(a,s),o,l);let y=UR(i?VR:jR,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),Zp(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=Vw(n[i?p:u],c,!i&&r);Zp(o,e,u>-1?u:p,y)}!i&&r&&m&&n[p].componentProviders++}}}function Zp(e,t,n,r){let i=Qo(t),o=$S(t);if(i||o){let l=(o?dt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=c.indexOf(n);d===-1?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function Vw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function jR(e,t,n,r,i){return Jh(this.multi,[])}function VR(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Da(r,r[z],this.providerFactory.index,i);s=l.slice(0,a),Jh(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Jh(o,s);return s}function Jh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function UR(e,t,n,r,i){let o=new Ji(e,n,P);return o.multi=[],o.index=t,o.componentProviders=0,Vw(o,i,r&&!n),o}function Un(e,t=[]){return n=>{n.providersResolver=(r,i)=>LR(r,i?i(e):e,t)}}function Uw(e,t,n,r,i){return $R(ie(),q_(),e,t,n,r,i)}function Bw(e,t){let n=e[t];return n===vn?void 0:n}function BR(e,t,n,r,i,o){let s=t+n;return mn(e,s,i)?Dw(e,s+1,o?r.call(o,i):r(i)):Bw(e,s+1)}function $R(e,t,n,r,i,o,s){let a=t+n;return zO(e,a,i,o)?Dw(e,a+2,s?r.call(s,i,o):r(i,o)):Bw(e,a+2)}function Me(e,t){let n=ke(),r,i=e+pt;n.firstCreatePass?(r=HR(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Bi(r.type,!0)),s,a=Et(P);try{let l=nu(!1),c=o();return nu(l),PR(n,ie(),i,c),c}finally{Et(a)}}function HR(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Ae(e,t,n){let r=e+pt,i=ie(),o=eM(i,r);return qR(i,r)?BR(i,q_(),t,o.transform,n,o):o.transform(n)}function qR(e,t){return e[z].data[t].pure}function zu(e,t){return Bu(e,t)}var Zh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},$w=(()=>{class e{compileModuleSync(n){return new kh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=I_(n),o=Ub(i.declarations).reduce((s,a)=>{let l=Zo(a);return l&&s.push(new Ma(l)),s},[]);return new Zh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var GR=(()=>{class e{zone=N(Ue);changeDetectionScheduler=N(Ea);applicationRef=N(Qi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zR=new L("",{factory:()=>!1});function Hw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ue(B(I({},Gw()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:e},{provide:Ca,multi:!0,useFactory:()=>{let r=N(GR,{optional:!0});return()=>r.initialize()}},{provide:Ca,multi:!0,useFactory:()=>{let r=N(WR);return()=>{r.initialize()}}},t===!0?{provide:hb,useValue:!0}:[],{provide:gb,useValue:n??pb}]}function qw(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Hw({ngZoneFactory:()=>{let i=Gw(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Fa("NgZone_CoalesceEvent"),new Ue(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ns([{provide:zR,useValue:!0},{provide:vg,useValue:!1},r])}function Gw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var WR=(()=>{class e{subscription=new Ne;initialized=!1;zone=N(Ue);pendingTasks=N(Qr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var JR=(()=>{class e{appRef=N(Qi);taskService=N(Qr);ngZone=N(Ue);zonelessEnabled=N(vg);tracing=N(Au,{optional:!0});disableScheduling=N(hb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ou):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(gb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?AC:mb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ou+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZR(){return typeof $localize<"u"&&$localize.locale||mu}var Wg=new L("",{providedIn:"root",factory:()=>N(Wg,X.Optional|X.SkipSelf)||ZR()});var Qh=new L(""),QR=new L("");function ha(e){return!e.moduleRef}function XR(e){let t=ha(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ue);return n.run(()=>{ha(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(cr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ha(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Qh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Qh);s.add(o),e.moduleRef.onDestroy(()=>{Hc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return YR(r,n,()=>{let o=t.get(xw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Wg,mu);if(AR(s||mu),!t.get(QR,!0))return ha(e)?t.get(Qi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ha(e)){let l=t.get(Qi);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return KR(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function KR(e,t){let n=e.injector.get(Qi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new R(-403,!1);t.push(e)}function YR(e,t,n){try{let r=n();return Xr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var qc=null;function e1(e=[],t){return lr.create({name:t,providers:[{provide:_u,useValue:"platform"},{provide:Qh,useValue:new Set([()=>qc=null])},...e]})}function t1(e=[]){if(qc)return qc;let t=e1(e);return qc=t,XO(),n1(t),t}function n1(e){let t=e.get(bg,null);Pt(e,()=>{t?.forEach(n=>n())})}var Yr=(()=>{class e{static __NG_ELEMENT_ID__=r1}return e})();function r1(e){return i1(ht(),ie(),(e&16)===16)}function i1(e,t,n){if(is(e)&&!n){let r=Pn(e.index,t);return new xa(r,r)}else if(e.type&175){let r=t[gn];return new xa(r,t)}return null}var Xh=class{constructor(){}supports(t){return ww(t)}create(t){return new Kh(t)}},o1=(e,t)=>t,Kh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||o1}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<o_(r,i,o)?n:r,a=o_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let h=0;h<c;h++){let u=h<o.length?o[h]:o[h]=0,p=u+h;d<=p&&p<c&&(o[h]=u+1)}let f=s.previousIndex;o[f]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!ww(t))throw new R(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,qO(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Yh(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new yu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Yh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},eg=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new eg,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function o_(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function s_(){return new Jg([new Xh])}var Jg=(()=>{class e{factories;static \u0275prov=k({token:e,providedIn:"root",factory:s_});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||s_()),deps:[[e,new NS,new AS]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new R(901,!1)}}return e})();function zw(e){we(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=t1(r),o=[Hw({}),{provide:Ea,useExisting:JR},...n||[]],s=new du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return XR({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{we(9)}}function Yi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function _n(e){return vp(e)}function ja(e,t){return hp(e,t?.equal)}var a_=class{[Zt];constructor(t){this[Zt]=t}destroy(){this[Zt].destroy()}};var ze=new L("");var Zw=null;function Yt(){return Zw}function Zg(e){Zw??=e}var Va=class{},Qg=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(Qw),providedIn:"platform"})}return e})();var Qw=(()=>{class e extends Qg{_location;_history;_doc=N(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Xw(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Ww(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function ei(e){return e&&e[0]!=="?"?`?${e}`:e}var fs=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(Kw),providedIn:"root"})}return e})(),Wu=new L(""),Kw=(()=>{class e extends fs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ei(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ei(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(U(Qg),U(Wu,8))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ps=(()=>{class e{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=l1(Ww(Jw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ei(r))}normalize(n){return e.stripTrailingSlash(a1(this._basePath,Jw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ei;static joinWithSlash=Xw;static stripTrailingSlash=Ww;static \u0275fac=function(r){return new(r||e)(U(fs))};static \u0275prov=k({token:e,factory:()=>s1(),providedIn:"root"})}return e})();function s1(){return new ps(U(fs))}function a1(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Jw(e){return e.replace(/\/index.html$/,"")}function l1(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Xg=/\s+/,Yw=[],Ua=(()=>{class e{_ngEl;_renderer;initialClasses=Yw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Xg):Yw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Xg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Xg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(P(xt),P(jn))};static \u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Ju=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hs=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ju(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),e0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);e0(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(P(Kt),P(Zi),P(Jg))};static \u0275dir=ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function e0(e,t){e.context.$implicit=t.item}var Qu=(()=>{class e{_viewContainer;_context=new Zu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){t0(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){t0(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(P(Kt),P(Zi))};static \u0275dir=ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Zu=class{$implicit=null;ngIf=null};function t0(e,t){if(e&&!e.createEmbeddedView)throw new R(2020,!1)}function c1(e,t){return new R(2100,!1)}var Kg=class{createSubscription(t,n){return _n(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){_n(()=>t.unsubscribe())}},Yg=class{createSubscription(t,n){return t.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(t){t.unsubscribe()}},u1=new Yg,d1=new Kg,em=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Xr(n))return u1;if($g(n))return d1;throw c1(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(P(Yr,16))};static \u0275pipe=Cw({name:"async",type:e,pure:!1})}return e})();function Ba(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var tm="browser",n0="server";function Xu(e){return e===n0}var eo=class{};var ed=new L(""),om=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(U(ed),U(Ue))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),$a=class{_doc;constructor(t){this._doc=t}manager},Ku="ng-app-id";function r0(e){for(let t of e)t.remove()}function i0(e,t){let n=t.createElement("style");return n.textContent=e,n}function m1(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ku}="${t}"],link[${Ku}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ku),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function rm(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var sm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Xu(o),m1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,i0);r?.forEach(i=>this.addUsage(i,this.external,rm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(r0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])r0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,i0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,rm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ku,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(U(ze),U(Mu),U(wg,8),U(ka))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},am=/%COMP%/g;var s0="%COMP%",y1=`_nghost-${s0}`,v1=`_ngcontent-${s0}`,C1=!0,_1=new L("",{providedIn:"root",factory:()=>C1});function b1(e){return v1.replace(am,e)}function w1(e){return y1.replace(am,e)}function a0(e,t){return t.map(n=>n.replace(am,e))}var lm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Xu(a),this.defaultRenderer=new Ha(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r=B(I({},r),{encapsulation:kn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Yu?i.applyToHost(n):i instanceof qa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case kn.Emulated:o=new Yu(l,c,r,this.appId,d,s,a,f,h);break;case kn.ShadowDom:return new im(l,c,n,r,s,a,this.nonce,f,h);default:o=new qa(l,c,r,d,s,a,f,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(U(om),U(sm),U(Mu),U(_1),U(ze),U(ka),U(Ue),U(wg),U(Au,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Ha=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(nm[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(o0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(o0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=nm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=nm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ur.DashCase|ur.Important)?t.style.setProperty(n,r,i&ur.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ur.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Yt().getGlobalEventTarget(this.doc,t),!t))throw new R(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function o0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var im=class extends Ha{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=a0(i.id,d);for(let h of d){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=h,this.shadowRoot.appendChild(u)}let f=i.getExternalStyles?.();if(f)for(let h of f){let u=rm(h,o);a&&u.setAttribute("nonce",a),this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qa=class extends Ha{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?a0(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yu=class extends qa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let d=i+"-"+r.id;super(t,n,r,o,s,a,l,c,d),this.contentAttr=b1(d),this.hostAttr=w1(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var td=class e extends Va{supportsDOMEvents=!0;static makeCurrent(){Zg(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=D1();return n==null?null:E1(n)}resetBaseElement(){Ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ba(document.cookie,t)}},Ga=null;function D1(){return Ga=Ga||document.querySelector("base"),Ga?Ga.getAttribute("href"):null}function E1(e){return new URL(e,document.baseURI).pathname}var I1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),c0=(()=>{class e extends $a{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(U(ze))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),l0=["alt","control","meta","shift"],T1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},u0=(()=>{class e extends $a{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),l0.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=T1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),l0.forEach(s=>{if(s!==i){let a=x1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(U(ze))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function cm(e,t){return zw(I({rootComponent:e},S1(t)))}function S1(e){return{appProviders:[...R1,...e?.providers??[]],platformProviders:O1}}function M1(){td.makeCurrent()}function A1(){return new cr}function N1(){return Tb(document),document}var O1=[{provide:ka,useValue:tm},{provide:bg,useValue:M1,multi:!0},{provide:ze,useFactory:N1}];var R1=[{provide:_u,useValue:"root"},{provide:cr,useFactory:A1},{provide:ed,useClass:c0,multi:!0,deps:[ze]},{provide:ed,useClass:u0,multi:!0,deps:[ze]},lm,sm,om,{provide:Yo,useExisting:lm},{provide:eo,useClass:I1},[]];var ms=class{},za=class{},ti=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var rd=class{encodeKey(t){return d0(t)}encodeValue(t){return d0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function P1(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var k1=/%(\d[a-f0-9])/gi,F1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function d0(e){return encodeURIComponent(e).replace(k1,(t,n)=>F1[n]??t)}function nd(e){return`${e}`}var vr=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new rd,t.fromString){if(t.fromObject)throw new R(2805,!1);this.map=P1(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(nd):[nd(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(nd(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(nd(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var id=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function L1(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function f0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function p0(e){return typeof Blob<"u"&&e instanceof Blob}function h0(e){return typeof FormData<"u"&&e instanceof FormData}function j1(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var g0="Content-Type",m0="Accept",y0="X-Request-URL",v0="text/plain",C0="application/json",V1=`${C0}, ${v0}, */*`,gs=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(L1(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ti,this.context??=new id,!this.params)this.params=new vr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||f0(this.body)||p0(this.body)||h0(this.body)||j1(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||h0(this.body)?null:p0(this.body)?this.body.type||null:f0(this.body)?null:typeof this.body=="string"?v0:this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?C0:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,u)=>h.set(u,t.setHeaders[u]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,u)=>h.set(u,t.setParams[u]),d)),new e(n,r,s,{params:d,headers:c,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},to=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(to||{}),ys=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new ti,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},od=class e extends ys{constructor(t={}){super(t)}type=to.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Wa=class e extends ys{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=to.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ja=class extends ys{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},U1=200,B1=204;function um(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vs=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof gs)o=n;else{let l;i.headers instanceof ti?l=i.headers:l=new ti(i.headers);let c;i.params&&(i.params instanceof vr?c=i.params:c=new vr({fromObject:i.params})),o=new gs(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=H(o).pipe(rr(l=>this.handler.handle(l)));if(n instanceof gs||i.observe==="events")return s;let a=s.pipe(Ye(l=>l instanceof Wa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new R(2806,!1);return l.body}));case"blob":return a.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new R(2807,!1);return l.body}));case"text":return a.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new R(2808,!1);return l.body}));case"json":default:return a.pipe(Y(l=>l.body))}case"response":return a;default:throw new R(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,um(i,r))}post(n,r,i={}){return this.request("POST",n,um(i,r))}put(n,r,i={}){return this.request("PUT",n,um(i,r))}static \u0275fac=function(r){return new(r||e)(U(ms))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var $1=new L("");function H1(e,t){return t(e)}function q1(e,t,n){return(r,i)=>Pt(n,()=>t(r,o=>e(o,i)))}var _0=new L(""),b0=new L(""),w0=new L("",{providedIn:"root",factory:()=>!0});var sd=(()=>{class e extends ms{backend;injector;chain=null;pendingTasks=N(Qr);contributeToStability=N(w0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_0),...this.injector.get(b0,[])]));this.chain=r.reduceRight((i,o)=>q1(i,o,this.injector),H1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ji(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(U(za),U(ft))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var G1=/^\)\]\}',?\n/,z1=RegExp(`^${y0}:`,"m");function W1(e){return"responseURL"in e&&e.responseURL?e.responseURL:z1.test(e.getAllResponseHeaders())?e.getResponseHeader(y0):null}var dm=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?be(r.\u0275loadImpl()):H(null)).pipe(Rt(()=>new ue(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has(m0)||s.setRequestHeader(m0,V1),!n.headers.has(g0)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(g0,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",m=new ti(s.getAllResponseHeaders()),y=W1(s)||n.url;return l=new od({headers:m,status:s.status,statusText:g,url:y}),l},d=()=>{let{headers:g,status:m,statusText:y,url:_}=c(),w=null;m!==B1&&(w=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=w?U1:0);let S=m>=200&&m<300;if(n.responseType==="json"&&typeof w=="string"){let x=w;w=w.replace(G1,"");try{w=w!==""?JSON.parse(w):null}catch(O){w=x,S&&(S=!1,w={error:O,text:w})}}S?(o.next(new Wa({body:w,headers:g,status:m,statusText:y,url:_||void 0})),o.complete()):o.error(new Ja({error:w,headers:g,status:m,statusText:y,url:_||void 0}))},f=g=>{let{url:m}=c(),y=new Ja({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(y)},h=!1,u=g=>{h||(o.next(c()),h=!0);let m={type:to.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:to.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",u),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:to.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",u),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(U(eo))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),D0=new L(""),J1="XSRF-TOKEN",Z1=new L("",{providedIn:"root",factory:()=>J1}),Q1="X-XSRF-TOKEN",X1=new L("",{providedIn:"root",factory:()=>Q1}),Za=class{},K1=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ba(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(U(ze),U(Z1))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function Y1(e,t){let n=e.url.toLowerCase();if(!N(D0)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=N(Za).getToken(),i=N(X1);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function fm(...e){let t=[vs,dm,sd,{provide:ms,useExisting:sd},{provide:za,useFactory:()=>N($1,{optional:!0})??N(dm)},{provide:_0,useValue:Y1,multi:!0},{provide:D0,useValue:!0},{provide:Za,useClass:K1}];for(let n of e)t.push(...n.\u0275providers);return ns(t)}var I0=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(U(ze))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Q="primary",cl=Symbol("RouteTitle"),ym=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function io(e){return new ym(e)}function R0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function tP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bn(e[n],t[n]))return!1;return!0}function Bn(e,t){let n=e?vm(e):void 0,r=t?vm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!P0(e[i],t[i]))return!1;return!0}function vm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function P0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function k0(e){return e.length>0?e[e.length-1]:null}function ii(e){return Ap(e)?e:Xr(e)?be(Promise.resolve(e)):H(e)}var nP={exact:L0,subset:j0},F0={exact:rP,subset:iP,ignored:()=>!0};function T0(e,t,n){return nP[n.paths](e.root,t.root,n.matrixParams)&&F0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function rP(e,t){return Bn(e,t)}function L0(e,t,n){if(!no(e.segments,t.segments)||!cd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!L0(e.children[r],t.children[r],n))return!1;return!0}function iP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>P0(e[n],t[n]))}function j0(e,t,n){return V0(e,t,t.segments,n)}function V0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!no(i,n)||t.hasChildren()||!cd(i,n,r))}else if(e.segments.length===n.length){if(!no(e.segments,n)||!cd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!j0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!no(e.segments,i)||!cd(e.segments,i,r)||!e.children[Q]?!1:V0(e.children[Q],t,o,r)}}function cd(e,t,n){return t.every((r,i)=>F0[n](e[i].parameters,r.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new fe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){return aP.serialize(this)}},fe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ud(this)}},ni=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=io(this.parameters),this._parameterMap}toString(){return B0(this)}};function oP(e,t){return no(e,t)&&e.every((n,r)=>Bn(n.parameters,t[r].parameters))}function no(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function sP(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Q&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(t(i,r)))}),n}var ul=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new oo,providedIn:"root"})}return e})(),oo=class{parse(t){let n=new _m(t);return new Hn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Qa(t.root,!0)}`,r=uP(t.queryParams),i=typeof t.fragment=="string"?`#${lP(t.fragment)}`:"";return`${n}${r}${i}`}},aP=new oo;function ud(e){return e.segments.map(t=>B0(t)).join("/")}function Qa(e,t){if(!e.hasChildren())return ud(e);if(t){let n=e.children[Q]?Qa(e.children[Q],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Qa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sP(e,(r,i)=>i===Q?[Qa(e.children[Q],!1)]:[`${i}:${Qa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Q]!=null?`${ud(e)}/${n[0]}`:`${ud(e)}/(${n.join("//")})`}}function U0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ad(e){return U0(e).replace(/%3B/gi,";")}function lP(e){return encodeURI(e)}function Cm(e){return U0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dd(e){return decodeURIComponent(e)}function x0(e){return dd(e.replace(/\+/g,"%20"))}function B0(e){return`${Cm(e.path)}${cP(e.parameters)}`}function cP(e){return Object.entries(e).map(([t,n])=>`;${Cm(t)}=${Cm(n)}`).join("")}function uP(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ad(n)}=${ad(i)}`).join("&"):`${ad(n)}=${ad(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var dP=/^[^\/()?;#]+/;function pm(e){let t=e.match(dP);return t?t[0]:""}var fP=/^[^\/()?;=#]+/;function pP(e){let t=e.match(fP);return t?t[0]:""}var hP=/^[^=?&#]+/;function gP(e){let t=e.match(hP);return t?t[0]:""}var mP=/^[^&#]+/;function yP(e){let t=e.match(mP);return t?t[0]:""}var _m=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Q]=new fe(t,n)),r}parseSegment(){let t=pm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new ni(dd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=pP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pm(this.remaining);i&&(r=i,this.capture(r))}t[dd(n)]=dd(r)}parseQueryParam(t){let n=gP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yP(this.remaining);s&&(r=s,this.capture(r))}let i=x0(n),o=x0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Q]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}};function $0(e){return e.segments.length>0?new fe([],{[Q]:e}):e}function H0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=H0(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new fe(e.segments,t);return vP(n)}function vP(e){if(e.numberOfChildren===1&&e.children[Q]){let t=e.children[Q];return new fe(e.segments.concat(t.segments),t.children)}return e}function ri(e){return e instanceof Hn}function q0(e,t,n=null,r=null){let i=G0(e);return z0(i,t,n,r)}function G0(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new fe(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=$0(r);return t??i}function z0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return hm(i,i,i,n,r);let o=CP(t);if(o.toRoot())return hm(i,i,new fe([],{}),n,r);let s=_P(o,i,e),a=s.processChildren?Ka(s.segmentGroup,s.index,o.commands):J0(s.segmentGroup,s.index,o.commands);return hm(i,s.segmentGroup,a,n,r)}function pd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function el(e){return typeof e=="object"&&e!=null&&e.outlets}function hm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=n:s=W0(e,t,n);let a=$0(H0(s));return new Hn(a,o,i)}function W0(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=W0(o,t,n)}),new fe(e.segments,r)}var hd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&pd(r[0]))throw new R(4003,!1);let i=r.find(el);if(i&&i!==k0(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CP(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new hd(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hd(n,t,r)}var bs=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function _P(e,t,n){if(e.isAbsolute)return new bs(t,!0,0);if(!n)return new bs(t,!1,NaN);if(n.parent===null)return new bs(n,!0,0);let r=pd(e.commands[0])?0:1,i=n.segments.length-1+r;return bP(n,i,e.numberOfDoubleDots)}function bP(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new bs(r,!1,i-o)}function wP(e){return el(e[0])?e[0].outlets:{[Q]:e}}function J0(e,t,n){if(e??=new fe([],{}),e.segments.length===0&&e.hasChildren())return Ka(e,t,n);let r=DP(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new fe(e.segments.slice(0,r.pathIndex),{});return o.children[Q]=new fe(e.segments.slice(r.pathIndex),e.children),Ka(o,0,i)}else return r.match&&i.length===0?new fe(e.segments,{}):r.match&&!e.hasChildren()?bm(e,t,n):r.match?Ka(e,0,i):bm(e,t,n)}function Ka(e,t,n){if(n.length===0)return new fe(e.segments,{});{let r=wP(n),i={};if(Object.keys(r).some(o=>o!==Q)&&e.children[Q]&&e.numberOfChildren===1&&e.children[Q].segments.length===0){let o=Ka(e.children[Q],t,n);return new fe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=J0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(e.segments,i)}}function DP(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(el(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!M0(l,c,s))return o;r+=2}else{if(!M0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bm(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(el(o)){let l=EP(o.outlets);return new fe(r,l)}if(i===0&&pd(n[0])){let l=e.segments[t];r.push(new ni(l.path,S0(n[0]))),i++;continue}let s=el(o)?o.outlets[Q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pd(a)?(r.push(new ni(s,S0(a))),i+=2):(r.push(new ni(s,{})),i++)}return new fe(r,{})}function EP(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=bm(new fe([],{}),0,r))}),t}function S0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function M0(e,t,n){return e==n.path&&Bn(t,n.parameters)}var fd="imperative",We=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(We||{}),jt=class{id;url;constructor(t,n){this.id=t,this.url=n}},so=class extends jt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wn=class extends jt{urlAfterRedirects;type=We.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(St||{}),tl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(tl||{}),$n=class extends jt{reason;code;type=We.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cr=class extends jt{reason;code;type=We.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Ds=class extends jt{error;target;type=We.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends jt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gd=class extends jt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends jt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yd=class extends jt{urlAfterRedirects;state;type=We.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vd=class extends jt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class{route;type=We.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_d=class{route;type=We.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bd=class{snapshot;type=We.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{snapshot;type=We.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{snapshot;type=We.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=We.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rl=class{},Es=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function IP(e,t){return e.providers&&!e._injector&&(e._injector=qu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function bn(e){return e.outlet||Q}function TP(e,t){let n=e.filter(r=>bn(r)===t);return n.push(...e.filter(r=>bn(r)!==t)),n}function dl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Id=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new xs(this.rootInjector)}},xs=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Id(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(U(ft))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Td=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=wm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=wm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Dm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Dm(t,this._root).map(n=>n.value)}};function wm(e,t){if(e===t.value)return t;for(let n of t.children){let r=wm(e,n);if(r)return r}return null}function Dm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Dm(e,n);if(r.length)return r.unshift(t),r}return[]}var Lt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var il=class extends Td{snapshot;constructor(t,n){super(t),this.snapshot=n,Nm(this,t)}toString(){return this.snapshot.toString()}};function Z0(e){let t=xP(e),n=new _e([new ni("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new _r(n,r,o,s,i,Q,e,t.root);return a.snapshot=t.root,new il(new Lt(a,[]),t)}function xP(e){let t={},n={},r={},i="",o=new ro([],t,r,i,n,Q,e,null,{});return new ol("",new Lt(o,[]))}var _r=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Y(c=>c[cl]))??H(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(t=>io(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(t=>io(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xd(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:I(I({},t.params),e.params),data:I(I({},t.data),e.data),resolve:I(I(I(I({},e.data),t.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&X0(i)&&(r.resolve[cl]=i.title),r}var ro=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[cl]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=io(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ol=class extends Td{url;constructor(t,n){super(n),this.url=t,Nm(this,n)}toString(){return Q0(this._root)}};function Nm(e,t){t.value._routerState=e,t.children.forEach(n=>Nm(e,n))}function Q0(e){let t=e.children.length>0?` { ${e.children.map(Q0).join(", ")} } `:"";return`${e.value}${t}`}function gm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Bn(t.params,n.params)||e.paramsSubject.next(n.params),tP(t.url,n.url)||e.urlSubject.next(n.url),Bn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Em(e,t){let n=Bn(e.params,t.params)&&oP(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Em(e.parent,t.parent))}function X0(e){return typeof e.title=="string"||e.title===null}var K0=new L(""),fl=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new le;deactivateEvents=new le;attachEvents=new le;detachEvents=new le;routerOutletData=vb(void 0);parentContexts=N(xs);location=N(Kt);changeDetector=N(Yr);inputBinder=N(Nd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Im(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kt]})}return e})(),Im=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===_r?this.route:t===xs?this.childContexts:t===K0?this.outletData:this.parent.get(t,n)}},Nd=new L("");function SP(e,t,n){let r=sl(e,t._root,n?n._root:void 0);return new il(r,t)}function sl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=MP(e,t,n);return new Lt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>sl(e,a)),s}}let r=AP(t.value),i=t.children.map(o=>sl(e,o));return new Lt(r,i)}}function MP(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return sl(e,r,i);return sl(e,r)})}function AP(e){return new _r(new _e(e.url),new _e(e.params),new _e(e.queryParams),new _e(e.fragment),new _e(e.data),e.outlet,e.component,e)}var Is=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Y0="ngNavigationCancelingError";function Sd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ri(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=eD(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function eD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Y0]=!0,n.cancellationCode=t,n}function NP(e){return tD(e)&&ri(e.url)}function tD(e){return!!e&&e[Y0]}var OP=(e,t,n,r)=>Y(i=>(new Tm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Tm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),gm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=_s(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_s(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_s(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=_s(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ed(o.value.snapshot))}),t.children.length&&this.forwardEvent(new wd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(gm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Md=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ws=class{component;route;constructor(t,n){this.component=t,this.route=n}};function RP(e,t,n){let r=e._root,i=t?t._root:null;return Xa(r,i,n,[r.value])}function PP(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ss(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!p_(e)?e:t.get(e):r}function Xa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_s(t);return e.children.forEach(s=>{kP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ya(a,n.getContext(s),i)),i}function kP(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=FP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xa(e,t,a?a.children:null,r,i):Xa(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ws(a.outlet.component,s))}else s&&Ya(t,a,i),i.canActivateChecks.push(new Md(r)),o.component?Xa(e,null,a?a.children:null,r,i):Xa(e,null,n,r,i);return i}function FP(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!no(e.url,t.url);case"pathParamsOrQueryParamsChange":return!no(e.url,t.url)||!Bn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Em(e,t)||!Bn(e.queryParams,t.queryParams);case"paramsChange":default:return!Em(e,t)}}function Ya(e,t,n){let r=_s(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ya(s,t.children.getContext(o),n):Ya(s,null,n):Ya(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ws(t.outlet.component,i)):n.canDeactivateChecks.push(new ws(null,i)):n.canDeactivateChecks.push(new ws(null,i))}function pl(e){return typeof e=="function"}function LP(e){return typeof e=="boolean"}function jP(e){return e&&pl(e.canLoad)}function VP(e){return e&&pl(e.canActivate)}function UP(e){return e&&pl(e.canActivateChild)}function BP(e){return e&&pl(e.canDeactivate)}function $P(e){return e&&pl(e.canMatch)}function nD(e){return e instanceof fn||e?.name==="EmptyError"}var ld=Symbol("INITIAL_VALUE");function Ts(){return Rt(e=>Ac(e.map(t=>t.pipe(ir(1),kp(ld)))).pipe(Y(t=>{for(let n of t)if(n!==!0){if(n===ld)return ld;if(n===!1||HP(n))return n}return!0}),Ye(t=>t!==ld),ir(1)))}function HP(e){return ri(e)||e instanceof Is}function qP(e,t){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(B(I({},n),{guardsResult:!0})):GP(s,r,i,e).pipe(Fe(a=>a&&LP(a)?zP(r,o,e,t):H(a)),Y(a=>B(I({},n),{guardsResult:a})))})}function GP(e,t,n,r){return be(e).pipe(Fe(i=>XP(i.component,i.route,n,t,r)),or(i=>i!==!0,!0))}function zP(e,t,n,r){return be(t).pipe(rr(i=>Ho(JP(i.route.parent,r),WP(i.route,r),QP(e,i.path,n),ZP(e,i.route,n))),or(i=>i!==!0,!0))}function WP(e,t){return e!==null&&t&&t(new Dd(e)),H(!0)}function JP(e,t){return e!==null&&t&&t(new bd(e)),H(!0)}function ZP(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Nc(()=>{let s=dl(t)??n,a=Ss(o,s),l=VP(a)?a.canActivate(t,e):Pt(s,()=>a(t,e));return ii(l).pipe(or())}));return H(i).pipe(Ts())}function QP(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>PP(s)).filter(s=>s!==null).map(s=>Nc(()=>{let a=s.guards.map(l=>{let c=dl(s.node)??n,d=Ss(l,c),f=UP(d)?d.canActivateChild(r,e):Pt(c,()=>d(r,e));return ii(f).pipe(or())});return H(a).pipe(Ts())}));return H(o).pipe(Ts())}function XP(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let l=dl(t)??i,c=Ss(a,l),d=BP(c)?c.canDeactivate(e,t,n,r):Pt(l,()=>c(e,t,n,r));return ii(d).pipe(or())});return H(s).pipe(Ts())}function KP(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=Ss(s,e),l=jP(a)?a.canLoad(t,n):Pt(e,()=>a(t,n));return ii(l)});return H(o).pipe(Ts(),rD(r))}function rD(e){return Ip(et(t=>{if(typeof t!="boolean")throw Sd(e,t)}),Y(t=>t===!0))}function YP(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=Ss(s,e),l=$P(a)?a.canMatch(t,n):Pt(e,()=>a(t,n));return ii(l)});return H(o).pipe(Ts(),rD(r))}var al=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ll=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Cs(e){return Bo(new al(e))}function ek(e){return Bo(new R(4e3,!1))}function tk(e){return Bo(eD(!1,St.GuardRejected))}var xm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return ek(`${t.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:h,params:u,data:p,title:g}=i,m=Pt(o,()=>a({params:u,data:p,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:h,title:g}));if(m instanceof Hn)throw new ll(m);n=m}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ll(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Hn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new fe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nk(e,t,n,r,i){let o=iD(e,t,n);return o.matched?(r=IP(t,r),YP(r,t,n,i).pipe(Y(s=>s===!0?o:I({},Sm)))):H(o)}function iD(e,t,n){if(t.path==="**")return rk(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?I({},Sm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||R0)(n,e,t);if(!i)return I({},Sm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rk(e){return{matched:!0,parameters:e.length>0?k0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function A0(e,t,n,r){return n.length>0&&sk(e,n,r)?{segmentGroup:new fe(t,ok(r,new fe(n,e.children))),slicedSegments:[]}:n.length===0&&ak(e,n,r)?{segmentGroup:new fe(e.segments,ik(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new fe(e.segments,e.children),slicedSegments:n}}function ik(e,t,n,r){let i={};for(let o of n)if(Od(e,t,o)&&!r[bn(o)]){let s=new fe([],{});i[bn(o)]=s}return I(I({},r),i)}function ok(e,t){let n={};n[Q]=t;for(let r of e)if(r.path===""&&bn(r)!==Q){let i=new fe([],{});n[bn(r)]=i}return n}function sk(e,t,n){return n.some(r=>Od(e,t,r)&&bn(r)!==Q)}function ak(e,t,n){return n.some(r=>Od(e,t,r))}function Od(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lk(e,t,n){return t.length===0&&!e.children[n]}var Mm=class{};function ck(e,t,n,r,i,o,s="emptyOnly"){return new Am(e,t,n,r,i,s,o).recognize()}var uk=31,Am=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xm(this.urlSerializer,this.urlTree)}noMatchError(t){return new R(4002,`'${t.segmentGroup}'`)}recognize(){let t=A0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new Lt(r,n),o=new ol("",i),s=q0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ro([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Q,n).pipe(Y(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof ll)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof al?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof Lt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(rr(s=>{let a=r.children[s],l=TP(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Pp((s,a)=>(s.push(...a),s)),Gr(null),Rp(),Fe(s=>{if(s===null)return Cs(r);let a=oD(s);return dk(a),H(a)}))}processSegment(t,n,r,i,o,s,a){return be(n).pipe(rr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(nr(c=>{if(c instanceof al)return H(null);throw c}))),or(l=>!!l),nr(l=>{if(nD(l))return lk(r,i,o)?H(new Mm):Cs(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return bn(r)!==s&&(s===Q||!Od(i,o,r))?Cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Cs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=iD(n,i,o);if(!l)return Cs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uk&&(this.allowRedirects=!1));let u=new ro(o,c,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,N0(i),bn(i),i.component??i._loadedComponent??null,i,O0(i)),p=xd(u,a,this.paramsInheritanceStrategy);u.params=Object.freeze(p.params),u.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,u,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Fe(m=>this.processSegment(t,r,n,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=nk(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Rt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Rt(({routes:c})=>{let d=r._loadedInjector??t,{parameters:f,consumedSegments:h,remainingSegments:u}=l,p=new ro(h,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,N0(r),bn(r),r.component??r._loadedComponent??null,r,O0(r)),g=xd(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:y}=A0(n,h,u,c);if(y.length===0&&m.hasChildren())return this.processChildren(d,c,m,p).pipe(Y(w=>new Lt(p,w)));if(c.length===0&&y.length===0)return H(new Lt(p,[]));let _=bn(r)===o;return this.processSegment(d,c,m,y,_?Q:o,!0,p).pipe(Y(w=>new Lt(p,w instanceof Lt?[w]:[])))}))):Cs(n)))}getChildConfig(t,n,r){return n.children?H({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):KP(t,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(t,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):tk(n))):H({routes:[],injector:t})}};function dk(e){e.sort((t,n)=>t.value.outlet===Q?-1:n.value.outlet===Q?1:t.value.outlet.localeCompare(n.value.outlet))}function fk(e){let t=e.value.routeConfig;return t&&t.path===""}function oD(e){let t=[],n=new Set;for(let r of e){if(!fk(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=oD(r.children);t.push(new Lt(r.value,i))}return t.filter(r=>!n.has(r))}function N0(e){return e.data||{}}function O0(e){return e.resolve||{}}function pk(e,t,n,r,i,o){return Fe(s=>ck(e,t,n,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:l})=>B(I({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function hk(e,t){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of sD(l))s.add(c);let a=0;return be(s).pipe(rr(l=>o.has(l)?gk(l,r,e,t):(l.data=xd(l,l.parent,e).resolve,H(void 0))),et(()=>a++),qo(1),Fe(l=>a===s.size?H(n):Dt))})}function sD(e){let t=e.children.map(n=>sD(n)).flat();return[e,...t]}function gk(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!X0(i)&&(o[cl]=i.title),mk(o,e,t,r).pipe(Y(s=>(e._resolvedData=s,e.data=xd(e,e.parent,n).resolve,null)))}function mk(e,t,n,r){let i=vm(e);if(i.length===0)return H({});let o={};return be(i).pipe(Fe(s=>yk(e[s],t,n,r).pipe(or(),et(a=>{if(a instanceof Is)throw Sd(new oo,a);o[s]=a}))),qo(1),Y(()=>o),nr(s=>nD(s)?Dt:Bo(s)))}function yk(e,t,n,r){let i=dl(t)??r,o=Ss(e,i),s=o.resolve?o.resolve(t,n):Pt(i,()=>o(t,n));return ii(s)}function mm(e){return Rt(t=>{let n=e(t);return n?be(n).pipe(Y(()=>t)):H(t)})}var Om=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(n){return n.data[cl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(aD),providedIn:"root"})}return e})(),aD=(()=>{class e extends Om{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(U(I0))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hl=new L("",{providedIn:"root",factory:()=>({})}),Rm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Be({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&he(0,"router-outlet")},dependencies:[fl],encapsulation:2})}return e})();function Pm(e){let t=e.children&&e.children.map(Pm),n=t?B(I({},e),{children:t}):I({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=Rm),n}var gl=new L(""),lD=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N($w);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return H(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ii(n.loadComponent()).pipe(Y(uD),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ji(()=>{this.componentLoaders.delete(n)})),i=new Vo(r,()=>new Oe).pipe(jo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cD(r,this.compiler,n,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(r)})),s=new Vo(o,()=>new Oe).pipe(jo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cD(e,t,n,r){return ii(e.loadChildren()).pipe(Y(uD),Fe(i=>i instanceof Bg||Array.isArray(i)?H(i):be(t.compileModuleAsync(i))),Y(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(gl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pm),injector:o}}))}function vk(e){return e&&typeof e=="object"&&"default"in e}function uD(e){return vk(e)?e.default:e}var Rd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(Ck),providedIn:"root"})}return e})(),Ck=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dD=new L("");var fD=new L(""),pD=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortSubject=new Oe;configLoader=N(lD);environmentInjector=N(ft);destroyRef=N(Su);urlSerializer=N(ul);rootContexts=N(xs);location=N(ps);inputBindingEnabled=N(Nd,{optional:!0})!==null;titleStrategy=N(Om);options=N(hl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Rd);createViewTransition=N(dD,{optional:!0});navigationErrorHandler=N(fD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Cd(i)),r=i=>this.events.next(new _d(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(B(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new _e(null),this.transitions.pipe(Ye(r=>r!==null),Rt(r=>{let i=!1,o=!1;return H(r).pipe(Rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?B(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Cr(s.id,this.urlSerializer.serialize(s.rawUrl),c,tl.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return H(s).pipe(Rt(c=>(this.events.next(new so(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Dt:Promise.resolve(c))),pk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),et(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=B(I({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new nl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:h,extras:u}=s,p=new so(c,this.urlSerializer.serialize(d),f,h);this.events.next(p);let g=Z0(this.rootComponentType).snapshot;return this.currentTransition=r=B(I({},s),{targetSnapshot:g,urlAfterRedirects:d,extras:B(I({},u),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,H(r)}else{let c="";return this.events.next(new Cr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,tl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),et(s=>{let a=new gd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Y(s=>(this.currentTransition=r=B(I({},s),{guards:RP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),qP(this.environmentInjector,s=>this.events.next(s)),et(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sd(this.urlSerializer,s.guardsResult);let a=new md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ye(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",St.GuardRejected),!1)),mm(s=>{if(s.guards.canActivateChecks.length!==0)return H(s).pipe(et(a=>{let l=new yd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Rt(a=>{let l=!1;return H(a).pipe(hk(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",St.NoDataFromResolver)}}))}),et(a=>{let l=new vd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),mm(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(et(d=>{l.component=d}),Y(()=>{})));for(let d of l.children)c.push(...a(d));return c};return Ac(a(s.targetSnapshot.root)).pipe(Gr(null),ir(1))}),mm(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?be(l).pipe(Y(()=>r)):H(r)}),Y(s=>{let a=SP(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=B(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),et(()=>{this.events.next(new rl)}),OP(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ir(1),et({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Rc(this.transitionAbortSubject.pipe(et(s=>{throw s}))),ji(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,tD(s))this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),NP(s)?this.events.next(new Es(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ds(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Is){let{message:c,cancellationCode:d}=Sd(this.urlSerializer,l);this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new Es(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _k(e){return e!==fd}var hD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(bk),providedIn:"root"})}return e})(),Ad=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},bk=(()=>{class e extends Ad{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gD=(()=>{class e{urlSerializer=N(ul);options=N(hl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(ps);urlHandlingStrategy=N(Rd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Hn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Z0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>N(wk),providedIn:"root"})}return e})(),wk=(()=>{class e extends gD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof so?this.updateStateMemento():n instanceof Cr?this.commitTransition(r):n instanceof nl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof rl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof $n&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ds?this.restoreHistory(r,!0):n instanceof wn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function km(e,t){e.events.pipe(Ye(n=>n instanceof wn||n instanceof $n||n instanceof Ds||n instanceof Cr),Y(n=>n instanceof wn||n instanceof Cr?0:(n instanceof $n?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?2:1),Ye(n=>n!==2),ir(1)).subscribe(()=>{t()})}var Dk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ek={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ms=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Ew);stateManager=N(gD);options=N(hl,{optional:!0})||{};pendingTasks=N(Qr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(pD);urlSerializer=N(ul);location=N(ps);urlHandlingStrategy=N(Rd);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(hD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(gl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Nd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof $n&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wn)this.navigated=!0;else if(r instanceof Es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_k(i.source)},s);this.scheduleNavigation(a,fd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Tk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=I({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=G0(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return z0(f,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ri(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fd,null,r)}navigate(n,r={skipLocationChange:!1}){return Ik(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},Dk):r===!1?i=I({},Ek):i=r,ri(n))return T0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return T0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,h)=>{a=f,l=h});let d=this.pendingTasks.add();return km(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ik(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new R(4008,!1)}function Tk(e){return!(e instanceof rl)&&!(e instanceof Es)}var As=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ri(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Vb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(P(Ms),P(_r),yg("tabindex"),P(jn),P(xt),P(fs))};static \u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ft("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[2,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},features:[kt]})}return e})(),Fm=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new le;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof wn&&this.update()})}ngAfterContentInit(){H(this.links.changes,H(null)).pipe($o()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=be(n).pipe($o()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Sk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(P(Ms),P(xt),P(jn),P(Yr),P(As,8))};static \u0275dir=ye({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&jw(o,As,5),r&2){let s;us(s=ds())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[kt]})}return e})();function Sk(e){return!!e.paths}var Mk=new L("");function Lm(e,...t){return ns([{provide:gl,multi:!0,useValue:e},[],{provide:_r,useFactory:Ak,deps:[Ms]},{provide:qg,multi:!0,useFactory:Nk},t.map(n=>n.\u0275providers)])}function Ak(e){return e.routerState.root}function Nk(){let e=N(lr);return t=>{let n=e.get(Qi);if(t!==n.components[0])return;let r=e.get(Ms),i=e.get(Ok);e.get(Rk)===1&&r.initialNavigation(),e.get(Pk,null,X.Optional)?.setUpPreloading(),e.get(Mk,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ok=new L("",{factory:()=>new Oe}),Rk=new L("",{providedIn:"root",factory:()=>1});var Pk=new L("");var br=class e{name;action="use";constraints=[];constructor(t){this.name=t}clone(){let t=new e;return t.action=this.action,t.name=this.name,t.constraints=this.constraints.map(n=>n.clone()),t}toString(){return`(${this.action.toString()}) constraints: [ ${this.constraints.map(t=>t.toString()).join(",")} ]`}},ao=class e{operator="And";constraints=[];clone(){let t=new e;return t.operator=this.operator,t.constraints=this.constraints.map(n=>n.clone()),t}get_prefixes(){return this.constraints.flatMap(t=>t.get_prefixes())}get_contexts(){return this.constraints.flatMap(t=>t.get_contexts())}toString(){return`${this.operator} Constraint`}},oe=class e{leftOperand;operator;selectedOperator;rightOperand;rightOperandValue;contexts=[];prefixes=[];label;constructor(t,n,r){this.leftOperand=t,this.operator=n.map(i=>this._stringToOperator(i)),this.rightOperand=r,this.selectedOperator=this.operator[0],Array.isArray(r)?this.rightOperandValue=[structuredClone(this.rightOperand[0])]:this.rightOperandValue=structuredClone(this.rightOperand)}_stringToOperator(t){try{return t}catch(n){throw new Error(`Unsupported operator "${t}": ${n}`)}}clone(){let t=new e(this.leftOperand,this.operator,this.rightOperand);return t.contexts=this.contexts,t.label=this.label,t.prefixes=this.prefixes,t.rightOperandValue=structuredClone(this.rightOperandValue),t.selectedOperator=this.selectedOperator,t}get_prefixes(){return this.prefixes}get_contexts(){return this.contexts}get_label(){return this.label!=null?this.label:this.leftOperand}with_context(t){return this.contexts.push(t),this}with_prefix(t){return this.prefixes.push(t),this}with_label(t){return this.label=t,this}mapRightOperand(){let t=n=>n.const?n.const:n.value?n.value:"";return Array.isArray(this.rightOperandValue)?this.rightOperandValue.map(n=>t(n)):t(this.rightOperandValue)}prettyRightOperandValue(){let t=this.mapRightOperand(),n=r=>typeof r=="string"?`"${r}"`:r;return Array.isArray(t)?t.map(n).join(", "):n(t)}toString(){return`Constraint ${He(this.leftOperand)} - ${He(this.selectedOperator.toString(),!0)} - ${this.prettyRightOperandValue()}`}};function He(e,t){let n=e.replace(/([a-z])([A-Z])/g,"$1 $2");return t?n.toUpperCase():n}var Vm=(n=>(n.And="And",n.Or="Or",n))(Vm||{}),wr=(n=>(n.Use="use",n.Access="access",n))(wr||{});var jm=class e{type="use";permissions=[];obligations=[];prohibitions=[];clone(){let t=new e;return t.permissions=this.permissions.map(n=>n.clone()),t}},lo=class e{name;description;policy;constructor(t){this.name=t,this.policy=new jm}clone(){let t=new e(this.name+" (Copy)");return t.policy=this.policy.clone(),t}},ml=(n=>(n.Prefixed="Prefixed",n.Plain="Plain",n))(ml||{});var ED=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(P(jn),P(xt))};static \u0275dir=ye({type:e})}return e})(),Hd=(()=>{class e extends ED{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,features:[gt]})}return e})(),Ps=new L(""),kk={provide:Ps,useExisting:Xt(()=>qm),multi:!0},qm=(()=>{class e extends Hd{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Un([kk]),gt]})}return e})(),Fk={provide:Ps,useExisting:Xt(()=>qn),multi:!0};function Lk(){let e=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jk=new L(""),qn=(()=>{class e extends ED{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Lk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(P(jn),P(xt),P(jk,8))};static \u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Un([Fk]),gt]})}return e})();function Gm(e){return e==null||zm(e)===0}function zm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var bl=new L(""),Wm=new L(""),Vk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nt=class{static min(t){return Uk(t)}static max(t){return Bk(t)}static required(t){return ID(t)}static requiredTrue(t){return $k(t)}static email(t){return Hk(t)}static minLength(t){return qk(t)}static maxLength(t){return Gk(t)}static pattern(t){return TD(t)}static nullValidator(t){return kd()}static compose(t){return OD(t)}static composeAsync(t){return PD(t)}};function Uk(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Bk(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function ID(e){return Gm(e.value)?{required:!0}:null}function $k(e){return e.value===!0?null:{required:!0}}function Hk(e){return Gm(e.value)||Vk.test(e.value)?null:{email:!0}}function qk(e){return t=>{let n=t.value?.length??zm(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function Gk(e){return t=>{let n=t.value?.length??zm(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function TD(e){if(!e)return kd;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Gm(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function kd(e){return null}function xD(e){return e!=null}function SD(e){return Xr(e)?be(e):e}function MD(e){let t={};return e.forEach(n=>{t=n!=null?I(I({},t),n):t}),Object.keys(t).length===0?null:t}function AD(e,t){return t.map(n=>n(e))}function zk(e){return!e.validate}function ND(e){return e.map(t=>zk(t)?t:n=>t.validate(n))}function OD(e){if(!e)return null;let t=e.filter(xD);return t.length==0?null:function(n){return MD(AD(n,t))}}function RD(e){return e!=null?OD(ND(e)):null}function PD(e){if(!e)return null;let t=e.filter(xD);return t.length==0?null:function(n){let r=AD(n,t).map(SD);return Op(r).pipe(Y(MD))}}function kD(e){return e!=null?PD(ND(e)):null}function mD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function FD(e){return e._rawValidators}function LD(e){return e._rawAsyncValidators}function Um(e){return e?Array.isArray(e)?e:[e]:[]}function Fd(e,t){return Array.isArray(e)?e.includes(t):e===t}function yD(e,t){let n=Um(t);return Um(e).forEach(i=>{Fd(n,i)||n.push(i)}),n}function vD(e,t){return Um(t).filter(n=>!Fd(e,n))}var Ld=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=RD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},co=class extends Ld{name;get formDirective(){return null}get path(){return null}},uo=class extends Ld{_parent=null;name=null;valueAccessor=null},jd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Wk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},M5=B(I({},Wk),{"[class.ng-submitted]":"isSubmitted"}),Gn=(()=>{class e extends jd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(uo,2))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gt]})}return e})(),ks=(()=>{class e extends jd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(P(co,10))};static \u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gt]})}return e})();var yl="VALID",Pd="INVALID",Ns="PENDING",vl="DISABLED",oi=class{},Vd=class extends oi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Cl=class extends oi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},_l=class extends oi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Os=class extends oi{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Bm=class extends oi{source;constructor(t){super(),this.source=t}},$m=class extends oi{source;constructor(t){super(),this.source=t}};function jD(e){return(qd(e)?e.validators:e)||null}function Jk(e){return Array.isArray(e)?RD(e):e||null}function VD(e,t){return(qd(t)?t.asyncValidators:e)||null}function Zk(e){return Array.isArray(e)?kD(e):e||null}function qd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Qk(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new R(1e3,"");if(!r[n])throw new R(1001,"")}function Xk(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new R(1002,"")})}var Ud=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return _n(this.statusReactive)}set status(t){_n(()=>this.statusReactive.set(t))}_status=ja(()=>this.statusReactive());statusReactive=Pa(void 0);get valid(){return this.status===yl}get invalid(){return this.status===Pd}get pending(){return this.status==Ns}get disabled(){return this.status===vl}get enabled(){return this.status!==vl}errors;get pristine(){return _n(this.pristineReactive)}set pristine(t){_n(()=>this.pristineReactive.set(t))}_pristine=ja(()=>this.pristineReactive());pristineReactive=Pa(!0);get dirty(){return!this.pristine}get touched(){return _n(this.touchedReactive)}set touched(t){_n(()=>this.touchedReactive.set(t))}_touched=ja(()=>this.touchedReactive());touchedReactive=Pa(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vD(t,this._rawAsyncValidators))}hasValidator(t){return Fd(this._rawValidators,t)}hasAsyncValidator(t){return Fd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new _l(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new _l(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Cl(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Cl(!0,r))}markAsPending(t={}){this.status=Ns;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Os(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(I({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=vl,this.errors=null,this._forEachChild(i=>{i.disable(B(I({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vd(this.value,r)),this._events.next(new Os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=yl,this._forEachChild(r=>{r.enable(B(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yl||this.status===Ns)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vd(this.value,n)),this._events.next(new Os(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(I({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vl:yl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ns,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=SD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Os(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?vl:this.errors?Pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ns)?Ns:this._anyControlsHaveStatus(Pd)?Pd:yl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Cl(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new _l(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Jk(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Zk(this._rawAsyncValidators)}},Rs=class extends Ud{constructor(t,n,r){super(jD(n),VD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Xk(this,!0,t),Object.keys(t).forEach(r=>{Qk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Gd=new L("",{providedIn:"root",factory:()=>zd}),zd="always";function UD(e,t){return[...t.path,e]}function Hm(e,t,n=zd){Jm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Yk(e,t),tF(e,t),eF(e,t),Kk(e,t)}function CD(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),$d(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Bd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Kk(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Jm(e,t){let n=FD(e);t.validator!==null?e.setValidators(mD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=LD(e);t.asyncValidator!==null?e.setAsyncValidators(mD(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Bd(t._rawValidators,i),Bd(t._rawAsyncValidators,i)}function $d(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=FD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=LD(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Bd(t._rawValidators,r),Bd(t._rawAsyncValidators,r),n}function Yk(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&BD(e,t)})}function eF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&BD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function BD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tF(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function nF(e,t){e==null,Jm(e,t)}function rF(e,t){return $d(e,t)}function $D(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function iF(e){return Object.getPrototypeOf(e.constructor)===Hd}function oF(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HD(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===qn?n=o:iF(o)?r=o:i=o}),i||r||n||null}function sF(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function _D(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function bD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Mt=class extends Ud{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(jD(n),VD(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(bD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_D(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_D(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){bD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aF=e=>e instanceof Mt;var lF={provide:uo,useExisting:Xt(()=>zn)},wD=Promise.resolve(),zn=(()=>{class e extends uo{_changeDetectorRef;callSetDisabledState;control=new Mt;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new le;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$D(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Yi(r);wD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?UD(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(P(co,9),P(bl,10),P(Wm,10),P(Ps,10),P(Yr,8),P(Gd,8))};static \u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Un([lF]),gt,kt]})}return e})();var qD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var GD=new L("");var cF={provide:co,useExisting:Xt(()=>fo)},fo=(()=>{class e extends co{callSetDisabledState;get submitted(){return _n(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ja(()=>this._submittedReactive());_submittedReactive=Pa(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new le;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Hm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){CD(n.control||null,n,!1),sF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),oF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Bm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new $m(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(CD(r||null,n),aF(i)&&(Hm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);nF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&rF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jm(this.form,this),this._oldForm&&$d(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(P(bl,10),P(Wm,10),P(Gd,8))};static \u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Un([cF]),gt,kt]})}return e})();var uF={provide:uo,useExisting:Xt(()=>wl)},wl=(()=>{class e extends uo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new le;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HD(this,o)}ngOnChanges(n){this._added||this._setUpControl(),$D(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return UD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(P(co,13),P(bl,10),P(Wm,10),P(Ps,10),P(GD,8))};static \u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Un([uF]),gt,kt]})}return e})();var dF={provide:Ps,useExisting:Xt(()=>Dr),multi:!0};function zD(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function fF(e){return e.split(":")[0]}var Dr=(()=>{class e extends Hd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=zD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=fF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Un([dF]),gt]})}return e})(),po=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(zD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(P(xt),P(jn),P(Dr,9))};static \u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),pF={provide:Ps,useExisting:Xt(()=>WD),multi:!0};function DD(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function hF(e){return e.split(":")[0]}var WD=(()=>{class e extends Hd{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=hF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Un([pF]),gt]})}return e})(),ho=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(DD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(DD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(P(xt),P(jn),P(WD,9))};static \u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var JD=(()=>{class e{_validator=kd;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ye({type:e,features:[kt]})}return e})();var gF={provide:bl,useExisting:Xt(()=>Wd),multi:!0};var Wd=(()=>{class e extends JD{required;inputName="required";normalizeInput=Yi;createValidator=n=>ID;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Un([gF]),gt]})}return e})();var mF={provide:bl,useExisting:Xt(()=>Zm),multi:!0},Zm=(()=>{class e extends JD{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>TD(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ln(e)))(i||e)}})();static \u0275dir=ye({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ft("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Un([mF]),gt]})}return e})();var ZD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=gr({type:e});static \u0275inj=dr({})}return e})();var Dn=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Gd,useValue:n.callSetDisabledState??zd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gr({type:e});static \u0275inj=dr({imports:[ZD]})}return e})(),Fs=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:GD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Gd,useValue:n.callSetDisabledState??zd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=gr({type:e});static \u0275inj=dr({imports:[ZD]})}return e})();var yF=(e,t)=>t.name;function vF(e,t){if(e&1&&(v(0,"option",6),E(1),C()),e&2){let n=t.$implicit,r=T(2);j("ngValue",n),D(),ge(r.camelCaseToWords(n.name))}}function CF(e,t){if(e&1){let n=ce();v(0,"input",10),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.const,i)||(o.rightOperand.const=i),Z(i)}),C()}if(e&2){let n=T(2);j("type",n.getOperandType()),qe("ngModel",n.rightOperand.const)}}function _F(e,t){if(e&1){let n=ce();mr(0,8),v(1,"input",11),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),Z(i)}),C(),yr()}if(e&2){let n=T(2);j("formGroup",n.parentFormGroup),D(),j("formGroup",n.parentFormGroup)("type",n.getOperandType())("pattern",n.rightOperand.pattern)("formControlName",n.uuid),qe("ngModel",n.rightOperand.value)}}function bF(e,t){if(e&1){let n=ce();v(0,"input",12),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),Z(i)}),C()}if(e&2){let n=T(2);j("type",n.getOperandType()),qe("ngModel",n.rightOperand.value)}}function wF(e,t){if(e&1){let n=ce();v(0,"div",0)(1,"label",3)(2,"span",4),E(3,"Type"),C(),v(4,"select",5),Ge("ngModelChange",function(i){J(n);let o=T();return tt(o.rightOperand,i)||(o.rightOperand=i),Z(i)}),V("ngModelChange",function(i){J(n);let o=T();return Z(o.onOperandChange(i))}),xe(5,vF,2,2,"option",6,yF),C()(),q(7,CF,1,2,"input",7)(8,_F,2,6,"ng-container",8)(9,bF,1,2,"input",9),C()}if(e&2){let n=T();D(4),qe("ngModel",n.rightOperand),j("compareWith",n.compare),D(),Se(n.selectTypes),D(2),ne(n.rightOperand.const?7:n.rightOperand.pattern?8:9)}}function DF(e,t){if(e&1){let n=ce();v(0,"input",15),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.const,i)||(o.rightOperand.const=i),Z(i)}),C()}if(e&2){let n=T(2);j("type",n.getOperandType()),qe("ngModel",n.rightOperand.const)}}function EF(e,t){if(e&1){let n=ce();mr(0,8),v(1,"input",16),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),Z(i)}),C(),yr()}if(e&2){let n=T(2);j("formGroup",n.parentFormGroup),D(),j("type",n.getOperandType())("pattern",n.rightOperand.pattern)("formControlName",n.uuid),qe("ngModel",n.rightOperand.value)}}function IF(e,t){if(e&1){let n=ce();v(0,"input",17),Ge("ngModelChange",function(i){J(n);let o=T(2);return tt(o.rightOperand.value,i)||(o.rightOperand.value=i),Z(i)}),C()}if(e&2){let n=T(2);j("type",n.getOperandType()),qe("ngModel",n.rightOperand.value)}}function TF(e,t){if(e&1&&(v(0,"label",1)(1,"span",4),E(2),C(),q(3,DF,1,2,"input",13)(4,EF,2,5,"ng-container",8)(5,IF,1,2,"input",14),C()),e&2){let n=T();D(2),ge(n.camelCaseToWords(n.rightOperand.name)),D(),ne(n.rightOperand.const?3:n.rightOperand.pattern?4:5)}}function xF(e,t){if(e&1&&(v(0,"p",2),E(1),C()),e&2){let n=T();D(),Cn("Does not match pattern: ",n.rightOperand.pattern,"")}}var Jd=class e{rightOperand;selectTypes;parentFormGroup;changed=new le;uuid=crypto.randomUUID();ngOnInit(){this.updateFormGroup()}getOperandType(){return this.rightOperand.operandType==="string"?"string":"number"}onOperandChange(t){this.changed.emit(t),this.updateFormGroup()}compare(t,n){return t&&n&&t.name===n.name}updateFormGroup(){this.rightOperand.pattern?this.parentFormGroup.setControl(this.uuid,new Mt(this.rightOperand.value??"",[nt.required,nt.pattern(this.rightOperand.pattern)])):this.parentFormGroup.get(this.uuid)&&this.parentFormGroup.removeControl(this.uuid)}camelCaseToWords=He;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Be({type:e,selectors:[["app-right-operand"]],inputs:{rightOperand:"rightOperand",selectTypes:"selectTypes",parentFormGroup:"parentFormGroup"},outputs:{changed:"changed"},decls:3,vars:2,consts:[[1,"join","w-full"],[1,"input","w-full"],[1,"fieldset-label","text-error","pl-2"],[1,"join-item","input","w-fit"],[1,"label"],[3,"ngModelChange","ngModel","compareWith"],[3,"ngValue"],["disabled","",1,"join-item","input","input-bordered","w-full",3,"type","ngModel"],[3,"formGroup"],["required","",1,"join-item","input","input-bordered","w-full",3,"type","ngModel"],["disabled","",1,"join-item","input","input-bordered","w-full",3,"ngModelChange","type","ngModel"],["required","",1,"w-full",3,"ngModelChange","formGroup","type","pattern","formControlName","ngModel"],["required","",1,"join-item","input","input-bordered","w-full",3,"ngModelChange","type","ngModel"],["disabled","",1,"w-full",3,"type","ngModel"],["required","",1,"w-full",3,"type","ngModel"],["disabled","",1,"w-full",3,"ngModelChange","type","ngModel"],["required","",1,"w-full",3,"ngModelChange","type","pattern","formControlName","ngModel"],["required","",1,"w-full",3,"ngModelChange","type","ngModel"]],template:function(n,r){if(n&1&&q(0,wF,10,3,"div",0)(1,TF,6,2,"label",1)(2,xF,2,1,"p",2),n&2){let i;ne(r.selectTypes&&r.selectTypes.length>1?0:1),D(2),ne(r.rightOperand.pattern&&((i=r.parentFormGroup.get(r.uuid))!=null&&i.invalid)?2:-1)}},dependencies:[Fs,po,ho,qn,Dr,Gn,ks,Wd,Zm,fo,wl,Dn,zn],encapsulation:2})};var SF=(e,t)=>t.name;function MF(e,t){if(e&1&&(v(0,"option",6),E(1),C()),e&2){let n=t.$implicit,r=T();j("value",n),D(),ge(r.camelCaseToWords(n,!0))}}function AF(e,t){if(e&1&&he(0,"app-right-operand",8),e&2){let n=T();j("rightOperand",n.rightOperand)("parentFormGroup",n.form)}}function NF(e,t){if(e&1){let n=ce();v(0,"app-right-operand",15),V("changed",function(i){let o=J(n).$index,s=T(2);return Z(s.onRightOperandChange(i,o))}),C()}if(e&2){let n=t.$implicit,r=T(2);j("rightOperand",n)("selectTypes",r.getRightOperands())("parentFormGroup",r.form)}}function OF(e,t){if(e&1){let n=ce();xe(0,NF,1,3,"app-right-operand",12,SF),he(2,"div",13),v(3,"button",14),V("click",function(){J(n);let i=T();return Z(i.addOperand())}),v(4,"span",11),E(5,"add"),C(),E(6," Add "),C()}if(e&2){let n=T();Se(n.rightOperands)}}var Zd=class e{constraint;rightOperand;rightOperands;form=new Rs({});save=new le;ngOnInit(){Array.isArray(this.constraint.rightOperandValue)?this.rightOperands=this.constraint.rightOperandValue:this.rightOperand=this.constraint.rightOperandValue}getRightOperands(){return this.constraint.rightOperand}onRightOperandChange(t,n){this.rightOperands?this.rightOperands[n]=t:this.rightOperand=t}addOperand(){Array.isArray(this.constraint.rightOperand)&&this.rightOperands?.push(structuredClone(this.constraint.rightOperand[0]))}camelCaseToWords=He;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Be({type:e,selectors:[["app-atomic-constraint"]],inputs:{constraint:"constraint"},outputs:{save:"save"},decls:24,vars:7,consts:[[1,"flex","flex-col","gap-y-4","items-center"],[1,"text-xl","text-center","divider","my-0","2xl:col-span-2"],[1,"fieldset","bg-base-300","border-base-300","rounded-box","w-5xl","border","p-4"],[1,"fieldset-legend","text-sm","justify-start","w-full"],["type","text",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel","disabled"],[1,"select","select-bordered","w-full",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"fieldset","w-5xl","bg-base-300","border","border-base-300","p-4","rounded-box",3,"formGroup"],[3,"rightOperand","parentFormGroup"],[1,"divider","my-0"],["type","button",1,"btn","btn-lg","btn-primary","w-fit",3,"click","disabled"],[1,"material-symbols-rounded"],[3,"rightOperand","selectTypes","parentFormGroup"],[1,"divider","my-1"],["type","button",1,"btn","btn-soft","btn-sm","btn-primary","w-fit","justify-self-end",3,"click"],[3,"changed","rightOperand","selectTypes","parentFormGroup"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),E(2,"Atomic Constraint"),C(),v(3,"fieldset",2)(4,"legend",3),E(5,"Left Operand"),C(),v(6,"input",4),Ge("ngModelChange",function(o){return tt(r.constraint.leftOperand,o)||(r.constraint.leftOperand=o),o}),C()(),v(7,"fieldset",2)(8,"legend",3)(9,"span"),E(10,"Operator"),C()(),v(11,"select",5),Ge("ngModelChange",function(o){return tt(r.constraint.selectedOperator,o)||(r.constraint.selectedOperator=o),o}),xe(12,MF,2,2,"option",6,Vn),C()(),v(14,"fieldset",7)(15,"legend",3),E(16,"Right Operand"),C(),q(17,AF,1,2,"app-right-operand",8)(18,OF,7,0),C(),he(19,"div",9),v(20,"button",10),V("click",function(){return r.save.emit(r.constraint)}),v(21,"span",11),E(22,"save"),C(),E(23," Save Atomic Constraint "),C()()),n&2&&(D(6),qe("ngModel",r.constraint.leftOperand),j("disabled",!0),D(5),qe("ngModel",r.constraint.selectedOperator),j("disabled",r.constraint.operator.length===1),D(),Se(r.constraint.operator),D(2),j("formGroup",r.form),D(3),ne(r.rightOperand?17:r.rightOperands?18:-1),D(3),j("disabled",r.form.invalid))},dependencies:[Dn,po,ho,qn,Dr,Gn,ks,zn,Jd,Fs,fo],encapsulation:2})};var RF={edc:"https://w3id.org/edc/v0.0.1/ns/",tx:"https://w3id.org/tractusx/v0.0.1/ns/",xsd:"http://www.w3.org/2001/XMLSchema#",odrl:"http://www.w3.org/ns/odrl/2/"},si=class e{logicalOperators(){return this.values(Vm)}actions(){return this.values(wr)}supportedOutput(){return this.values(ml)}values(t){return Object.values(t).filter(n=>typeof n=="string")}namespacesFor(t){let n={};return t.policy.permissions.flatMap(r=>r.constraints).map(r=>r.get_prefixes()).flat().forEach(r=>{let i=RF[r];n[r]=i??`https://<${r}-namespace-here>`}),n}contextsFor(t){let n=t.policy.permissions.flatMap(r=>r.constraints).flatMap(r=>r.get_contexts());return Array.from(new Set(n))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ov=Nx(gx(),1);function fV(e,t){e&1&&E(0," info ")}function pV(e,t){e&1&&E(0," check_circle ")}function hV(e,t){e&1&&E(0," warning ")}function gV(e,t){e&1&&E(0," error_outline ")}function mV(e,t){if(e&1&&(v(0,"h3",3),E(1),C()),e&2){let n=T();D(),ge(n.title)}}function yV(e,t){if(e&1){let n=ce();v(0,"div",6),V("click",function(){J(n);let i=T();return Z(i.close())}),v(1,"button",5)(2,"span",7),E(3,"close"),C()()()}if(e&2){let n=T();Aw("--value:"+n.countdown+";")}}function vV(e,t){if(e&1){let n=ce();v(0,"button",8),V("click",function(){J(n);let i=T();return Z(i.close())}),v(1,"span",7),E(2,"close"),C()()}}var CV=["componentCard"];function _V(e,t){}function bV(e,t){e&1&&(v(0,"p",8),E(1,"Mandatory"),C())}function wV(e,t){e&1&&(v(0,"p",8),E(1,"Enter a valid URL"),C())}function DV(e,t){e&1&&(v(0,"p",8),E(1,"Enter a valid URL"),C())}function EV(e,t){e&1&&(v(0,"p",8),E(1,"Enter a valid URL"),C())}function IV(e,t){e&1&&(v(0,"p",8),E(1,"Enter a valid URL"),C())}function TV(e,t){if(e&1&&(v(0,"legend",4),E(1,"Federated Catalog API"),C(),v(2,"label",5)(3,"span",6),E(4,"link"),C(),he(5,"input",20),C(),q(6,IV,2,0,"p",8)),e&2){let n,r,i=T();D(2),j("ngClass",(n=i.connectorForm.get("federatedCatalogUrl"))!=null&&n.invalid?"input-error":""),D(4),ne((r=i.connectorForm.get("federatedCatalogUrl"))!=null&&r.invalid?6:-1)}}function xV(e,t){e&1&&(v(0,"p",8),E(1,"Enter a valid DID web"),C())}function SV(e,t){if(e&1&&(v(0,"legend",4),E(1,"Connector DID"),C(),v(2,"label",5)(3,"span",6),E(4,"link"),C(),he(5,"input",21),C(),q(6,xV,2,0,"p",8)),e&2){let n,r,i=T();D(2),j("ngClass",(n=i.connectorForm.get("did"))!=null&&n.invalid?"input-error":""),D(4),ne((r=i.connectorForm.get("did"))!=null&&r.invalid?6:-1)}}function MV(e,t){if(e&1){let n=ce();v(0,"lib-alert",22),V("closeEvent",function(){J(n);let i=T();return Z(i.errorMsg="")}),C()}if(e&2){let n=T();j("msg",n.errorMsg)}}function AV(e,t){e&1&&he(0,"span",19)}function NV(e,t){e&1&&(v(0,"span",23),E(1,"add"),C(),E(2," Add Connector "))}var OV=["dashboardModal"],RV=["dashboardAlert"],PV=(e,t)=>[e,t],mx=(e,t)=>t.connectorName;function kV(e,t){}function FV(e,t){}function LV(e,t){e&1&&(v(0,"span",11),E(1,"menu_open"),C())}function jV(e,t){e&1&&(v(0,"span",11),E(1,"menu"),C())}function VV(e,t){if(e&1){let n=ce();v(0,"li")(1,"input",32),Me(2,"async"),V("click",function(){let i=J(n).$implicit,o=T(2);return Z(o.selectConnector(i))}),C()()}if(e&2){let n=t.$implicit,r=T(2);D(),j("value",n.connectorName)("checked",n===Ae(2,3,r.stateService.currentEdcConfig$)),Ft("aria-label",n.connectorName)}}function UV(e,t){if(e&1){let n=ce();v(0,"li",33)(1,"input",37),Me(2,"async"),V("click",function(){let i=J(n).$implicit,o=T(3);return Z(o.selectConnector(i))}),C(),v(3,"div",38),V("click",function(){let i=J(n).$implicit,o=T(3);return Z(o.deleteConnector(i))}),v(4,"span",36),E(5,"delete"),C()()()}if(e&2){let n=t.$implicit,r=T(3);D(),j("value",n.connectorName)("checked",n===Ae(2,3,r.stateService.currentEdcConfig$)),Ft("aria-label",n.connectorName)}}function BV(e,t){if(e&1){let n=ce();xe(0,UV,6,5,"li",33,mx),Me(2,"async"),he(3,"div",34),v(4,"li")(5,"button",35),V("click",function(){J(n);let i=T(2);return Z(i.addConnector())}),v(6,"span",36),E(7,"add"),C(),E(8," Add "),C()()}if(e&2){let n=T(2);Se(Ae(2,0,n.stateService.localStorageEdcConfigs$))}}function $V(e,t){if(e&1&&(v(0,"div",14)(1,"div",26),Me(2,"async"),Me(3,"async"),v(4,"div",27),Me(5,"async"),Me(6,"async"),v(7,"div",28),he(8,"div",29),Me(9,"async"),he(10,"div",29),Me(11,"async"),C(),v(12,"div",30),E(13),Me(14,"async"),C()()(),v(15,"ul",31),xe(16,VV,3,5,"li",null,mx),Me(18,"async"),q(19,BV,9,2),Me(20,"async"),C()()),e&2){let n,r,i=T();D(),j("ngClass",Ae(2,7,i.edcClientService.isHealthy$)?"tooltip-success":"tooltip-error"),Ft("data-tip",Ae(3,9,i.edcClientService.isHealthy$)?"Connection to connector established":"Connection to connector failed"),D(3),j("ngClass",Uw(25,PV,Ae(5,11,i.edcClientService.isHealthy$)?"hover:bg-success/25 hover:text-success":"hover:bg-error/25 hover:text-error",Ae(6,13,i.stateService.edcConfigs$).length>1?"":"cursor-default")),D(4),j("ngClass",Ae(9,15,i.edcClientService.isHealthy$)?"status-success":"status-error animate-ping"),D(2),j("ngClass",Ae(11,17,i.edcClientService.isHealthy$)?"status-success":"status-error"),D(3),Cn(" ",(n=Ae(14,19,i.stateService.currentEdcConfig$))==null?null:n.connectorName," "),D(3),Se(Ae(18,21,i.stateService.edcConfigs$)),D(3),ne((r=Ae(20,23,i.stateService.appConfig$))!=null&&r.enableUserConfig?19:-1)}}function HV(e,t){if(e&1){let n=ce();v(0,"div",15)(1,"button",39),V("click",function(){J(n);let i=T();return Z(i.addConnector())}),v(2,"span",36),E(3,"add"),C(),E(4," Add Connector "),C()()}}function qV(e,t){if(e&1){let n=ce();v(0,"li")(1,"input",40),V("click",function(){let i=J(n).$implicit,o=T();return Z(o.stateService.setTheme(i))}),C()()}if(e&2){let n=t.$implicit;D(),j("value",n),Ft("aria-label",n)}}function GV(e,t){if(e&1&&(v(0,"span",43),E(1),C()),e&2){let n=T().$implicit;D(),ge(n.text)}}function zV(e,t){e&1&&he(0,"div",44)}function WV(e,t){if(e&1&&(mr(0),v(1,"button",41)(2,"span",42),E(3),C(),q(4,GV,2,1,"span",43),Me(5,"async"),C(),q(6,zV,1,0,"div",44),yr()),e&2){let n=t.$implicit,r=T(2);D(),zg("routerLink",n.routerPath),D(2),ge(n.materialSymbol),D(),ne(Ae(5,4,r.stateService.isMenuOpen$)?4:-1),D(2),ne(n.divider?6:-1)}}function JV(e,t){if(e&1&&(v(0,"ul",24),q(1,WV,7,6,"ng-container",22),Me(2,"async"),C()),e&2){let n,r=T();D(),j("ngForOf",(n=Ae(2,1,r.appConfig))==null?null:n.menuItems)}}var Rv=(()=>{class e{CLIENT_TIMEOUT=1e3;healthCheckInterval=30;_client=new _e(void 0);_isHealthy=new _e(!1);isHealthy$=this._isHealthy.asObservable();healthCheckJob;getClient(){return b(this,null,function*(){return qr(this._client.asObservable().pipe(Ye(n=>n!==void 0),Np(this.CLIENT_TIMEOUT))).catch(()=>{throw new Error(`[${this.constructor.name}] An EDC client is requested, but no client was created yet.`)})})}setDashboardClient(n){this._client.next(this.createEdcConnectorClient(n)),this.startHealthCheckJob(),console.debug(`[${this.constructor.name}] Client created for connector config: ${JSON.stringify(n)}`)}createEdcConnectorClient(n){if(!n.protocolUrl||!n.managementUrl||!n.defaultUrl)throw new Error(`[${this.constructor.name}] EDC client creation failed. Missing protocolUrl, defaultUrl or managementUrl in config: ${JSON.stringify(n)}`);let r=new Ov.EdcConnectorClient.Builder().managementUrl(n.managementUrl).defaultUrl(n.defaultUrl).protocolUrl(n.protocolUrl);return n.apiToken&&r.apiToken(n.apiToken),n.controlUrl&&r.controlUrl(n.controlUrl),n.federatedCatalogUrl&&r.federatedCatalogUrl(n.federatedCatalogUrl),r.build()}setHealthCheckInterval(n){this.healthCheckInterval=n,this.stopHealthCheckJob(),this.startHealthCheckJob()}runHealthCheck(n){if(this._client.getValue()||n){let r=n?this.createEdcConnectorClient(n):this._client.getValue();r?.observability.checkHealth().then(i=>{r===this._client.getValue()&&i.isSystemHealthy!==this._isHealthy.getValue()&&this._isHealthy.next(i.isSystemHealthy)}).catch(i=>{r===this._client.getValue()&&(console.error(`[${this.constructor.name}] Health check failed: ${i.message}`),this._isHealthy.next(!1))})}else console.warn(`[${this.constructor.name}] Health check requested with undefined edc client.`)}startHealthCheckJob(){this.stopHealthCheckJob(),this._isHealthy.next(!1),this.healthCheckJob=setInterval(this.runHealthCheck.bind(this),this.healthCheckInterval*1e3),this.runHealthCheck()}stopHealthCheckJob(){this.healthCheckJob&&(clearInterval(this.healthCheckJob),this.healthCheckJob=void 0)}ngOnDestroy(){this._client.complete(),this._isHealthy.complete(),this.stopHealthCheckJob()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yx=(()=>{class e{edc;_isMenuOpen=new _e(!0);isMenuOpen$=this._isMenuOpen.asObservable();_isFederatedCatalogEnabled=new _e(!1);isFederatedCatalogEnabled$=this._isFederatedCatalogEnabled.asObservable();_appConfig=new _e(void 0);appConfig$=this._appConfig.asObservable();_edcConfigs=new _e([]);edcConfigs$=this._edcConfigs.asObservable();_currentEdcConfig=new _e(void 0);currentEdcConfig$=this._currentEdcConfig.asObservable();_localStorageEdcConfigs=new _e([]);LOCAL_STORAGE_CONFIG_KEY="edc_local_configs";localStorageEdcConfigs$=this._localStorageEdcConfigs.asObservable();LOCAL_STORAGE_THEME_KEY="theme";LOCAL_STORAGE_CURRENT_CONNECTOR="currentConnector";LOCAL_STORAGE_MENU_OPEN="menuOpen";constructor(n){this.edc=n;let r=localStorage.getItem(this.LOCAL_STORAGE_CONFIG_KEY);if(r&&r.length>0)try{let a=JSON.parse(r);this._localStorageEdcConfigs.next(a),this._currentEdcConfig.getValue()||this.setCurrentEdcConfig(a[0])}catch(a){console.error("Error parsing locally stored EDC configurations:",a)}let i=localStorage.getItem(this.LOCAL_STORAGE_THEME_KEY);i&&this.setTheme(i);let o=localStorage.getItem(this.LOCAL_STORAGE_MENU_OPEN);o&&this.setMenuOpen(o==="true");let s=localStorage.getItem(this.LOCAL_STORAGE_CURRENT_CONNECTOR);if(s)try{this.setCurrentEdcConfig(JSON.parse(s))}catch(a){console.error("Error parsing current EDC configuration:",a)}}setTheme(n){document.body.setAttribute("data-theme",n),localStorage.setItem(this.LOCAL_STORAGE_THEME_KEY,n)}setMenuOpen(n){this._isMenuOpen.next(n),localStorage.setItem(this.LOCAL_STORAGE_MENU_OPEN,String(n))}toggleMenuOpen(){let n=!this._isMenuOpen.getValue();this._isMenuOpen.next(n),localStorage.setItem(this.LOCAL_STORAGE_MENU_OPEN,String(n))}setFederatedCatalogEnabled(n){this._isFederatedCatalogEnabled.next(n)}setEdcConfigs(n){this._edcConfigs.next(n),!this._currentEdcConfig.getValue()&&n.length>0&&this.setCurrentEdcConfig(n[0])}setCurrentEdcConfig(n){this.edc.setDashboardClient(n),this.setFederatedCatalogEnabled(n.federatedCatalogUrl!==void 0&&n.federatedCatalogEnabled),this._currentEdcConfig.next(n),localStorage.setItem(this.LOCAL_STORAGE_CURRENT_CONNECTOR,JSON.stringify(n))}setAppConfig(n){this._appConfig.next(n),n.healthCheckIntervalSeconds&&this.edc.setHealthCheckInterval(n.healthCheckIntervalSeconds)}addLocalStorageEdcConfig(n){let r=this._localStorageEdcConfigs.getValue(),i=this._edcConfigs.getValue();if(r.find(s=>s.connectorName===n.connectorName)||i.find(s=>s.connectorName===n.connectorName))throw new TypeError(`EDC config with name '${n.connectorName}' already exists.`);let o=[...r,n];this._localStorageEdcConfigs.next(o),localStorage.setItem(this.LOCAL_STORAGE_CONFIG_KEY,JSON.stringify(o))}deleteLocalStorageEdcConfig(n){let i=this._localStorageEdcConfigs.getValue().filter(o=>o.connectorName!==n.connectorName);this._localStorageEdcConfigs.next(i),localStorage.setItem(this.LOCAL_STORAGE_CONFIG_KEY,JSON.stringify(i))}ngOnDestroy(){this._isMenuOpen.complete(),this._isFederatedCatalogEnabled.complete(),this._edcConfigs.complete(),this._currentEdcConfig.complete(),this._appConfig.complete()}static \u0275fac=function(r){return new(r||e)(U(Rv))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vx=(()=>{class e{title="";msg="";type;timeoutSeconds;showTimer;closeEvent=new le;intervalId;updateInterval=20;countdown;ngOnChanges(){this.stopTimer(),this.startTimer()}startTimer(){if(this.timeoutSeconds){this.countdown=100;let n=this.updateInterval/(this.timeoutSeconds*1e3)*100;this.intervalId=setInterval(()=>{this.countdown-=n,this.countdown<=0&&(this.countdown=0,clearInterval(this.intervalId),this.closeEvent.emit())},this.updateInterval)}}stopTimer(){this.countdown=0,this.intervalId&&clearInterval(this.intervalId)}close(){this.stopTimer(),this.closeEvent.emit()}ngOnDestroy(){this.stopTimer()}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Be({type:e,selectors:[["lib-alert"]],inputs:{title:"title",msg:"msg",type:"type",timeoutSeconds:"timeoutSeconds",showTimer:"showTimer"},outputs:{closeEvent:"closeEvent"},features:[kt],decls:13,vars:5,consts:[[1,"alert-error","alert-info","alert-success","alert-warning"],["role","alert",1,"alert",3,"ngClass"],[1,"material-symbols-rounded","!text-4xl"],[1,"font-bold"],["role","progressbar",1,"radial-progress","text-neutral","hover:cursor-pointer",2,"--size","calc(2rem + 10px)","--thickness","6px",3,"style"],["type","button",1,"btn","btn-circle","btn-sm","btn-neutral"],["role","progressbar",1,"radial-progress","text-neutral","hover:cursor-pointer",2,"--size","calc(2rem + 10px)","--thickness","6px",3,"click"],[1,"material-symbols-rounded","!text-lg"],["type","button",1,"btn","btn-circle","btn-sm","btn-neutral",3,"click"]],template:function(r,i){r&1&&(Gg(0,0),v(1,"div",1)(2,"span",2),q(3,fV,1,0)(4,pV,1,0)(5,hV,1,0)(6,gV,1,0),C(),v(7,"div"),q(8,mV,2,1,"h3",3),v(9,"span"),E(10),C()(),q(11,yV,4,2,"div",4)(12,vV,3,0,"button",5),C()),r&2&&(D(),j("ngClass",i.type?"alert-".concat(i.type):""),D(2),ne(!i.type||i.type==="info"?3:i.type==="success"?4:i.type==="warning"?5:i.type==="error"?6:-1),D(5),ne(i.title?8:-1),D(2),ge(i.msg),D(),ne(i.showTimer?11:12))},dependencies:[Ua],encapsulation:2})}return e})(),Pv=(()=>{class e{dialog;modal;alert;setDialogToInject(n,r){this.modal=r,this.dialog=n,this.dialog.addEventListener("close",()=>{this.modal?.clear()})}setAlertToInject(n){this.alert=n}openModal(n,r,i,o,s){if(!this.modal||!this.dialog)throw new Error("No dialog set to open the component in.");o&&this.modal.clear();let a=this.modal.createComponent(n);this.setInputs(a,r),this.subscribeOutputEvents(a,i,s),this.dialog.showModal()}closeModal(){this.dialog?.close()}showAlert(n,r,i,o,s,a){if(!this.alert)throw new Error("No alert dom element set to inject the alert in.");let l=this.alert.createComponent(vx);this.setInputs(l,{msg:n,type:i,timeoutSeconds:o,title:r,showTimer:s}),l.instance.closeEvent.subscribe(()=>{a&&a(),l.destroy()})}subscribeOutputEvents(n,r,i){if(r)for(let o in r){let s=n.instance[o];if(s?.subscribe){let a=s.subscribe(r[o]);n.onDestroy(()=>a.unsubscribe())}else console.error(`'${o}' is not an output event of ${n.componentType.name}`)}i&&this.dialog?.addEventListener("close",i,{once:!0})}setInputs(n,r){if(r)for(let i in r)n.setInput(i,r[i])}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zf="^https?://.+$",ZV="^did:web:.+$";var QV=(()=>{class e{canceled=new le;confirm=new le;customText;componentType;componentInputs;componentCard;ngAfterViewInit(){if(this.componentType){let n=this.componentCard.createComponent(this.componentType);this.setInputs(n,this.componentInputs)}}setInputs(n,r){if(r)for(let i in r)n.setInput(i,r[i])}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Be({type:e,selectors:[["lib-delete-confirm"]],viewQuery:function(r,i){if(r&1&&Gu(CV,7,Kt),r&2){let o;us(o=ds())&&(i.componentCard=o.first)}},inputs:{customText:"customText",componentType:"componentType",componentInputs:"componentInputs"},outputs:{canceled:"canceled",confirm:"confirm"},decls:13,vars:1,consts:[["componentCard",""],[1,"mb-6","text-lg","text-center"],[1,"flex","justify-between","mt-6"],[1,"btn",3,"click"],[1,"material-symbols-rounded"],[1,"btn","btn-error",3,"click"]],template:function(r,i){if(r&1){let o=ce();v(0,"h1",1),E(1),C(),q(2,_V,0,0,"ng-template",null,0,zu),v(4,"div",2)(5,"button",3),V("click",function(){return J(o),Z(i.canceled.emit())}),v(6,"i",4),E(7,"close"),C(),E(8,"Cancel"),C(),v(9,"button",5),V("click",function(){return J(o),Z(i.confirm.emit())}),v(10,"i",4),E(11,"delete_forever"),C(),E(12,"Delete "),C()()}r&2&&(D(),ge(i.customText?i.customText:"Do you want to delete this item?"))},encapsulation:2})}return e})(),XV=(()=>{class e{edc;stateService;created=new le;connectorForm=new Rs({connectorName:new Mt("",nt.required),managementUrl:new Mt("",[nt.required,nt.pattern(zf)]),defaultUrl:new Mt("",[nt.required,nt.pattern(zf)]),protocolUrl:new Mt("",[nt.required,nt.pattern(zf)]),apiToken:new Mt(""),federatedCatalogEnabled:new Mt(!1),identityHubEnabled:new Mt(!1)});fcEnabled=!1;ihEnabled=!1;loading=!1;errorMsg="";constructor(n,r){this.edc=n,this.stateService=r}onFederatedCatalogToggle(){this.fcEnabled=!this.fcEnabled,this.fcEnabled?this.connectorForm.addControl("federatedCatalogUrl",new Mt("",[nt.required,nt.pattern(zf)])):this.connectorForm.removeControl("federatedCatalogUrl")}onIdentityHubToggle(){this.ihEnabled=!this.ihEnabled,this.ihEnabled?this.connectorForm.addControl("did",new Mt("",[nt.required,nt.pattern(ZV)])):this.connectorForm.removeControl("did")}addConnector(){return b(this,null,function*(){let n={connectorName:this.connectorForm.value.connectorName,managementUrl:this.connectorForm.value.managementUrl,defaultUrl:this.connectorForm.value.defaultUrl,protocolUrl:this.connectorForm.value.protocolUrl,federatedCatalogEnabled:this.connectorForm.value.federatedCatalogEnabled};this.connectorForm.value.apiToken&&(n.apiToken=this.connectorForm.value.apiToken),n.federatedCatalogEnabled&&(n.federatedCatalogUrl=this.connectorForm.value.federatedCatalogUrl),this.connectorForm.value.identityHubEnabled&&(n.did=this.connectorForm.value.did);let r=this.edc.createEdcConnectorClient(n);this.loading=!0;try{(yield r.observability.checkHealth()).isSystemHealthy?(this.stateService.addLocalStorageEdcConfig(n),this.created.emit()):this.errorMsg="The connector is unhealthy."}catch(i){i instanceof TypeError?this.errorMsg=i.message:this.errorMsg=`Could not reach the default API '${n.defaultUrl}'. Please check your inputs.`}finally{this.loading=!1}})}static \u0275fac=function(r){return new(r||e)(P(Rv),P(yx))};static \u0275cmp=Be({type:e,selectors:[["lib-connector-config-form"]],outputs:{created:"created"},decls:55,vars:15,consts:[[1,"flex","flex-col","items-center","overflow-auto","h-full",3,"submit","formGroup"],[1,"divider","text-xl","m-0"],[1,"fieldset","w-lg","bg-base-200","border","border-base-300","p-4","rounded-box"],[1,"fieldset-legend","text-sm"],[1,"fieldset-label"],[1,"input","w-full",3,"ngClass"],[1,"material-symbols-rounded","opacity-50"],["type","text","placeholder","Connector Name","name","connectorName","formControlName","connectorName"],[1,"fieldset-label","text-error"],["type","text","placeholder","Management API","name","managementUrl","formControlName","managementUrl"],["type","text","placeholder","Default API","name","defaultUrl","formControlName","defaultUrl"],["type","text","placeholder","Protocol API","name","protocolUrl","formControlName","protocolUrl"],["type","password","placeholder","API Token","name","apiToken","formControlName","apiToken"],[1,"badge","badge-info"],["type","checkbox","name","federatedCatalogEnabled","formControlName","federatedCatalogEnabled",1,"toggle","toggle-primary",3,"change"],["type","checkbox","name","identityHubEnabled","formControlName","identityHubEnabled",1,"toggle","toggle-primary",3,"change"],[1,"divider"],["title","Error","type","error",1,"w-lg","mb-4",3,"msg"],["type","submit",1,"btn","btn-primary","btn-lg","w-lg",3,"disabled"],[1,"loading","loading-bars","loading-xl","text-primary"],["type","text","placeholder","Federated Catalog API","name","federatedCatalogUrl","formControlName","federatedCatalogUrl"],["type","text","placeholder","DID","name","did","formControlName","did"],["title","Error","type","error",1,"w-lg","mb-4",3,"closeEvent","msg"],[1,"material-symbols-rounded"]],template:function(r,i){if(r&1&&(v(0,"form",0),V("submit",function(){return i.addConnector()}),v(1,"h1",1),E(2,"New EDC Connector"),C(),v(3,"fieldset",2)(4,"legend",3),E(5,"Configuration"),C(),v(6,"legend",4),E(7,"Connector Name"),C(),v(8,"label",5)(9,"span",6),E(10,"link"),C(),he(11,"input",7),C(),q(12,bV,2,0,"p",8),v(13,"legend",4),E(14,"Management API"),C(),v(15,"label",5)(16,"span",6),E(17,"link"),C(),he(18,"input",9),C(),q(19,wV,2,0,"p",8),v(20,"legend",4),E(21,"Default API"),C(),v(22,"label",5)(23,"span",6),E(24,"link"),C(),he(25,"input",10),C(),q(26,DV,2,0,"p",8),v(27,"legend",4),E(28,"Protocol API"),C(),v(29,"label",5)(30,"span",6),E(31,"link"),C(),he(32,"input",11),C(),q(33,EV,2,0,"p",8),v(34,"legend",4),E(35,"API Authentication Token"),C(),v(36,"label",5)(37,"span",6),E(38,"lock"),C(),he(39,"input",12),v(40,"span",13),E(41,"Optional"),C()(),v(42,"legend",4),E(43,"Federated Catalog"),C(),v(44,"input",14),V("change",function(){return i.onFederatedCatalogToggle()}),C(),q(45,TV,7,2),v(46,"legend",4),E(47,"Identity Hub"),C(),v(48,"input",15),V("change",function(){return i.onIdentityHubToggle()}),C(),q(49,SV,7,2),C(),he(50,"div",16),q(51,MV,1,1,"lib-alert",17),v(52,"button",18),q(53,AV,1,0,"span",19)(54,NV,3,0),C()()),r&2){let o,s,a,l,c,d,f,h,u;j("formGroup",i.connectorForm),D(8),j("ngClass",(o=i.connectorForm.get("connectorName"))!=null&&o.invalid?"input-error":""),D(4),ne((s=i.connectorForm.get("connectorName"))!=null&&s.invalid?12:-1),D(3),j("ngClass",(a=i.connectorForm.get("managementUrl"))!=null&&a.invalid?"input-error":""),D(4),ne((l=i.connectorForm.get("managementUrl"))!=null&&l.invalid?19:-1),D(3),j("ngClass",(c=i.connectorForm.get("defaultUrl"))!=null&&c.invalid?"input-error":""),D(4),ne((d=i.connectorForm.get("defaultUrl"))!=null&&d.invalid?26:-1),D(3),j("ngClass",(f=i.connectorForm.get("protocolUrl"))!=null&&f.invalid?"input-error":""),D(4),ne((h=i.connectorForm.get("protocolUrl"))!=null&&h.invalid?33:-1),D(3),j("ngClass",(u=i.connectorForm.get("apiToken"))!=null&&u.invalid?"input-error":""),D(9),ne(i.fcEnabled?45:-1),D(4),ne(i.ihEnabled?49:-1),D(2),ne(i.errorMsg?51:-1),D(),j("disabled",i.connectorForm.invalid||i.loading),D(),ne(i.loading?53:54)}},dependencies:[Fs,qD,qn,qm,Gn,ks,fo,wl,Ua,vx],encapsulation:2})}return e})(),Cx=(()=>{class e{stateService;edcClientService;modalAndAlertService;appConfig;edcConfigs;themes=[];modal;alert;constructor(n,r,i){this.stateService=n,this.edcClientService=r,this.modalAndAlertService=i}ngAfterViewInit(){return b(this,null,function*(){let n=document.querySelector("#dashboard-dialog");this.modalAndAlertService.setDialogToInject(n,this.modal),this.modalAndAlertService.setAlertToInject(this.alert);let r=this.appConfig?yield this.appConfig:void 0;if(r?.menuItems)this.stateService.setAppConfig(r);else{this.modalAndAlertService.showAlert("Missing app configuration! Menu items must be set!","Configuration error","error");return}let i=this.edcConfigs?yield this.edcConfigs:void 0;if(!i||i.length===0)return;let o=i[0];try{this.stateService.setFederatedCatalogEnabled(o.federatedCatalogEnabled),this.stateService.setEdcConfigs(i)}catch(s){console.error(s),this.modalAndAlertService.showAlert(s.message,"Configuration error","error")}})}selectConnector(n){this.stateService.setCurrentEdcConfig(n),document.activeElement?.blur()}addConnector(){this.modalAndAlertService.openModal(XV,void 0,{created:()=>{this.modalAndAlertService.closeModal(),this.modalAndAlertService.showAlert("EDC connector added successfully","Connector Added","success",5)}})}deleteConnector(n){this.modalAndAlertService.openModal(QV,{customText:`Are you sure you want to delete the configuration for connector "${n.connectorName}"?`},{confirm:()=>{this.stateService.deleteLocalStorageEdcConfig(n),this.modalAndAlertService.closeModal()},canceled:()=>this.modalAndAlertService.closeModal()})}static \u0275fac=function(r){return new(r||e)(P(yx),P(Rv),P(Pv))};static \u0275cmp=Be({type:e,selectors:[["lib-dashboard-app"]],viewQuery:function(r,i){if(r&1&&(Gu(OV,7,Kt),Gu(RV,7,Kt)),r&2){let o;us(o=ds())&&(i.modal=o.first),us(o=ds())&&(i.alert=o.first)}},inputs:{appConfig:"appConfig",edcConfigs:"edcConfigs",themes:"themes"},decls:40,vars:23,consts:[["dashboardAlert",""],["dashboardModal",""],[1,"fixed","z-9999","top-20","left-[50%]","-translate-x-1/2","flex","flex-col","justify-start","items-center","[&_.alert]:mb-6","[&_.alert]:shadow-2xl"],["id","dashboard-dialog",1,"modal","z-10"],[1,"modal-box","w-auto","max-w-[90vw]","max-h-[95vh]","p-12","overflow-hidden","flex"],["method","dialog"],[1,"btn","btn-circle","absolute","right-3","top-3"],[1,"box-border","flex","h-screen","w-screen","max-h-screen","max-w-screen","flex-col","bg-base-100","pt-4"],[1,"navbar","min-h-fit","px-4","mx-4","max-w-[calc(100%-2rem)]","rounded-2xl","bg-neutral","text-neutral-content","shadow-xl"],[1,"navbar-start"],["role","button",1,"btn","btn-lg","btn-circle","btn-ghost","hover:text-primary-content","hover:bg-primary","border-none",3,"click","disabled"],[1,"material-symbols-rounded","h7","w-7","!text-[1.75rem]"],[1,"navbar-center"],[1,"text-lg"],[1,"dropdown","dropdown-center","dropdown-hover","ml-5"],["data-tip","Add your first connector configuration",1,"tooltip","tooltip-right","tooltip-open","tooltip-primary"],[1,"navbar-end"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-lg","btn-circle","btn-ghost","m-1","hover:text-primary-content","hover:bg-primary","border-none"],["viewBox","0 -960 960 960","fill","currentColor",1,"h-7","w-7"],["d","M440-80q-33 0-56.5-23.5T360-160v-160H240q-33 0-56.5-23.5T160-400v-280q0-66 47-113t113-47h480v440q0 33-23.5 56.5T720-320H600v160q0 33-23.5 56.5T520-80h-80ZM240-560h480v-200h-40v160h-80v-160h-40v80h-80v-80H320q-33 0-56.5 23.5T240-680v120Zm0 160h480v-80H240v80Zm0 0v-80 80Z"],["tabindex","0",1,"dropdown-content","bg-base-100","text-base-content","z-1","max-h-96","overflow-y-auto","rounded-box","p-2","shadow-2xl"],[4,"ngFor","ngForOf"],[1,"box-border","py-4","pl-4","flex","flex-auto","overflow-auto"],[1,"menu","flex-nowrap","shrink-0","h-full","rounded-2xl","bg-neutral","text-neutral-content","shadow-xl","[&_li>a]:px-4","overflow-auto"],["id","router-content",1,"px-4","box-border","w-full",3,"ngClass"],[1,"tooltip","tooltip-right",3,"ngClass"],["tabindex","0","role","button",1,"btn","btn-ghost","border-none","shadow-none",3,"ngClass"],[1,"inline-grid","[&_>*]:[grid-area:1/1]","mr-6"],[1,"status","status-lg",3,"ngClass"],[1,"text-lg","font-medium"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","text-base-content","rounded-box","z-1","p-2","shadow-xl","text-nowrap","[&_>li]:my-1"],["type","radio","name","edc-config-dropdown",1,"btn","btn-ghost","justify-start","checked:text-primary-content","checked:bg-primary",3,"click","value","checked"],[1,"group","flex","flex-row","flex-nowrap","relative"],[1,"divider","mb-2","mt-0"],[1,"btn","btn-soft","btn-primary",3,"click"],[1,"material-symbols-rounded"],["type","radio","name","edc-config-dropdown",1,"btn","btn-ghost","justify-start","checked:text-primary-content","w-full",3,"click","value","checked"],[1,"btn","btn-error","btn-soft","absolute","left-[100%]","hidden","group-hover:inline-flex",3,"click"],[1,"ml-5","btn","btn-soft","btn-primary",3,"click"],["type","radio","name","theme-dropdown",1,"theme-controller","btn","btn-ghost","btn-sm","btn-block","justify-start","checked:text-primary-content",3,"click","value"],["routerLinkActive","text-primary",1,"btn","btn-lg","btn-ghost","justify-start","shadow-none","hover:text-primary-content","hover:bg-primary","border-none","transition-none",3,"routerLink"],[1,"material-symbols-rounded","h-7","w-7","!text-[1.75rem]"],[1,"text-sm"],[1,"divider","after:bg-neutral-content","before:bg-neutral-content","after:opacity-15","before:opacity-15","my-0","px-2"]],template:function(r,i){if(r&1){let o=ce();v(0,"div",2),q(1,kV,0,0,"ng-template",null,0,zu),C(),v(3,"dialog",3)(4,"div",4)(5,"form",5)(6,"button",6),E(7,"\u2715"),C()(),q(8,FV,0,0,"ng-template",null,1,zu),C()(),v(10,"div",7)(11,"div",8)(12,"div",9)(13,"button",10),Me(14,"async"),V("click",function(){return J(o),Z(i.stateService.toggleMenuOpen())}),q(15,LV,2,0,"span",11),Me(16,"async"),q(17,jV,2,0,"span",11),C()(),v(18,"div",12)(19,"div",13),E(20),Me(21,"async"),C(),q(22,$V,21,28,"div",14),Me(23,"async"),Me(24,"async"),Me(25,"async"),q(26,HV,5,0,"div",15),C(),v(27,"div",16)(28,"div",17)(29,"div",18),K_(),v(30,"svg",19),he(31,"path",20),C()(),Y_(),v(32,"ul",21),q(33,qV,2,2,"li",22),C()()()(),v(34,"div",23),q(35,JV,3,3,"ul",24),Me(36,"async"),v(37,"div",25),Me(38,"async"),he(39,"router-outlet"),C()()()}if(r&2){let o,s,a,l,c;D(13),j("disabled",((o=Ae(14,7,i.appConfig))==null?null:o.menuItems.length)<2),D(2),ne(Ae(16,9,i.stateService.isMenuOpen$)?15:17),D(5),ge((s=(s=Ae(21,11,i.appConfig))==null?null:s.appTitle)!==null&&s!==void 0?s:"EDC Dashboard"),D(2),ne(Ae(23,13,i.stateService.edcConfigs$)&&Ae(24,15,i.stateService.currentEdcConfig$)?22:(a=Ae(25,17,i.stateService.appConfig$))!=null&&a.enableUserConfig?26:-1),D(11),j("ngForOf",i.themes),D(2),ne(((l=Ae(36,19,i.appConfig))==null?null:l.menuItems.length)>1?35:-1),D(2),j("ngClass",((c=Ae(38,21,i.appConfig))==null?null:c.menuItems.length)>1?"":"pl-0")}},dependencies:[fl,hs,As,Fm,em,Ua],encapsulation:2})}return e})();function YV(e,t){if(e&1){let n=ce();v(0,"li",13),V("click",function(){let i=J(n).$implicit,o=T();return Z(o.addConstraint(i.clone()))}),v(1,"a",14),E(2),C()()}if(e&2){let n=t.$implicit,r=T();D(2),ge(r.camelCaseToWords(n.leftOperand))}}function e2(e,t){if(e&1){let n=ce();v(0,"button",22),V("click",function(){J(n);let i=T().$implicit,o=T();return Z(o.editConstraint(i))}),v(1,"span",20),E(2,"edit"),C()()}}function t2(e,t){if(e&1){let n=ce();v(0,"li",13),V("click",function(){let i=J(n).$implicit,o=T(2).$implicit,s=T();return Z(s.addConstraint(i.clone(),o))}),v(1,"a",14),E(2),C()()}if(e&2){let n=t.$implicit;D(2),ge(n.leftOperand)}}function n2(e,t){if(e&1&&(v(0,"div",5)(1,"button",23)(2,"span",7),E(3,"add"),C()(),v(4,"ul",24),xe(5,t2,3,1,"li",null,Vn),C()()),e&2){let n=T(2);D(5),Se(n.constraints)}}function r2(e,t){if(e&1){let n=ce();v(0,"div",25)(1,"div",15)(2,"div",16),E(3),C(),v(4,"div",17),E(5),C()(),v(6,"button",22),V("click",function(){let i=J(n).$implicit,o=T(2).$implicit,s=T();return Z(s.editConstraint(i,!1,o))}),v(7,"span",20),E(8,"edit"),C()(),v(9,"button",19),V("click",function(){let i=J(n).$implicit,o=T(2).$implicit,s=T();return Z(s.deleteConstraint(i,o))}),v(10,"span",20),E(11,"delete"),C()()()}if(e&2){let n=t.$implicit;D(3),Cn(" ",n.constructor.name.slice(1).replace("Con"," Con")," "),D(2),ge(n.toString().replace("Constraint ",""))}}function i2(e,t){if(e&1&&(v(0,"div",21),xe(1,r2,12,2,"div",25,Vn),C()),e&2){let n=T().$implicit,r=T();D(),Se(r.getSubConstraints(n))}}function o2(e,t){if(e&1){let n=ce();v(0,"div",12)(1,"div",15)(2,"div",16),E(3,"Atomic Constraint"),C(),v(4,"div",17),E(5),C()(),q(6,e2,3,0,"button",18)(7,n2,7,0,"div",5),v(8,"button",19),V("click",function(){let i=J(n).$implicit,o=T();return Z(o.deleteConstraint(i))}),v(9,"span",20),E(10,"delete"),C()(),q(11,i2,3,0,"div",21),C()}if(e&2){let n=t.$implicit,r=T();D(5),ge(n.toString().replace("Constraint ","")),D(),ne(r.getConstraintType(n)==="atomic"?6:7),D(5),ne(r.getConstraintType(n)==="logical"?11:-1)}}var Wf=class e{constructor(t,n){this.modalService=n;this.actions=t.actions()}permission;actions;permissionChange=new le;constraints=[];getConstraintType(t){return t instanceof oe?"atomic":"logical"}getSubConstraints(t){return t.constraints}addConstraint(t,n=void 0){this.editConstraint(t,!0,n)}deleteConstraint(t,n=void 0){n?n.constraints=n.constraints.filter(r=>r!==t):this.permission.constraints=this.permission.constraints.filter(r=>r!==t),this.permissionChange.emit()}editConstraint(t,n=!1,r=void 0){let i=o=>{let s=r?r.constraints:this.permission.constraints;if(o!=null){let a=s.indexOf(t);a!=-1?s[a]=o:n&&s.push(o),this.permissionChange.emit()}this.modalService.closeModal()};t instanceof oe?this.modalService.openModal(Zd,{constraint:t.clone()},{save:i},void 0,()=>this.modalService.closeModal()):t instanceof ao&&i(t)}camelCaseToWords=He;static \u0275fac=function(n){return new(n||e)(P(si),P(Pv))};static \u0275cmp=Be({type:e,selectors:[["app-permission"]],inputs:{permission:"permission",constraints:"constraints"},outputs:{permissionChange:"permissionChange"},decls:20,vars:1,consts:[[1,"flex","flex-col","bg-base-100","rounded-2xl","p-4","h-full"],[1,"w-full","flex"],[1,"input","flex-1"],[1,"label"],["type","text","placeholder","Permission name",3,"ngModelChange","ngModel"],[1,"dropdown","dropdown-end","ml-4"],["tabindex","0","title","Add constraint",1,"btn","btn-soft","btn-primary"],[1,"material-symbols-rounded"],["tabindex","0",1,"dropdown-content","menu","shadow-2xl","bg-base-300","rounded-2xl","flex-nowrap","overflow-y-auto","max-h-[50vh]"],[1,"divider","m-0","my-4"],[1,"opacity-80"],[1,"flex","flex-col","gap-3","mx-4","[&>div]:last:border-none"],[1,"w-full","flex","flex-wrap","items-center","gap-4","border-b-2","border-b-base-content/10","pb-3"],[3,"click"],[1,"truncate"],[1,"flex","flex-col","flex-1"],[1,"text-xs","font-normal","opacity-60"],[1,"text-md","font-normal"],[1,"btn","btn-sm","btn-square","btn-soft","btn-secondary"],[1,"btn","btn-sm","btn-square","btn-soft","btn-error",3,"click"],[1,"material-symbols-rounded","!text-[1.2rem]"],[1,"w-full","border-l-base-content/10","border-l-1","ml-2","-mt-3"],[1,"btn","btn-sm","btn-square","btn-soft","btn-secondary",3,"click"],["tabindex","0","title","Add constraint",1,"btn","btn-soft","btn-square","btn-sm","btn-primary"],["tabindex","0",1,"dropdown-content","menu","shadow-2xl","bg-base-300","rounded-2xl","flex-nowrap","overflow-y-auto"],[1,"w-full","px-4","flex","gap-4","items-center","my-2"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),E(4,"Name"),C(),v(5,"input",4),Ge("ngModelChange",function(o){return tt(r.permission.name,o)||(r.permission.name=o),o}),C()(),v(6,"div",5)(7,"button",6)(8,"span",7),E(9,"add"),C(),E(10," Add Constraint "),C(),v(11,"ul",8),xe(12,YV,3,1,"li",null,Vn),C()()(),v(14,"div",9)(15,"span",10),E(16,"Constraints"),C()(),v(17,"div",11),xe(18,o2,12,3,"div",12,Vn),C()()),n&2&&(D(5),qe("ngModel",r.permission.name),D(7),Se(r.constraints),D(6),Se(r.permission.constraints))},dependencies:[Dn,qn,Gn,zn],encapsulation:2})};var A=class{static DataProvisioningEndDurationDays(){return{name:"DataProvisioningEndDurationDays",operandType:"integer",legalText:{obligation:"The Data Provider shall make the Data available for the period specified herein in days, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"30"}}static DataProvisioningEndDate(){return{name:"DataProvisioningEndDate",operandType:"string",pattern:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/,legalText:{obligation:"The Data Provider shall make the Data available for a limited period until the end date specified herein, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"2024-12-31T23:59:59Z"}}static DataExchangeGovernance(){return{name:"DataExchangeGovernance",const:"DataExchangeGovernance:1.0",operandType:"string",legalText:{permission:'Data Provider and Data Consumer agree to the Data Exchange Governance published by the Catena-X Automotive Network e.V. (Association) as basis for this Agreement concluded via the Registered Connector (RC). The Data Exchange Governance Version 1.0 can be found here: <a href="https://catenax-ev.github.io/docs/regulatory-framework/20000ft/data-exchange-governance">https://catenax-ev.github.io/docs/regulatory-framework/20000ft/data-exchange-governance</a> after CX-Saturn has been released. The subject matter of the Agreement concluded via the RC is the provision of the Data for a limited period of one (1) year (unless otherwise agreed in <a href="https://w3id.org/catenax/2025/9/policy/data-provisioning-end-date-constraint-schema.json">dataProvisioningEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-provisioning-end-duration-days-constraint-schema.json">dataProvisioningEndDurationDays</a>) and granting a right to use the Data for a period of one (1) year (unless agreed otherwise in <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-date-constraint-schema.json">dataUsageEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-duration-days-constraint-schema.json">dataUsageEndDurationDays</a> or open-ended <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-definition-constraint-schema.json">DataUsageEndUnlimited</a>). The provision of the Data shall be effected via the API specified by the dataset attribute dct:type. The Agreement concluded via the RC covers only the exchange of Data effected on the basis of the API version (as specified in the dataset attribute base-URL), the Asset-Version (dataset attribute cx-common:version), and the Aspect Model Version as applicable at the time of concluding the Agreement. Unless agreed otherwise in <a href="https://w3id.org/catenax/2025/9/policy/version-changes-constraint-schema.json">VersionChanges</a>, the Agreement concluded via the RC must be renegotiated in the event of any change to at least one of these versions. Unless otherwise agreed between the Parties within the Agreement concluded via the RC (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/usage-purpose-constraint-schema.json">UsagePurpose</a>), the Data Provider grants the Data Consumer a non-exclusive right, limited in time to the duration of this contract (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-date-constraint-schema.json">dataUsageEndDate</a> or <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-duration-days-constraint-schema.json">dataUsageEndDurationDays</a> or open-ended <a href="https://w3id.org/catenax/2025/9/policy/data-usage-end-definition-constraint-schema.json">DataUsageEndUnlimited</a>), to use the Data in accordance with the Contractual Usage Purposes (in accordance with <a href="https://w3id.org/catenax/2025/9/policy/usage-purpose-constraint-schema.json">Usage Purpose</a>).'},value:"DataExchangeGovernance:1.0"}}static MembershipActive(){return{name:"MembershipActive",operandType:"string",const:"active"}}static BusinessPartnerNumber(){return{name:"BusinessPartnerNumber",operandType:"string",pattern:/^BPNL[0-9A-Z]{12}$/,value:"BPNL0000000001"}}static BusinessPartnerGroup(){return{name:"BusinessPartnerGroup",operandType:"string",value:"GROUP_A"}}static CoreLegalRequirementForThirdParty(){return{name:"CoreLegalRequirementForThirdParty",const:"cx.core.legalRequirementForThirdparty:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: facilitating compliance with mandatory regulatory requirements for tracking and reporting battery cells, modules & high-voltage batteries.",additionalInformation:"Typically used for: Traction Battery Code"},value:"cx.core.legalRequirementForThirdparty:1"}}static CoreIndustrycore(){return{name:"CoreIndustrycore",const:"cx.core.industrycore:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Establishing a digital representation of the automotive supply chain to enable a component specific data exchange.",additionalInformation:"Typically used for: SerialPart, Batch, JustInSequencePart,SingleLevelBomAsBuilt, PartAsPlanned, SingleLevelBomAsPlanned, PartSiteInformationAsPlanned, UniqueIDPushAPI"},value:"cx.core.industrycore:1"}}static CoreQualityNotifications(){return{name:"CoreQualityNotifications",const:"cx.core.qualityNotifications:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: quality analyses to identify and select affected components and to send quality notifications to affected customers or suppliers.",additionalInformation:"Typically used for: Notification API"},value:"cx.core.qualityNotifications:1"}}static CoreDigitalTwinRegistry(){return{name:"CoreDigitalTwinRegistry",const:"cx.core.digitalTwinRegistry:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: Identifying data offers of submodels within the Catena-X ecosystem.",additionalInformation:"Typically used for: Digital Twin Registry Asset"}}}static PfcBase(){return{name:"PfcBase",const:"cx.pcf.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) sending and receiving product-specific CO2 data and related functionalities such as (but not limited to) certificate exchange and notifications, (ii) conducting plausibility checks and validation measures, (iii) calculating aggregated PCFs of Data Consumer (including calculations operated by a technical service provider that (a) is certified for Catena-X, (b) is not authorized to evaluate data beyond such calculation and (c) provides calculations exclusively for Data Consumer's own purposes.",additionalInformation:"Typically used for: PCF Model, PCF Exchange API"},value:"cx.pcf.base:1"}}static QualityBase(){return{name:"QualityBase",const:"cx.quality.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data  in line with the following purposes: (i) early identification of anomalies in the use of the product, (ii) collaborative root-cause analysis of a problem / error and determining corrective action, (iii) component tracing to optimize technical actions (in combination with use case Traceability), (iv) confirming corrective action, (v) preventive field observation to detect anomalies, (vi) processing notifications of quality alerts (supply chain bottom-up) and quality investigations (supply chain top-down) (possibly in combination with the use case Traceability).",additionalInformation:"Typically used for: Fleet Vehicles, Quality Task, QualityTaskAttachment, PartsAnalysis, ManufacturedPartsQInformation, FleetDiagnosticData, FleetClaim"},value:"cx.quality.base:1"}}static DcmBase(){return{name:"DcmBase",const:"cx.dcm.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) sending and receiving product-specific demand and capacity data, as well as the associated product functionalities, (ii) early identification of imbalances resulting from demand and capacity comparison, (iii) sending and receiving messages and notifications related to imbalances and to exchanged demand and capacity data, (iv) initiate a collaborative approach to solve imbalances.",additionalInformation:"Typically used for: Material Demand, WeekBasedCapacityGroup, IdBasedRequestForUpdate, IdBasedComment"},value:"cx.dcm.base:1"}}static PurisBase(){return{name:"PurisBase",const:"cx.puris.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: optimizing processes, which includes, without limitation, regular exchange of data to prevent and/or solve shortages in the supply chain, conducting plausibility checks against other sources and/or collecting information to facilitate sound decision making, all of the above in the context of predictive unit real-time information relating to production and/or logistics.",additionalInformation:"Typically used for: Item Stock, Short-Term Material Demand, Planned Production Output, Delivery Information"},value:"cx.puris.base:1"}}static CircularDpp(){return{name:"CircularDpp",const:"cx.circular.dpp:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in accordance to those applicable public legal regulation directly requiring digital product passports or affecting the contents or handling of digital product passports.",additionalInformation:"Typically used for: Digital Product Pass, Battery Pass"},value:"cx.circular.dpp:1"}}static CircularSmc(){return{name:"CircularSmc",const:"cx.circular.smc:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data about secondary material content (SMC) in line with the following purpose: optimize the SMC-usage.",additionalInformation:"Typically used for: SMC-Calculated, SMC-Verifiable"},value:"cx.circular.smc:1"}}static CircularMarketplace(){return{name:"CircularMarketplace",const:"cx.circular.marketplace:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: buy, sell and/or procure parts and materials.",additionalInformation:"Typically used for: Market Place Offer"},value:"cx.circular.marketplace:1"}}static CircularMaterialaccounting(){return{name:"CircularMaterialaccounting",const:"cx.circular.materialaccounting:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) display, process, analysis, correlate, modify and amend data, (ii) for (e.g. enablement of) chain of custody processes and commercial transaction related thereto and allocation of material to parts to the supply chain."},value:"cx.circular.materialaccounting:1"}}static BpdmGateUpload(){return{name:"BpdmGateUpload",const:"cx.bpdm.gate.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: verifying, curating and enriching the Data to create a record of basic information about all entities with a BPN in the Catena-X data space accessible to all participants (Golden Record) and for early warning services (Value Added Services, VASs).",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.gate.upload:1"}}static BpdmGateDownload(){return{name:"BpdmGateDownload",const:"cx.bpdm.gate.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the basic information about entities with a BPN in the Catena-X data space provided by the Core Service B Provider in line with the following purposes: (i) identifying counterparty, (ii) usage in Value Added Services (VASs).",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.gate.download:1"}}static BpdmPool(){return{name:"BpdmPool",const:"cx.bpdm.pool:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) identifying participants within the Catena-X data space, (ii) identifying counterparty (iii), usage in  information processes, (iv) invitation of additional participants into the Catena-X data space, (v) usage in Value Added Services (VASs), ",additionalInformation:"Typically used for: Pool Data Models"},value:"cx.bpdm.pool:1"}}static BpdmVasCountryrisk(){return{name:"BpdmVasCountryrisk",const:"cx.bpdm.vas.countryrisk:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening participant's business data to identify risks when collaborating with a new/existing business partner according to official or company-specific country risk assessments.",additionalInformation:"Typically used for: Country Risk Data Model, Gate Data Model, Pool Data Models"}}}static BpdmVasDataqualityUpload(){return{name:"BpdmVasDataqualityUpload",const:"cx.bpdm.vas.dataquality.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: (i) assessing Data Provider's data quality, (ii) creating benchmarks for future screenings of other participants' data to fulfill the goals of the Data Quality Dashboard application.",additionalInformation:"Typically used for: Business Partner Data Model"},value:"cx.bpdm.vas.dataquality.upload:1"}}static BpdmVasDataqualityDownload(){return{name:"BpdmVasDataqualityDownload",const:"cx.bpdm.vas.dataquality.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Assessing quality of own data.",additionalInformation:"Typically used for: Data Quality Dashboard Data Model"},value:"cx.bpdm.vas.dataquality.download:1"}}static BpdmVasBdvUpload(){return{name:"BpdmVasBdvUpload",const:"cx.bpdm.vas.bdv.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening relevant Data Provider's submitted bank data to verify Data Provider's bank data.",additionalInformation:"Typically used for: Gate Data Model, Bank Data Verification Data Model"},value:"cx.bpdm.vas.bdv.upload:1"}}static BpdmVasFpdUpload(){return{name:"BpdmVasFpdUpload",const:"cx.bpdm.vas.fpd.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening Data Provider's submitted business partner data to assess occurrence of fraud.",additionalInformation:"Typically used for: Fraud Prevention Data Model"},value:"cx.bpdm.vas.fpd.upload:1"}}static BpdmVasFpdDownload(){return{name:"BpdmVasFpdDownload",const:"cx.bpdm.vas.fpd.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: Assessing fraud risks in transactions with another participant.",additionalInformation:"Typically used for: Fraud Prevention Data Model"},value:"cx.bpdm.vas.fpd.download:1"}}static BpdmVasSwdUpload(){return{name:"BpdmVasSwdUpload",const:"cx.bpdm.vas.swd.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: screening Data Provider's submitted beneficial ownership data to assess trade compliance.",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.vas.swd.upload:1"}}static BpdmVasSwdDownload(){return{name:"BpdmVasSwdDownload",const:"cx.bpdm.vas.swd.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: assessing trade sanction risks in transactions with another participant.",additionalInformation:"Typically used for: Sanction Party Watch List Dashboard Data Model"},value:"cx.bpdm.vas.swd.download:1"}}static BpdmVasNpsUpload(){return{name:"BpdmVasNpsUpload",const:"cx.bpdm.vas.nps.upload:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purposes: verifying Data Provider's submitted Business Partner Data against Natural Person data entries.",additionalInformation:"Typically used for: Gate Data Model"},value:"cx.bpdm.vas.nps.upload:1"}}static BpdmVasNpsDownload(){return{name:"BpdmVasNpsDownload",const:"cx.bpdm.vas.nps.download:1",operandType:"string",legalText:{permission:"The Data Consumer may use the Data in line with the following purpose: verifying its submitted Business Partner Data.",additionalInformation:"Typically used for: Natural Person Screening Data Model"},value:"cx.bpdm.vas.nps.download:1"}}static CcmBase(){return{name:"CcmBase",const:"cx.ccm.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the exchanged business partner certificates in line with the following purpose: Verification and validation of the existence of a certification.",additionalInformation:"Typically used for: Business Partner Certificate"},value:"cx.ccm.base:1"}}static BpdmPoolAll(){return{name:"BpdmPoolAll",const:"cx.bpdm.poolAll:1",operandType:"string",legalText:{permission:"The Data Consumer may use the basic information about all entities with a BPN in the Catena-X data space provided by the Core Service B Provider in line with the following purposes: (i) identifying internal counterparties, (ii) usage in internal information processes, (iii) usage in Value Added Services (VAS).",additionalInformation:"Typically used for: Pool Data Model"},value:"cx.bpdm.poolAll:1"}}static LogisticsBase(){return{name:"LogisticsBase",const:"cx.logistics.base:1",operandType:"string",legalText:{permission:"The Data Consumer may use the logistic Data in line with the following purposes: (i) tracking of load carriers, reusable boxes and any packaging, (ii) early identification of delay or damages on transport, and (iii) identification of affected part instances or batch instances on respective transport units.",additionalInformation:"Typically used for: asset_tracker_links, batch, global_transport_label, sensor_data, packing_list, serial_part"},value:"cx.logistics.base:1"}}static UsagePurposeIndividual(){return{name:"UsagePurposeIndividual",operandType:"string",legalText:{permission:"Data Provider and Data Consumer are free to individually agree this certain purpose of use. The legal meaning of this certain purpose need to be agreed individually between Data Provider and Data Consumer."},value:"INDIVIDUAL"}}static ContractReference(){return{name:"ContractReference",operandType:"string",legalText:{permission:"Data Provider and Data Consumer are free to reference an existing, individual contract as a basis of the Agreement concluded via the Registered Connector (RC). This can be a framework agreement or a very specific contract. The rightOperand value for this constraint can be a free to choose reference under which both parties are able to identify their contract. The reference does not have to have a version number."},value:"CONTRACT-REF-123"}}static RegionAll(){return{name:"RegionAll",const:"cx.region.all:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC).",prohibition:"The Data Consumer is not entitled to make the Data available for use to its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies'), unless the Parties have otherwise agreed on a right of sublicensing in the referenced contract (cx-policy:ContractReference)."},value:"cx.region.all:1"}}static RegionEurope(){return{name:"RegionEurope",const:"cx.region.europe:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Europe.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Europe, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.europe:1"}}static RegionNorthAmerica(){return{name:"RegionNorthAmerica",const:"cx.region.northAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in North America.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in North America, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.northAmerica:1"}}static RegionSouthAmerica(){return{name:"RegionSouthAmerica",const:"cx.region.southAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in South America.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in South America, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.southAmerica:1"}}static RegionAfrica(){return{name:"RegionAfrica",const:"cx.region.africa:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Africa.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Africa, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.africa:1"}}static RegionAsia(){return{name:"RegionAsia",const:"cx.region.asia:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Asia.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Asia, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.asia:1"}}static RegionOceania(){return{name:"RegionOceania",const:"cx.region.oceania:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Oceania.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Oceania, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.oceania:1"}}static RegionAntarctica(){return{name:"RegionAntarctica",const:"cx.region.antarctica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing'), provided that the Data Consumer ensures that its Affiliated Companies comply with the terms of this Agreement concluded via the Registered Connector (RC). The registered offices of the relevant Affiliated Companies must be located in Antarctica.",prohibition:"The Data Consumer is not entitled to make the Data available for use by its affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') that are domiciled in Antarctica, unless the Parties have otherwise agreed on a right of sublicensing (either in full or with respect to individual Affiliated Companies) in the referenced bilateral contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"cx.region.antarctica:1"}}static AffiliatesBpnl(){return{name:"AffiliatesBpnl",operandType:"string",pattern:/^BPNL[0-9A-Z]{12}$/,legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by the Affiliated companies within the meaning of Section 15 German Stock Corporation Act ('Affiliated Companies') ('Sublicensing') specified herein, provided that the Data Consumer ensures that such companies and/or its its Affiliated Companies comply with the terms of the Agreement concluded via the Registered Connector (RC).",prohibition:"The Data Consumer is not entitled to make the Data available for use by the companies specified herein ('Sublicensing'), unless the Parties have otherwise agreed on a right to sublicense the Data (either in full or with respect to individual affiliated companies) in the referenced  contract ('cx-policy:ContractReference') or have agreed to this separately."},value:"BPNL0000000003"}}static ManagedLegalEntityRegionAll(){return{name:"ManagedLegalEntityRegionAll",const:"cx.region.all:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC)."},value:"cx.region.all:1"}}static ManagedLegalEntityRegionEurope(){return{name:"ManagedLegalEntityRegionEurope",const:"cx.region.europe:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in Europe."},value:"cx.region.europe:1"}}static ManagedLegalEntityRegionNorthAmerica(){return{name:"ManagedLegalEntityRegionNorthAmerica",const:"cx.region.northAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in North America."},value:"cx.region.northAmerica:1"}}static ManagedLegalEntityRegionSouthAmerica(){return{name:"ManagedLegalEntityRegionSouthAmerica",const:"cx.region.southAmerica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in South America."},value:"cx.region.southAmerica:1"}}static ManagedLegalEntityRegionAfrica(){return{name:"ManagedLegalEntityRegionAfrica",const:"cx.region.africa:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in Africa."},value:"cx.region.africa:1"}}static ManagedLegalEntityRegionAsia(){return{name:"ManagedLegalEntityRegionAsia",const:"cx.region.asia:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in Asia."},value:"cx.region.asia:1"}}static ManagedLegalEntityRegionOceania(){return{name:"ManagedLegalEntityRegionOceania",const:"cx.region.oceania:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in Oceania."},value:"cx.region.oceania:1"}}static ManagedLegalEntityRegionAntarctica(){return{name:"ManagedLegalEntityRegionAntarctica",const:"cx.region.antarctica:1",operandType:"string",legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use by those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') ('Sublicensing'), provided that the Data Consumer ensures that such companies comply with the terms of the Agreement concluded via the Registered Connector (RC). The registered offices of such managed companies must be located in Antarctica."},value:"cx.region.antarctica:1"}}static ManagedLegalEntityBpnl(){return{name:"ManagedLegalEntityBpnl",operandType:"string",pattern:/^BPNL[0-9A-Z]{12}$/,legalText:{permission:"The Data Provider permits the Data Consumer to make the Data available for use to the companies specified herein ('Sublicensing'), for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard CX-0074), provided that the Data Consumer ensures that such managed companies comply with the terms of the Agreement concluded via the Registered Connector (RC)."},value:"BPNL0000000004"}}static DataFrequencyOnce(){return{name:"DataFrequencyOnce",const:"cx.dataFrequency.once:1",operandType:"string",legalText:{permission:"This Agreement concluded via the Registered Connector (RC). applies both to a one-time, time-limited data exchange as well as to sequential data exchanges under similar conditions, potentially also in varying quantities (Data as a Service)."},value:"cx.dataFrequency.once:1"}}static DataFrequencyUnlimited(){return{name:"DataFrequencyUnlimited",const:"cx.dataFrequency.unlimited:1",operandType:"string",legalText:{permission:"This Agreement concluded via the Registered Connector (RC). applies to the multiple or repeated exchange of similar Data at different times and in different quantities within the scope of the selected Use Case."},value:"cx.dataFrequency.unlimited:1"}}static VersionChangesMinor(){return{name:"VersionChangesMinor",const:"cx.versionChanges.minor:1",operandType:"string",legalText:{permission:"The Agreement concluded via the Registered Connector (RC) covers only the exchange of Data effected on the basis of the major API version (as specified in the dataset attribute base-URL), the major Asset-Version (dataset attribute cx-common:version), and/or the major Aspect Model Version as applicable at the time of concluding the Agreement. The Agreement concluded via the RC must be renegotiated in the event of any change to at least one of these major versions. The Agreement does not need to be renegotiated in the event of any change to one of these minor versions. The definitions of major and minor version is based on Semantic Versioning (https://semver.org/)."},value:"cx.versionChanges.minor:1"}}static VersionChangesMajor(){return{name:"VersionChangesMajor",const:"cx.versionChanges.major:1",operandType:"string",legalText:{permission:"The Agreement concluded via the Registered Connector (RC) covers any data exchange, which shall be effected via the API specified by the dataset attribute dct:type, irrespective of whether the API version applicable at the time of contract conclusion (as part of the dataset attribute base-URL), the Asset Version (dataset attribute cx-common:version), or the Aspect Model version changes."},value:"cx.versionChanges.major:1"}}static DataDeletion(){return{name:"DataDeletion",const:"cx.data.deletion:1",operandType:"string",legalText:{permission:"Upon expiry of the period of use (in accordance with cx-policy:DataUsageEnd) as well as in the event of termination, the Data Consumer shall be obliged to delete the Data (including all copies in backup systems that can be deleted with reasonable effort) from all systems and storage media and, upon request, confirm this to the Data Provider in text form. The foregoing obligation shall apply accordingly to the extent that the Data Consumer is permitted to provide the data to Affiliated Companies (in accordance with cx-policy:affiliates.*) or to companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard CX-0076) (in accordance with cx-policy:contractingCompany.*). The Data Consumer is entitled to make and retain a copy of the Data for as long as necessary to safeguard legitimate interests vis-\xE0-vis the Data Provider - particularly for the purpose of demonstrating breaches of contractual obligations arising from the provision of the Data."},value:"cx.data.deletion:1"}}static DataKeeping(){return{name:"DataKeeping",const:"cx.data.keeping:1",operandType:"string",legalText:{permission:"Upon expiry of the period of use (in accordance with cx-policy:dataUsageEnd) as well as in the event of termination, the Data Consumer shall not be obliged to delete the Data (including all copies in backup systems that can be deleted with reasonable effort) from all systems and storage media. The foregoing shall apply accordingly to the extent that the Data Consumer is permitted to provide the Data to Affiliated Companies (in accordance with leftOperand cx-policy:affiliates.*) or to companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard CX-0076) (in accordance with cx-policy:contractingCompany.*). In such case, the Data Consumer shall be entitled to continue using the Data exclusively within the scope of the purpose limitation and other conditions of the contract. The Data Consumer shall take all necessary measures to protect the Data against unauthorised access by third parties."},value:"cx.data.keeping:1"}}static ConfidentialityMeasures(){return{name:"ConfidentialityMeasures",const:"cx.confidentiality.measures:1",operandType:"string",legalText:{permission:"The Data Consumer is obliged to take all appropriate technical and organisational measures to protect the Confidential Information of the Data Provider, in order to prevent unauthorised disclosure to third parties. The Data Consumer is also obliged to inform the Data Provider without undue delay about any unauthorised disclosure of Confidential Information."},value:"cx.confidentiality.measures:1"}}static SharingAffiliates(){return{name:"SharingAffiliates",const:"cx.sharing.affiliates:1",operandType:"string",legalText:{permission:"The Data Consumer may only disclose Confidential Information to Affiliated Companies if and to the extent that the Data Provider has expressly permitted such disclosure in accordance with the Data Exchange Governance or the cx-policy:affiliates.*. The Data Consumer may only disclose Confidential Information to Affiliated Companies to the extent that the Affiliated Companies and their employees are bound to Confidentiality Obligations at least equivalent to those set forth in this Agreement. Furthermore, access to and use of the relevant Data must be restricted to those employees of the Affiliated Company who require the Data in order to exercise the agreed usage rights ('need to know')."},value:"cx.sharing.affiliates:1"}}static SharingManagedLegalEntity(){return{name:"SharingManagedLegalEntity",const:"cx.sharing.managedLegalEntity:1",operandType:"string",legalText:{permission:"The Data Consumer may only disclose Confidential Information to those companies for which the Data Consumer acts in an 'is managed by' relationship (within the meaning of the Catena-X Standard 'CX-0074') if and to the extent those companies are expressly listed in cx-policy:managedLegalEntity.*. The Data Consumer may only disclose Confidential Information to those Companies to the extent that those Companies and their employees are bound to Confidentiality Obligations at least equivalent to those set forth in this Agreement. Furthermore, access to and use of the relevant Data must be restricted to those employees of the Company who require the Data in order to exercise the agreed usage rights ('need to know')."},value:"cx.sharing.managedLegalEntity:1"}}static ExclusiveUsageDataConsumer(){return{name:"ExclusiveUsageDataConsumer",const:"cx.exclusiveUsage.dataConsumer:1",operandType:"string",legalText:{permission:"The Data Consumer has the exclusive right to use the Data within the scope of the agreed purposes (cx-policy:UsagePurpose). The Data Provider\u2019s right to use the Data it has provided for its own internal purposes remains unaffected."},value:"cx.exclusiveUsage.dataConsumer:1"}}static WarrantyNone(){return{name:"WarrantyNone",const:"cx.warranty.none:1",operandType:"string",legalText:{permission:"The provision of the Data is made with the exclusion of any warranty for material defects and defects in title, unless the Data Provider fraudulently conceals such a defect."},value:"cx.warranty.none:1"}}static WarrantyContractReference(){return{name:"WarrantyContractReference",const:"cx.warranty.contractReference:1",operandType:"string",legalText:{permission:"The provision of the Data is subject to the warranty for material defects and defects in title as agreed in the description of the subject matter of performance according to the referenced contract (leftOperand: ContractReference)."},value:"cx.warranty.contractReference:1"}}static WarrantyDataQualityIssues(){return{name:"WarrantyDataQualityIssues",const:"cx.warranty.dataQualityIssues:1",operandType:"string",legalText:{permission:"In the event of a material deviation from the contractually agreed data quality, the Data Provider shall be entitled to (i) demand the rectification of defects by provision of Data in the quality owed, (ii) terminate the contract in the event of failure to remedy the defect, and (iii) claim damages in accordance with the liability provisions set out below."},value:"cx.warranty.dataQualityIssues:1"}}static WarrantyDurationMonths(){return{name:"WarrantyDurationMonths",operandType:"integer",legalText:{permission:"The provision of the Data is subject to a warranty for material and legal defects for a period specified herein in months."},value:"12"}}static WarrantyContractEndDate(){return{name:"WarrantyContractEndDate",const:"cx.warranty.contractEndDate:1",operandType:"string",legalText:{permission:"The provision of the Data is subject to a warranty for material defects and defects in title until the end of the Agreement concluded via the Registered Connector (RC)."},value:"cx.warranty.contractEndDate:1"}}static GrossNegligence(){return{name:"GrossNegligence",const:"cx.grossNegligence:1",operandType:"string",legalText:{permission:"The Data Provider's liability is limited to intent and gross negligence. The same applies in regard to the Data Provider's liability for its legal representatives, employees and authorised representatives."},value:"cx.grossNegligence:1"}}static SlightNegligence(){return{name:"SlightNegligence",const:"cx.slightNegligence:1",operandType:"string",legalText:{permission:"The liability of the Data Provider in cases of ordinary negligence shall be limited to x, as individually agreed by the Parties in the referenced bilateral agreement (cx-policy:ContractReference). The foregoing limitation of liability shall not apply in the event of mandatory statutory liability (in particular under the German Product Liability Act), nor in the event of the assumption of a guarantee or for any culpably caused bodily injury."},value:"cx.slightNegligence:1"}}static LocationString(){return{name:"LocationString",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the Agreement concluded via the Registered Connector (RC) shall be at the competent court at the location specified herein."},value:"Stuttgart"}}static LocationDataConsumer(){return{name:"LocationDataConsumer",const:"cx.location.dataConsumer:1",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the contract concluded via the Registered Connector (RC) shall be at the competent court at the registered office of the Data Consumer."},value:"cx.location.dataConsumer:1"}}static LocationContractReference(){return{name:"LocationContractReference",const:"cx.location.contractReference:1",operandType:"string",legalText:{permission:"The exclusive venue for all disputes arising from the Agreement concluded via the Registered Connector (RC) shall correspond to the venue specified in the referenced contract (as referenced in cx-policy:ContractReference)."},value:"cx.location.contractReference:1"}}static PrecedenceContractReference(){return{name:"PrecedenceContractReference",const:"cx.precedence.contractReference:1",operandType:"string",legalText:{permission:"The Parties are free to agree on additional provisions in a separately referenced contract, in addition to the arrangements made via the Registered Connector (RC) Process (referenced in leftOperand: contractReference). In the event of any conflict between the provisions agreed via the RC Process and those of the referenced contract, the provisions of the contract shall take precedence."},value:"cx.precedence.contractReference:1"}}static PrecedenceRcAgreement(){return{name:"PrecedenceRcAgreement",const:"cx.precedence.rcAgreement:1",operandType:"string",legalText:{permission:"The Parties are free to agree on additional provisions in a referenced contract (as referenced in leftOperand: contractReference) in addition to the arrangements agreed via the Registered Connector (RC) Process. In such case, the provisions agreed via the RC Process shall take precedence over the provisions of the referenced contract."},value:"cx.precedence.rcAgreement:1"}}static DataUsageEndDurationDays(){return{name:"DataUsageEndDurationDays",operandType:"integer",legalText:{permission:"The Data Provider shall make the Data available for the usage period specified herein, measured in days, in accordance with the usage conditions set out in cx-policy:UsagePurpose, commencing from the moment of concluding the Agreement via the Registered Connector (RC). Upon expiry of the permitted usage period, the Data Consumer shall no longer be entitled to use the Data, and shall delete the Data from all systems and storage media in order to prevent any further use, unless the Data Consumer has received the same Data under another valid contract. The Agreement shall terminate automatically upon expiry of the usage period for the Data, without the need for a separate notice of termination."},value:"60"}}static DataUsageEndDate(){return{name:"DataUsageEndDate",operandType:"string",pattern:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(Z|[+-]\d{2}:\d{2})$/,legalText:{permission:"The Data Provider shall make the Data available with a usage period permitted until the end date specified herein, in accordance with the usage conditions specified in cx-policy:UsagePurpose, commencing from the second the Agreement is concluded via the Registered Connector (RC). Upon expiry of the usage period, the Data Consumer shall no longer be entitled to use the Data and shall delete the Data in order to prevent any further Use, unless the Data Consumer has received the same Data under another still valid contract. The Agreement shall terminate upon expiry of the usage period of the Data without the need for a separate notice of termination."},value:"2025-12-31T23:59:59Z"}}static DataUsageEndDefinition(){return{name:"DataUsageEndDefinition",const:"cx.dataUsageEnd.unlimited:1",operandType:"string",legalText:{permission:"The Data Provider shall make the Data available for an unlimited period of use in accordance with the usage conditions specified in cx-policy:UsagePurpose, commencing from the second the Agreement is concluded via the Registered Connector (RC)."},value:"cx.dataUsageEnd.unlimited:1"}}static ThirdPartyForbidden(){return{name:"ThirdPartyForbidden",const:"cx.thirdParty.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from making the Data available to third parties, either temporarily or permanently, from reproducing, distributing, or publicly displaying the Data; this also applies insofar as the data constitutes essential or non-essential parts of a database (Section 87a German Act on Copyright and Related Rights (UrhG)), unless otherwise individually agreed between the Parties in the usage purposes for a specific use case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference). The Data Provider\u2019s right to reproduce the Data provided by it for internal purposes remains unaffected."},value:"cx.thirdParty.forbidden:1"}}static ManipulationForbidden(){return{name:"ManipulationForbidden",const:"cx.manipulation.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from modifying the Data, separating the associated metadata from the Data, or otherwise altering it, or from attempting any of the aforementioned actions or permitting a third party to perform such actions, unless otherwise individually agreed between the parties in the usage purposes for a specific use case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference). The Data Provider\u2019s right to reproduce the Data provided by it for internal purposes remains unaffected."},value:"cx.manipulation.forbidden:1"}}static DerivationsForbidden(){return{name:"DerivationsForbidden",const:"cx.derivations.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from creating derivative works from the Data (including making substantial changes to any databases provided within the meaning of Section 87a para. 1 sentence 2 German Act on Copyright and Related Rights (UrhG), unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.derivations.forbidden:1"}}static ExtraordinaryAnalyticsForbidden(){return{name:"ExtraordinaryAnalyticsForbidden",const:"cx.extraordinaryAnalytics.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited, insofar as the Data constitutes insignificant parts of a database within the meaning of Section 87b para. 1 sentence 1 German Act on Copyright and Related Rights (UrhG), from repeatedly and systematically carrying out actions that conflict with the normal evaluation of a database or unreasonably impair the legitimate interests of the Data Provider (Section 87b para. 1 sentence 2 UrhG), unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.extraordinaryAnalytics.forbidden:1"}}static DataProviderRemovalForbidden(){return{name:"DataProviderRemovalForbidden",const:"cx.dataProviderRemoval.forbidden:1",operandType:"string",legalText:{prohibition:"The Data Consumer is prohibited from removing the company identifiers and/or other references to the Data Provider contained in the Data and/or the associated metadata or databases, unless otherwise individually agreed between the Parties in the usage purposes for a specific Use Case (cx-policy:UsagePurpose) or in the referenced bilateral contract (cx-policy:ContractReference)."},value:"cx.dataProviderRemoval.forbidden:1"}}},ae=class{static DataProvisioningEndDurationDaysConstraint(){return new oe("DataProvisioningEndDurationDays",["eq"],A.DataProvisioningEndDurationDays())}static DataProvisioningEndDateConstraint(){return new oe("DataProvisioningEndDate",["eq"],A.DataProvisioningEndDate())}static FrameworkAgreementConstraint(){return new oe("FrameworkAgreement",["eq"],A.DataExchangeGovernance())}static MembershipConstraint(){return new oe("Membership",["eq"],A.MembershipActive())}static BusinessPartnerNumberConstraint(){return new oe("BusinessPartnerNumber",["isAnyOf","isNoneOf"],[A.BusinessPartnerNumber()])}static BusinessPartnerGroupConstraint(){return new oe("BusinessPartnerGroup",["isAnyOf","isNoneOf"],[A.BusinessPartnerGroup()])}static UsagePurposeConstraint(){return new oe("UsagePurpose",["isAnyOf"],[A.CoreLegalRequirementForThirdParty(),A.CoreIndustrycore(),A.CoreQualityNotifications(),A.CoreDigitalTwinRegistry(),A.PfcBase(),A.QualityBase(),A.DcmBase(),A.PurisBase(),A.CircularDpp(),A.CircularSmc(),A.CircularMarketplace(),A.CircularMaterialaccounting(),A.BpdmGateUpload(),A.BpdmGateDownload(),A.BpdmPool(),A.BpdmVasCountryrisk(),A.BpdmVasDataqualityUpload(),A.BpdmVasDataqualityDownload(),A.BpdmVasBdvUpload(),A.BpdmVasFpdUpload(),A.BpdmVasFpdDownload(),A.BpdmVasSwdUpload(),A.BpdmVasSwdDownload(),A.BpdmVasNpsUpload(),A.BpdmVasNpsDownload(),A.CcmBase(),A.BpdmPoolAll(),A.LogisticsBase(),A.UsagePurposeIndividual()])}static ContractReferenceConstraint(){return new oe("ContractReference",["isAllOf"],[A.ContractReference()])}static AffiliatesRegionConstraint(){return new oe("AffiliatesRegion",["isAnyOf"],[A.RegionAll(),A.RegionEurope(),A.RegionNorthAmerica(),A.RegionSouthAmerica(),A.RegionAfrica(),A.RegionAsia(),A.RegionOceania(),A.RegionAntarctica()])}static AffiliatesBpnlConstraint1(){return new oe("AffiliatesBpnl",["isAnyOf"],[A.AffiliatesBpnl()])}static ManagedLegalEntityRegionConstraint(){return new oe("ManagedLegalEntityRegion",["isAnyOf"],[A.ManagedLegalEntityRegionAll(),A.ManagedLegalEntityRegionEurope(),A.ManagedLegalEntityRegionNorthAmerica(),A.ManagedLegalEntityRegionSouthAmerica(),A.ManagedLegalEntityRegionAfrica(),A.ManagedLegalEntityRegionAsia(),A.ManagedLegalEntityRegionOceania(),A.ManagedLegalEntityRegionAntarctica()])}static ManagedLegalEntityBpnlConstraint(){return new oe("ManagedLegalEntityBpnl",["isAnyOf"],[A.ManagedLegalEntityBpnl()])}static DataFrequencyConstraint(){return new oe("DataFrequency",["eq"],[A.DataFrequencyOnce(),A.DataFrequencyUnlimited()])}static VersionChangesConstraint(){return new oe("VersionChanges",["eq"],[A.VersionChangesMinor(),A.VersionChangesMajor()])}static ContractTerminationConstraint(){return new oe("ContractTermination",["eq"],[A.DataDeletion(),A.DataKeeping()])}static ConfidentialInformationMeasuresConstraint(){return new oe("ConfidentialInformationMeasures",["eq"],A.ConfidentialityMeasures())}static ConfidentialInformationSharingConstraint(){return new oe("ConfidentialInformationSharing",["isAnyOf"],[A.SharingAffiliates(),A.SharingManagedLegalEntity()])}static ExclusiveUsageConstraint(){return new oe("ExclusiveUsage",["eq"],A.ExclusiveUsageDataConsumer())}static WarrantyConstraint(){return new oe("Warranty",["eq"],[A.WarrantyNone(),A.WarrantyContractReference(),A.WarrantyDataQualityIssues()])}static WarrantyDurationConstraint(){return new oe("WarrantyDurationMonths",["eq"],A.WarrantyDurationMonths())}static WarrantyConstraint1(){return new oe("WarrantyDefinition",["eq"],A.WarrantyContractEndDate())}static LiabilityConstraint(){return new oe("Liability",["eq"],[A.GrossNegligence(),A.SlightNegligence()])}static JurisdictionLocationConstraint(){return new oe("JurisdictionLocation",["eq"],A.LocationString())}static JurisdictionLocationReferenceConstraint(){return new oe("JurisdictionLocationReference",["eq"],[A.LocationDataConsumer(),A.LocationContractReference()])}static PrecedenceConstraint(){return new oe("Precedence",["eq"],[A.PrecedenceContractReference(),A.PrecedenceRcAgreement()])}static DataUsageEndDurationDaysConstraint(){return new oe("DataUsageEndDurationDays",["eq"],A.DataUsageEndDurationDays())}static DataUsageEndDateConstraint(){return new oe("DataUsageEndDate",["eq"],A.DataUsageEndDate())}static DataUsageEndDefinitionConstraint(){return new oe("DataUsageEndDefinition",["eq"],A.DataUsageEndDefinition())}static UsageRestrictionConstraint(){return new oe("UsageRestriction",["isAllOf"],[A.ThirdPartyForbidden(),A.ManipulationForbidden(),A.DerivationsForbidden(),A.ExtraordinaryAnalyticsForbidden(),A.DataProviderRemovalForbidden()])}},An=class{static AccessPermissions(){return[ae.FrameworkAgreementConstraint(),ae.MembershipConstraint(),ae.BusinessPartnerNumberConstraint(),ae.BusinessPartnerGroupConstraint()]}static UsagePermissions(){return[ae.FrameworkAgreementConstraint(),ae.MembershipConstraint(),ae.UsagePurposeConstraint(),ae.ContractReferenceConstraint(),ae.AffiliatesRegionConstraint(),ae.AffiliatesBpnlConstraint1(),ae.ManagedLegalEntityRegionConstraint(),ae.ManagedLegalEntityBpnlConstraint(),ae.DataFrequencyConstraint(),ae.VersionChangesConstraint(),ae.ContractTerminationConstraint(),ae.ConfidentialInformationMeasuresConstraint(),ae.ConfidentialInformationSharingConstraint(),ae.ExclusiveUsageConstraint(),ae.WarrantyConstraint(),ae.WarrantyDurationConstraint(),ae.WarrantyConstraint1(),ae.LiabilityConstraint(),ae.JurisdictionLocationConstraint(),ae.JurisdictionLocationReferenceConstraint(),ae.PrecedenceConstraint(),ae.DataUsageEndDurationDaysConstraint(),ae.DataUsageEndDateConstraint(),ae.DataUsageEndDefinitionConstraint()]}static UsageObligations(){return[ae.DataProvisioningEndDurationDaysConstraint(),ae.DataProvisioningEndDateConstraint()]}static UsageProhibitions(){return[ae.AffiliatesRegionConstraint(),ae.AffiliatesBpnlConstraint1(),ae.UsageRestrictionConstraint()]}},sa=class{static AccessTemplates(){return An.AccessPermissions().map(t=>{let n=t,r=`Permission - ${He(n.leftOperand)}`,i=new lo(r),o=new br;return o.name=He(n.leftOperand),o.action="access",o.constraints.push(t),i.policy.permissions.push(o),i.policy.type="access",i})}static UsageTemplates(){let t=An.UsagePermissions().map(i=>{let o=i,s=`Permission - ${He(o.leftOperand)}`,a=new lo(s),l=new br;return l.name=He(o.leftOperand),l.constraints.push(i),a.policy.permissions.push(l),a}),n=An.UsageObligations().map(i=>{let o=i,s=`Obligation - ${He(o.leftOperand)}`,a=new lo(s),l=new br;return l.name=He(o.leftOperand),l.constraints.push(i),a.policy.obligations.push(l),a}),r=An.UsageProhibitions().map(i=>{let o=i,s=`Prohibition - ${He(o.leftOperand)}`,a=new lo(s),l=new br;return l.name=He(o.leftOperand),l.constraints.push(i),a.policy.prohibitions.push(l),a});return[...t,...n,...r]}};var kv=(e,t)=>t.name;function s2(e,t){if(e&1){let n=ce();v(0,"div",5)(1,"li",7),V("click",function(){let i=J(n).$implicit,o=T();return Z(o.onRuleSelectionChange(i,"Permission"))}),v(2,"a"),E(3),C()(),v(4,"button",8),V("click",function(){let i=J(n).$implicit,o=T();return Z(o.removeRule(i,"Permission"))}),v(5,"span",4),E(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=T();D(2),Kr("text-primary",n===r.currentPermission),D(),ge(n.name)}}function a2(e,t){if(e&1){let n=ce();v(0,"div",5)(1,"li",7),V("click",function(){let i=J(n).$implicit,o=T(2);return Z(o.onRuleSelectionChange(i,"Obligation"))}),v(2,"a"),E(3),C()(),v(4,"button",8),V("click",function(){let i=J(n).$implicit,o=T(2);return Z(o.removeRule(i,"Obligation"))}),v(5,"span",4),E(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=T(2);D(2),Kr("text-primary",n===r.currentPermission),D(),ge(n.name)}}function l2(e,t){if(e&1){let n=ce();v(0,"div",5)(1,"li",7),V("click",function(){let i=J(n).$implicit,o=T(2);return Z(o.onRuleSelectionChange(i,"Prohibition"))}),v(2,"a"),E(3),C()(),v(4,"button",8),V("click",function(){let i=J(n).$implicit,o=T(2);return Z(o.removeRule(i,"Prohibition"))}),v(5,"span",4),E(6,"delete"),C()()()}if(e&2){let n=t.$implicit,r=T(2);D(2),Kr("text-primary",n===r.currentPermission),D(),ge(n.name)}}function c2(e,t){if(e&1){let n=ce();v(0,"li")(1,"h2",2)(2,"span"),E(3,"Obligation(s)"),C(),v(4,"button",3),V("click",function(){J(n);let i=T();return Z(i.addRule("Obligation"))}),v(5,"span",4),E(6,"add"),C()()(),v(7,"ul"),xe(8,a2,7,3,"div",5,kv),C()(),v(10,"li")(11,"h2",2)(12,"span"),E(13,"Prohibition(s)"),C(),v(14,"button",3),V("click",function(){J(n);let i=T();return Z(i.addRule("Prohibition"))}),v(15,"span",4),E(16,"add"),C()()(),v(17,"ul"),xe(18,l2,7,3,"div",5,kv),C()()}if(e&2){let n=T();D(8),Se(n.policyConfig.policy.obligations),D(10),Se(n.policyConfig.policy.prohibitions)}}function u2(e,t){if(e&1){let n=ce();v(0,"app-permission",9),V("permissionChange",function(){J(n);let i=T();return Z(i.onRuleChange())}),C()}if(e&2){let n=T();j("permission",n.currentPermission)("constraints",n.constraintTemplates)}}var Jf=class e{_policyConfig;currentPermission;constraintTemplates;get policyConfig(){return this._policyConfig}set policyConfig(t){this._policyConfig=t,this.currentPermission=this._selectFirstRule()}policyChange=new le;_selectFirstRule(){if(this.policyConfig.policy.permissions.length>0)return this.changeConstraintTemplates("Permission"),this.policyConfig.policy.permissions[0];if(this.policyConfig.policy.obligations.length>0)return this.changeConstraintTemplates("Obligation"),this.policyConfig.policy.obligations[0];if(this.policyConfig.policy.prohibitions.length>0)return this.changeConstraintTemplates("Prohibition"),this.policyConfig.policy.prohibitions[0]}changeConstraintTemplates(t){switch(this.policyConfig.policy.type){case"access":{this.constraintTemplates=An.AccessPermissions();break}case"use":switch(t){case"Permission":{this.constraintTemplates=An.UsagePermissions();break}case"Obligation":{this.constraintTemplates=An.UsageObligations();break}case"Prohibition":{this.constraintTemplates=An.UsageProhibitions();break}}}}addRule(t){let n=new br(`New ${t}`);switch(n.action=this.policyConfig.policy.type,t){case"Permission":this.policyConfig.policy.permissions.push(n);break;case"Obligation":this.policyConfig.policy.obligations.push(n);break;case"Prohibition":this.policyConfig.policy.prohibitions.push(n);break}this.onRuleSelectionChange(n,t),this.onRuleChange()}onRuleChange(){this.policyChange.emit(this.policyConfig)}onRuleSelectionChange(t,n){this.currentPermission=t,this.changeConstraintTemplates(n)}removeRule(t,n){switch(n){case"Permission":this.policyConfig.policy.permissions=this.policyConfig.policy.permissions.filter(r=>r!=t);break;case"Obligation":this.policyConfig.policy.obligations=this.policyConfig.policy.obligations.filter(r=>r!=t);break;case"Prohibition":this.policyConfig.policy.prohibitions=this.policyConfig.policy.prohibitions.filter(r=>r!=t);break}if(t==this.currentPermission)switch(n){case"Permission":this.currentPermission=this.policyConfig.policy.permissions[0]??this._selectFirstRule();break;case"Obligation":this.currentPermission=this.policyConfig.policy.obligations[0]??this._selectFirstRule();break;case"Prohibition":this.currentPermission=this.policyConfig.policy.prohibitions[0]??this._selectFirstRule();break}this.policyChange.emit(this.policyConfig)}Action=wr;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Be({type:e,selectors:[["app-policy-builder"]],inputs:{policyConfig:"policyConfig"},outputs:{policyChange:"policyChange"},decls:14,vars:2,consts:[[1,"w-full","h-full","grid","grid-cols-[auto_1fr]","gap-4","pb-4"],[1,"menu","bg-base-100","rounded-2xl","pr-3"],[1,"menu-title","flex","justify-between","pr-0"],["title","Add permission",1,"btn","btn-primary","btn-outline","btn-xs","btn-soft","ml-2",3,"click"],[1,"material-symbols-rounded","!text-[1.2rem]"],[1,"group","flex","flex-row","justify-between","flex-nowrap","items-center"],["class","max-w-full",3,"permission","constraints","permissionChange",4,"ngIf"],[1,"w-40","mr-2",3,"click"],["title","Delete permission",1,"btn","btn-error","btn-outline","btn-xs","btn-soft","invisible","group-hover:visible",3,"click"],[1,"max-w-full",3,"permissionChange","permission","constraints"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"ul",1)(2,"li")(3,"h2",2)(4,"span"),E(5,"Permission(s)"),C(),v(6,"button",3),V("click",function(){return r.addRule("Permission")}),v(7,"span",4),E(8,"add"),C()()(),v(9,"ul"),xe(10,s2,7,3,"div",5,kv),C()(),q(12,c2,20,0),C(),q(13,u2,1,2,"app-permission",6),C()),n&2&&(D(10),Se(r.policyConfig.policy.permissions),D(2),ne(r.policyConfig.policy.type===r.Action.Use?12:-1),D(),j("ngIf",r.currentPermission&&r.constraintTemplates))},dependencies:[Qu,Wf,Dn],styles:[".policy-builder-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"]})};var d2=["http://www.w3.org/ns/odrl.jsonld"],f2={"@vocab":"https://w3id.org/edc/v0.0.1/ns/"},p2={"@context":{},"@type":"PolicyDefinition","@id":"{{POLICY_ID}}",policy:{}},_x={"@type":"Set"},h2=Object.assign(p2,{policy:B(I({},_x),{permission:[]})}),Zf=class{policyService;constructor(t){this.policyService=t}toJsonLd(t){let n=t.policy.permissions.map(this.mapPermission.bind(this)),r=t.policy.type==="use"?t.policy.obligations.map(this.mapPermission.bind(this)):void 0,i=t.policy.type==="use"?t.policy.prohibitions.map(this.mapPermission.bind(this)):void 0,o=this.policyService.namespacesFor(t),s=this.policyService.contextsFor(t),a=[...d2,...s,Object.assign(f2,o)];return Object.assign(h2,{"@context":a,policy:B(I({},_x),{permission:n,obligation:r,prohibition:i})})}mapPermission(t){let n;if(t.constraints.length>1){let r=new ao;t.constraints.forEach(i=>r.constraints.push(i)),n=[r]}else n=t.constraints;return{action:t.action.toString(),constraint:n.map(r=>this.mapConstraint(r))}}mapConstraint(t){if(t instanceof oe)return{leftOperand:t.leftOperand.toString(),operator:t.selectedOperator.toString(),rightOperand:t.mapRightOperand()};if(t instanceof ao){let n={};return n[t.operator.toString().toLowerCase()]=t.constraints.map(this.mapConstraint.bind(this)),n}return{}}};var Qf=class e{constructor(t){this.policyService=t;this.formatters.set("Plain",new Zf(t))}formatters=new Map;toJsonLd(t,n="Prefixed"){let r=this.formatters.get(n);if(r!=null)return r.toJsonLd(t);throw new Error("Formatter not found")}formatPolicy(t){return JSON.stringify(t,null,2)}static \u0275fac=function(n){return new(n||e)(U(si))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})};var m2=(e,t)=>t.policy,bx=(e,t)=>t.name,y2=(e,t)=>t.leftOperand;function v2(e,t){if(e&1&&(v(0,"option",8),E(1),C()),e&2){let n=t.$implicit;j("ngValue",n),D(),ge(n.name)}}function C2(e,t){if(e&1&&he(0,"p",25),e&2){let n=T(2).$implicit;j("innerHTML",n.legalText.permission,Ru)}}function _2(e,t){if(e&1&&q(0,C2,1,1,"p",25),e&2){let n=T().$implicit;ne(n.legalText!=null&&n.legalText.permission?0:-1)}}function b2(e,t){if(e&1&&he(0,"p",25),e&2){let n=T(2).$implicit;j("innerHTML",n.legalText.obligation,Ru)}}function w2(e,t){if(e&1&&q(0,b2,1,1,"p",25),e&2){let n=T().$implicit;ne(n.legalText!=null&&n.legalText.obligation?0:-1)}}function D2(e,t){if(e&1&&he(0,"p",25),e&2){let n=T(2).$implicit;j("innerHTML",n.legalText.prohibition,Ru)}}function E2(e,t){if(e&1&&q(0,D2,1,1,"p",25),e&2){let n=T().$implicit;ne(n.legalText!=null&&n.legalText.prohibition?0:-1)}}function I2(e,t){if(e&1&&(v(0,"div")(1,"span"),E(2,"Additional Information: "),C(),v(3,"span",26),E(4),C()()),e&2){let n=T().$implicit;D(4),ge(n.legalText.additionalInformation)}}function T2(e,t){if(e&1&&(v(0,"div")(1,"span"),E(2,"Right Operand: "),C(),v(3,"span",24),E(4),C(),v(5,"div"),q(6,_2,1,1)(7,w2,1,1)(8,E2,1,1)(9,I2,5,1,"div"),C()()),e&2){let n,r=t.$implicit,i=T(3).$implicit,o=T(2);D(4),ge(o.camelCaseToWords(r.name)),D(2),ne((n=i)==="permissions"?6:n==="obligations"?7:n==="prohibitions"?8:-1),D(3),ne(r.legalText!=null&&r.legalText.additionalInformation?9:-1)}}function x2(e,t){if(e&1&&(v(0,"div")(1,"p"),E(2),C(),xe(3,T2,10,3,"div",null,bx),C()),e&2){let n=t.$implicit,r=T(4);D(2),Cn("Constraint: ",r.camelCaseToWords(n.leftOperand),""),D(),Se(r.getRightOperandArray(n.rightOperandValue))}}function S2(e,t){if(e&1&&(v(0,"div",23)(1,"p"),E(2),C(),xe(3,x2,5,1,"div",null,y2),C()),e&2){let n=t.$implicit,r=T(3);D(2),Cn("Name: ",n.name,""),D(),Se(r.getAtomicConstraints(n.constraints))}}function M2(e,t){if(e&1&&(v(0,"p",22),E(1),C(),xe(2,S2,5,1,"div",23,bx)),e&2){let n=t.$implicit,r=T(2);D(),ge(n),D(),Se(r.getPolicyPermission(n))}}function A2(e,t){if(e&1&&(v(0,"div",18)(1,"p",20),E(2,"Legal Information"),C(),v(3,"div",21),xe(4,M2,4,1,null,null,Vn),C()()),e&2){let n=T();D(4),Se(n.legalTextKinds)}}function N2(e,t){if(e&1&&(mr(0),v(1,"pre")(2,"code"),E(3),C()(),yr()),e&2){let n=t.$implicit,r=t.index;D(),Ft("data-prefix",r+1),D(2),ge(n)}}function O2(e,t){if(e&1&&(v(0,"div",19),q(1,N2,4,2,"ng-container",27),C()),e&2){let n=T();D(),j("ngForOf",n.text.split(`
`))}}var Xf=class e{constructor(t,n){this.formatService=t;this.policyService=n;this.currentFormat="Plain",this.templates=sa.UsageTemplates(),this.updateLegalTextKinds("use"),this.currentTemplate=this.templates[0],this.outputFormats=n.supportedOutput(),this.updateJsonText(this.currentTemplate,this.currentFormat)}text;outputFormats;policyType="use";templates;currentFormat;currentTemplate;showLegalText=!0;legalTextKinds=[];updateLegalTextKinds(t){t==="use"?this.legalTextKinds=["permissions","obligations","prohibitions"]:this.legalTextKinds=["permissions"]}onTypeChange(t){this.policyType=t,t==="use"?this.templates=sa.UsageTemplates():this.templates=sa.AccessTemplates(),this.currentTemplate=this.templates[0],this.updateLegalTextKinds(t),this.updateJsonText(this.currentTemplate,this.currentFormat)}onConfigSelectionChange(t){this.updateJsonText(t,this.currentFormat)}onConfigChange(t){this.updateJsonText(t,this.currentFormat)}updateJsonText(t,n){let r=this.formatService.toJsonLd(t,n);this.text=this.formatService.formatPolicy(r)}copyPolicyToClipboard(){return b(this,null,function*(){yield navigator.clipboard.writeText(this.text)})}getPolicyPermission(t){return this.currentTemplate.policy[t]}getAtomicConstraints(t){return t}getRightOperandArray(t){let n=Array.isArray(t)?t:[t],r=new Set;return n.filter(i=>r.has(i.name)?!1:(r.add(i.name),!0))}Action=wr;camelCaseToWords=He;static \u0275fac=function(n){return new(n||e)(P(Qf),P(si))};static \u0275cmp=Be({type:e,selectors:[["app-policy-editor"]],decls:31,vars:8,consts:[[1,"grid","gap-4","grid-cols-1","xl:grid-cols-3","xl:grid-rows-[auto_1fr]","h-full"],[1,"flex","justify-center","items-center","xl:col-span-2","xl:row-span-1","bg-base-300","rounded-2xl","shadow-xl","p-4"],[1,"select","w-full"],[1,"label"],[1,"select","w-full",3,"ngModelChange","ngModel"],[3,"value"],[1,"xl:col-span-2","xl:row-span-1","bg-base-300","rounded-2xl","shadow-xl","overflow-y-auto"],[1,"w-full","h-full","grid","grid-cols-1","grid-rows-[auto_1fr]","gap-4","p-4","pb-0"],[3,"ngValue"],[1,"h-full",3,"policyChange","policyConfig"],[1,"xl:row-span-2","xl:col-start-3","xl:row-start-1","relative","overflow-auto","rounded-2xl","shadow-xl","bg-base-300"],[1,"absolute","top-4","right-4","z-10","tabs","tabs-box","shadow-md","bg-base-100","[&_input]:checked:!bg-primary/8","[&_input]:checked:!text-primary","[&_input]:hover:text-primary"],["data-tip","Show legal information text of constraints.",1,"tooltip-left","tooltip-primary","tooltip"],["type","radio","name","contract-types","aria-label","Legal Text",1,"tab",3,"change","checked"],["data-tip","Show JSONld policy definition.",1,"tooltip-left","tooltip-primary","tooltip"],["type","radio","name","contract-types","aria-label","JSON-LD",1,"tab",3,"change","checked"],["tabindex","0","title","Copy to clipboard",1,"btn","btn-soft","btn-primary","fixed","right-8","bottom-8","z-10","shadow-md",3,"click"],[1,"material-symbols-rounded"],[1,"w-full","h-full","p-6"],[1,"mockup-code","h-full","overflow-auto"],[1,"text-2xl"],[1,"pl-2","pb-16","[&_div]:border-base-content/15","text-base-content/50","[&_div]:border-l-1","[&_div]:ml-1","[&_div]:pl-3"],[1,"text-xl","capitalize","text-base-content","mt-2"],[1,"[&_a]:link","[&_a]:link-secondary"],[1,"font-thin","text-primary"],[1,"text-base-content",3,"innerHTML"],[1,"text-base-content"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),E(4,"Select Policy Type"),C(),v(5,"select",4),Ge("ngModelChange",function(o){return tt(r.policyType,o)||(r.policyType=o),o}),V("ngModelChange",function(o){return r.onTypeChange(o)}),v(6,"option",5),E(7,"Access Policy"),C(),v(8,"option",5),E(9,"Usage Policy"),C()()()(),v(10,"div",6)(11,"div",7)(12,"label",2)(13,"span",3),E(14,"Select Policy Template"),C(),v(15,"select",4),Ge("ngModelChange",function(o){return tt(r.currentTemplate,o)||(r.currentTemplate=o),o}),V("ngModelChange",function(o){return r.onConfigSelectionChange(o)}),xe(16,v2,2,2,"option",8,m2),C()(),v(18,"app-policy-builder",9),V("policyChange",function(o){return r.onConfigChange(o)}),C()()(),v(19,"div",10)(20,"div",11)(21,"div",12)(22,"input",13),V("change",function(){return r.showLegalText=!0}),C()(),v(23,"div",14)(24,"input",15),V("change",function(){return r.showLegalText=!1}),C()()(),v(25,"button",16),V("click",function(){return r.copyPolicyToClipboard()}),v(26,"span",17),E(27,"content_copy"),C(),E(28," Copy JSON-LD "),C(),q(29,A2,6,0,"div",18)(30,O2,2,1,"div",19),C()()),n&2&&(D(5),qe("ngModel",r.policyType),D(),j("value",r.Action.Access),D(2),j("value",r.Action.Use),D(7),qe("ngModel",r.currentTemplate),D(),Se(r.templates),D(2),j("policyConfig",r.currentTemplate),D(4),j("checked",r.showLegalText),D(2),j("checked",!r.showLegalText),D(5),ne(r.showLegalText?29:30))},dependencies:[Jf,Dn,po,ho,Dr,Gn,zn,hs],styles:[".policy-editor[_ngcontent-%COMP%], .policy-editor-card[_ngcontent-%COMP%]{height:100%;width:100%}.policy-editor-container[_ngcontent-%COMP%]{width:90%;margin:20px auto auto}.policy-card-container[_ngcontent-%COMP%]{height:100%;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.policy-split-container[_ngcontent-%COMP%]{column-gap:5px}"]})};var wx=[{path:"",component:Xf}];var Kf=class e{constructor(t){this.http=t}baseHref="/";load(){return b(this,null,function*(){try{this.baseHref=(yield qr(this.http.get("config/APP_BASE_HREF.txt",{responseType:"text"}))).replace(/\n/g,"")}catch{console.debug('No base href config found. Default is "/"')}})}get(){return this.baseHref}static \u0275fac=function(n){return new(n||e)(U(vs))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})},Dx={providers:[qw({eventCoalescing:!0}),Lm(wx),fm(),Hg(()=>N(Kf).load()),{provide:Wu,useFactory:e=>e.get(),deps:[Kf]}]};var Yf=class e{constructor(t){this.http=t}themes=["Dark","Light"];edcConfigs;appConfig;ngOnInit(){this.edcConfigs=qr(this.http.get("config/edc-connector-config.json")),this.appConfig=qr(this.http.get("config/app-config.json"))}static \u0275fac=function(n){return new(n||e)(P(vs))};static \u0275cmp=Be({type:e,selectors:[["app-root"]],decls:1,vars:3,consts:[[3,"appConfig","edcConfigs","themes"]],template:function(n,r){n&1&&he(0,"lib-dashboard-app",0),n&2&&j("appConfig",r.appConfig)("edcConfigs",r.edcConfigs)("themes",r.themes)},dependencies:[Cx],encapsulation:2})};cm(Yf,Dx).catch(e=>console.error(e));
