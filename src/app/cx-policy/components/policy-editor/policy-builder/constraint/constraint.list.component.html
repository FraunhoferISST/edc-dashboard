<!--
  Copyright (c) 2023 Bayerische Motoren Werke Aktiengesellschaft (BMW AG)
  Copyright (c) 2023 Contributors to the Eclipse Foundation

  See the NOTICE file(s) distributed with this work for additional
  information regarding copyright ownership.

  This program and the accompanying materials are made available under the
  terms of the Apache License, Version 2.0 which is available at
  https://www.apache.org/licenses/LICENSE-2.0.

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations
  under the License.

  SPDX-License-Identifier: Apache-2.0
  -->

<ul class="menu bg-base-100 rounded-box w-full">
  <!-- Header mit Add-Button -->
  <li class="flex flex-row justify-between items-center px-4 py-2">
    <span>Constraints</span>
    <div class="dropdown dropdown-left">
      <button tabindex="0" class="btn btn-square btn-primary" title="Add constraint">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
      </button>
      <!-- Dropdown Menu -->
      <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
        <li *ngFor="let constraint of constraints">
          <a (click)="addConstraint(constraint.factory())" class="truncate">
            {{ constraint.name }}
          </a>
        </li>
      </ul>
    </div>
  </li>
  <li><hr class="my-1"></li>
  <!-- Liste der Constraints -->
  <ng-container *ngFor="let constraint of container.constraints">
    <li class="flex flex-row justify-between items-center px-4 py-2">
      <span class="w-4/5 truncate">{{ constraint.toString() }}</span>
      <div class="flex flex-row gap-2">
        <button class="btn btn-square btn-primary btn-xs" title="Edit constraint" (click)="editConstraint(constraint)">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 11l6 6M3 21h6l11-11a2.828 2.828 0 00-4-4L5 17v4z" />
          </svg>
        </button>
        <button class="btn btn-square btn-primary btn-xs" title="Delete constraint" (click)="removeConstraint(constraint)">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </li>
  </ng-container>
</ul>

